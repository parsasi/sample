import { createRequire as topLevelCreateRequire } from 'module';const require = topLevelCreateRequire(import.meta.url);
var mj=Object.create;var Sa=Object.defineProperty;var _j=Object.getOwnPropertyDescriptor;var gj=Object.getOwnPropertyNames;var hj=Object.getPrototypeOf,yj=Object.prototype.hasOwnProperty;var L=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var B=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pf=(e,t)=>{for(var r in t)Sa(e,r,{get:t[r],enumerable:!0})},pS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gj(t))!yj.call(e,o)&&o!==r&&Sa(e,o,{get:()=>t[o],enumerable:!(n=_j(t,o))||n.enumerable});return e};var fS=(e,t,r)=>(r=e!=null?mj(hj(e)):{},pS(t||!e||!e.__esModule?Sa(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>pS(Sa({},"__esModule",{value:!0}),e);var x={};Pf(x,{__addDisposableResource:()=>US,__assign:()=>Ea,__asyncDelegator:()=>AS,__asyncGenerator:()=>OS,__asyncValues:()=>IS,__await:()=>An,__awaiter:()=>bS,__classPrivateFieldGet:()=>MS,__classPrivateFieldIn:()=>FS,__classPrivateFieldSet:()=>kS,__createBinding:()=>ba,__decorate:()=>gS,__disposeResources:()=>jS,__esDecorate:()=>yS,__exportStar:()=>PS,__extends:()=>mS,__generator:()=>CS,__importDefault:()=>qS,__importStar:()=>DS,__makeTemplateObject:()=>NS,__metadata:()=>wS,__param:()=>hS,__propKey:()=>SS,__read:()=>Tf,__rest:()=>_S,__rewriteRelativeImportExtension:()=>LS,__runInitializers:()=>vS,__setFunctionName:()=>ES,__spread:()=>xS,__spreadArray:()=>TS,__spreadArrays:()=>RS,__values:()=>wa,default:()=>Ej});function mS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function _S(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function gS(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function hS(e,t){return function(r,n){t(r,n,e)}}function yS(e,t,r,n,o,s){function i(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,m=!1,f=r.length-1;f>=0;f--){var _={};for(var y in n)_[y]=y==="access"?{}:n[y];for(var y in n.access)_.access[y]=n.access[y];_.addInitializer=function(T){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(T||null))};var g=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],_);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(p=i(g.get))&&(l.get=p),(p=i(g.set))&&(l.set=p),(p=i(g.init))&&o.unshift(p)}else(p=i(g))&&(a==="field"?o.unshift(p):l[c]=p)}d&&Object.defineProperty(d,n.name,l),m=!0}function vS(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function SS(e){return typeof e=="symbol"?e:"".concat(e)}function ES(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function wS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function bS(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(p){i(p)}}function c(l){try{d(n.throw(l))}catch(p){i(p)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function CS(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function PS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ba(t,e,r)}function wa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function xS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tf(arguments[t]));return e}function RS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function TS(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function An(e){return this instanceof An?(this.v=e,this):new An(e)}function OS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(f){return function(_){return Promise.resolve(_).then(f,p)}}function a(f,_){n[f]&&(o[f]=function(y){return new Promise(function(g,T){s.push([f,y,g,T])>1||c(f,y)})},_&&(o[f]=_(o[f])))}function c(f,_){try{d(n[f](_))}catch(y){m(s[0][3],y)}}function d(f){f.value instanceof An?Promise.resolve(f.value.v).then(l,p):m(s[0][2],f)}function l(f){c("next",f)}function p(f){c("throw",f)}function m(f,_){f(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function AS(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:An(e[o](i)),done:!1}:s?s(i):i}:s}}function IS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wa=="function"?wa(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function NS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function DS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Rf(e),n=0;n<r.length;n++)r[n]!=="default"&&ba(t,e,r[n]);return vj(t,e),t}function qS(e){return e&&e.__esModule?e:{default:e}}function MS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function kS(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function FS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function US(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function jS(e){function t(s){e.error=e.hasError?new Sj(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function LS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var xf,Ea,ba,vj,Rf,Sj,Ej,R=B(()=>{xf=function(e,t){return xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},xf(e,t)};Ea=function(){return Ea=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ea.apply(this,arguments)};ba=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};vj=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Rf=function(e){return Rf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Rf(e)};Sj=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Ej={__extends:mS,__assign:Ea,__rest:_S,__decorate:gS,__param:hS,__esDecorate:yS,__runInitializers:vS,__propKey:SS,__setFunctionName:ES,__metadata:wS,__awaiter:bS,__generator:CS,__createBinding:ba,__exportStar:PS,__values:wa,__read:Tf,__spread:xS,__spreadArrays:RS,__spreadArray:TS,__await:An,__asyncGenerator:OS,__asyncDelegator:AS,__asyncValues:IS,__makeTemplateObject:NS,__importStar:DS,__importDefault:qS,__classPrivateFieldGet:MS,__classPrivateFieldSet:kS,__classPrivateFieldIn:FS,__addDisposableResource:US,__disposeResources:jS,__rewriteRelativeImportExtension:LS}});var U=u((Hde,KS)=>{var Ca=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,bj=Object.getOwnPropertyNames,Cj=Object.prototype.hasOwnProperty,Pa=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),Pj=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},xj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bj(t))!Cj.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=wj(t,o))||n.enumerable});return e},Rj=e=>xj(Ca({},"__esModule",{value:!0}),e),$S={};Pj($S,{AlgorithmId:()=>BS,EndpointURLScheme:()=>VS,FieldPosition:()=>WS,HttpApiKeyAuthLocation:()=>zS,HttpAuthLocation:()=>HS,IniSectionType:()=>GS,RequestHandlerProtocol:()=>YS,SMITHY_CONTEXT_KEY:()=>Nj,getDefaultClientConfiguration:()=>Aj,resolveDefaultRuntimeConfig:()=>Ij});KS.exports=Rj($S);var HS=(e=>(e.HEADER="header",e.QUERY="query",e))(HS||{}),zS=(e=>(e.HEADER="header",e.QUERY="query",e))(zS||{}),VS=(e=>(e.HTTP="http",e.HTTPS="https",e))(VS||{}),BS=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(BS||{}),Tj=Pa(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),Oj=Pa(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Aj=Pa(e=>({...Tj(e)}),"getDefaultClientConfiguration"),Ij=Pa(e=>({...Oj(e)}),"resolveDefaultRuntimeConfig"),WS=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(WS||{}),Nj="__smithy_context",GS=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(GS||{}),YS=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(YS||{})});var Z=u((Wde,oE)=>{var xa=Object.defineProperty,Dj=Object.getOwnPropertyDescriptor,qj=Object.getOwnPropertyNames,Mj=Object.prototype.hasOwnProperty,gr=(e,t)=>xa(e,"name",{value:t,configurable:!0}),kj=(e,t)=>{for(var r in t)xa(e,r,{get:t[r],enumerable:!0})},Fj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qj(t))!Mj.call(e,o)&&o!==r&&xa(e,o,{get:()=>t[o],enumerable:!(n=Dj(t,o))||n.enumerable});return e},Uj=e=>Fj(xa({},"__esModule",{value:!0}),e),JS={};kj(JS,{Field:()=>Hj,Fields:()=>zj,HttpRequest:()=>Vj,HttpResponse:()=>Bj,getHttpHandlerExtensionConfiguration:()=>jj,isValidHostname:()=>nE,resolveHttpHandlerRuntimeConfig:()=>Lj});oE.exports=Uj(JS);var jj=gr(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),Lj=gr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),$j=U(),XS=class{constructor({name:t,kind:r=$j.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};gr(XS,"Field");var Hj=XS,QS=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};gr(QS,"Fields");var zj=QS,ZS=class eE{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new eE({...this,headers:{...this.headers}});return t.query&&(t.query=tE(t.query)),t}};gr(ZS,"HttpRequest");var Vj=ZS;function tE(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}gr(tE,"cloneQuery");var rE=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};gr(rE,"HttpResponse");var Bj=rE;function nE(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}gr(nE,"isValidHostname")});var Ra=u(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.getHostHeaderPlugin=Je.hostHeaderMiddlewareOptions=Je.hostHeaderMiddleware=Je.resolveHostHeaderConfig=void 0;var Wj=Z();function Gj(e){return e}Je.resolveHostHeaderConfig=Gj;var Yj=e=>t=>async r=>{if(!Wj.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)};Je.hostHeaderMiddleware=Yj;Je.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var Kj=e=>({applyToStack:t=>{t.add((0,Je.hostHeaderMiddleware)(e),Je.hostHeaderMiddlewareOptions)}});Je.getHostHeaderPlugin=Kj});var sE=u(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getLoggerPlugin=Ot.loggerMiddlewareOptions=Ot.loggerMiddleware=void 0;var Jj=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:p}=d,m=l??t.inputFilterSensitiveLog,f=p??t.outputFilterSensitiveLog,{$metadata:_,...y}=s.output;return(n=c?.info)===null||n===void 0||n.call(c,{clientName:i,commandName:a,input:m(r.input),output:f(y),metadata:_}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,p=l??t.inputFilterSensitiveLog;throw(o=c?.error)===null||o===void 0||o.call(c,{clientName:i,commandName:a,input:p(r.input),error:s,metadata:s.$metadata}),s}};Ot.loggerMiddleware=Jj;Ot.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var Xj=e=>({applyToStack:t=>{t.add((0,Ot.loggerMiddleware)(),Ot.loggerMiddlewareOptions)}});Ot.getLoggerPlugin=Xj});var Ta=u(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var Qj=(R(),P(x));Qj.__exportStar(sE(),Of)});var Oa=u(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.getRecursionDetectionPlugin=At.addRecursionDetectionMiddlewareOptions=At.recursionDetectionMiddleware=void 0;var Zj=Z(),iE="X-Amzn-Trace-Id",eL="AWS_LAMBDA_FUNCTION_NAME",tL="_X_AMZN_TRACE_ID",rL=e=>t=>async r=>{let{request:n}=r;if(!Zj.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(iE))return t(r);let o=process.env[eL],s=process.env[tL],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[iE]=s),t({...r,request:n})};At.recursionDetectionMiddleware=rL;At.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var nL=e=>({applyToStack:t=>{t.add((0,At.recursionDetectionMiddleware)(e),At.addRecursionDetectionMiddlewareOptions)}});At.getRecursionDetectionPlugin=nL});var k=u((Xde,mE)=>{var Aa=Object.defineProperty,oL=Object.getOwnPropertyDescriptor,sL=Object.getOwnPropertyNames,iL=Object.prototype.hasOwnProperty,rn=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),aL=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},cL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sL(t))!iL.call(e,o)&&o!==r&&Aa(e,o,{get:()=>t[o],enumerable:!(n=oL(t,o))||n.enumerable});return e},dL=e=>cL(Aa({},"__esModule",{value:!0}),e),aE={};aL(aE,{CredentialsProviderError:()=>lL,ProviderError:()=>Ia,TokenProviderError:()=>uL,chain:()=>pL,fromStatic:()=>fL,memoize:()=>mL});mE.exports=dL(aE);var cE=class dE extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,dE.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};rn(cE,"ProviderError");var Ia=cE,lE=class uE extends Ia{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,uE.prototype)}};rn(lE,"CredentialsProviderError");var lL=lE,pE=class fE extends Ia{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,fE.prototype)}};rn(pE,"TokenProviderError");var uL=pE,pL=rn((...e)=>async()=>{if(e.length===0)throw new Ia("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),fL=rn(e=>()=>Promise.resolve(e),"fromStatic"),mL=rn((e,t,r)=>{let n,o,s,i=!1,a=rn(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var hr=u((Qde,yE)=>{var Na=Object.defineProperty,_L=Object.getOwnPropertyDescriptor,gL=Object.getOwnPropertyNames,hL=Object.prototype.hasOwnProperty,gE=(e,t)=>Na(e,"name",{value:t,configurable:!0}),yL=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},vL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gL(t))!hL.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=_L(t,o))||n.enumerable});return e},SL=e=>vL(Na({},"__esModule",{value:!0}),e),hE={};yL(hE,{getSmithyContext:()=>EL,normalizeProvider:()=>wL});yE.exports=SL(hE);var _E=U(),EL=gE(e=>e[_E.SMITHY_CONTEXT_KEY]||(e[_E.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),wL=gE(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Af=u((Zde,SE)=>{var Da=Object.defineProperty,bL=Object.getOwnPropertyDescriptor,CL=Object.getOwnPropertyNames,PL=Object.prototype.hasOwnProperty,xL=(e,t)=>Da(e,"name",{value:t,configurable:!0}),RL=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},TL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CL(t))!PL.call(e,o)&&o!==r&&Da(e,o,{get:()=>t[o],enumerable:!(n=bL(t,o))||n.enumerable});return e},OL=e=>TL(Da({},"__esModule",{value:!0}),e),vE={};RL(vE,{isArrayBuffer:()=>AL});SE.exports=OL(vE);var AL=xL(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var In=u((ele,bE)=>{var qa=Object.defineProperty,IL=Object.getOwnPropertyDescriptor,NL=Object.getOwnPropertyNames,DL=Object.prototype.hasOwnProperty,EE=(e,t)=>qa(e,"name",{value:t,configurable:!0}),qL=(e,t)=>{for(var r in t)qa(e,r,{get:t[r],enumerable:!0})},ML=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NL(t))!DL.call(e,o)&&o!==r&&qa(e,o,{get:()=>t[o],enumerable:!(n=IL(t,o))||n.enumerable});return e},kL=e=>ML(qa({},"__esModule",{value:!0}),e),wE={};qL(wE,{fromArrayBuffer:()=>UL,fromString:()=>jL});bE.exports=kL(wE);var FL=Af(),If=L("buffer"),UL=EE((e,t=0,r=e.byteLength-t)=>{if(!(0,FL.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return If.Buffer.from(e,t,r)},"fromArrayBuffer"),jL=EE((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?If.Buffer.from(e,t):If.Buffer.from(e)},"fromString")});var qe=u((tle,RE)=>{var Ma=Object.defineProperty,LL=Object.getOwnPropertyDescriptor,$L=Object.getOwnPropertyNames,HL=Object.prototype.hasOwnProperty,Nf=(e,t)=>Ma(e,"name",{value:t,configurable:!0}),zL=(e,t)=>{for(var r in t)Ma(e,r,{get:t[r],enumerable:!0})},VL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $L(t))!HL.call(e,o)&&o!==r&&Ma(e,o,{get:()=>t[o],enumerable:!(n=LL(t,o))||n.enumerable});return e},BL=e=>VL(Ma({},"__esModule",{value:!0}),e),CE={};zL(CE,{fromUtf8:()=>xE,toUint8Array:()=>WL,toUtf8:()=>GL});RE.exports=BL(CE);var PE=In(),xE=Nf(e=>{let t=(0,PE.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),WL=Nf(e=>typeof e=="string"?xE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),GL=Nf(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,PE.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var qE=u((rle,DE)=>{var ka=Object.defineProperty,YL=Object.getOwnPropertyDescriptor,KL=Object.getOwnPropertyNames,JL=Object.prototype.hasOwnProperty,TE=(e,t)=>ka(e,"name",{value:t,configurable:!0}),XL=(e,t)=>{for(var r in t)ka(e,r,{get:t[r],enumerable:!0})},QL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KL(t))!JL.call(e,o)&&o!==r&&ka(e,o,{get:()=>t[o],enumerable:!(n=YL(t,o))||n.enumerable});return e},ZL=e=>QL(ka({},"__esModule",{value:!0}),e),OE={};XL(OE,{fromHex:()=>IE,toHex:()=>NE});DE.exports=ZL(OE);var AE={},Df={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),AE[e]=t,Df[t]=e}function IE(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Df)t[r/2]=Df[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}TE(IE,"fromHex");function NE(e){let t="";for(let r=0;r<e.byteLength;r++)t+=AE[e[r]];return t}TE(NE,"toHex")});var Mf=u((nle,FE)=>{var Fa=Object.defineProperty,e$=Object.getOwnPropertyDescriptor,t$=Object.getOwnPropertyNames,r$=Object.prototype.hasOwnProperty,qf=(e,t)=>Fa(e,"name",{value:t,configurable:!0}),n$=(e,t)=>{for(var r in t)Fa(e,r,{get:t[r],enumerable:!0})},o$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t$(t))!r$.call(e,o)&&o!==r&&Fa(e,o,{get:()=>t[o],enumerable:!(n=e$(t,o))||n.enumerable});return e},s$=e=>o$(Fa({},"__esModule",{value:!0}),e),ME={};n$(ME,{escapeUri:()=>kE,escapeUriPath:()=>a$});FE.exports=s$(ME);var kE=qf(e=>encodeURIComponent(e).replace(/[!'()*]/g,i$),"escapeUri"),i$=qf(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),a$=qf(e=>e.split("/").map(kE).join("/"),"escapeUriPath")});var za=u((ile,nw)=>{var Ha=Object.defineProperty,c$=Object.getOwnPropertyDescriptor,d$=Object.getOwnPropertyNames,l$=Object.prototype.hasOwnProperty,de=(e,t)=>Ha(e,"name",{value:t,configurable:!0}),u$=(e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},p$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d$(t))!l$.call(e,o)&&o!==r&&Ha(e,o,{get:()=>t[o],enumerable:!(n=c$(t,o))||n.enumerable});return e},f$=e=>p$(Ha({},"__esModule",{value:!0}),e),HE={};u$(HE,{SignatureV4:()=>L$,clearCredentialCache:()=>A$,createScope:()=>La,getCanonicalHeaders:()=>jf,getCanonicalQuery:()=>JE,getPayloadHash:()=>$a,getSigningKey:()=>KE,moveHeadersToQuery:()=>tw,prepareRequest:()=>$f});nw.exports=f$(HE);var UE=hr(),kf=qe(),m$="X-Amz-Algorithm",_$="X-Amz-Credential",zE="X-Amz-Date",g$="X-Amz-SignedHeaders",h$="X-Amz-Expires",VE="X-Amz-Signature",BE="X-Amz-Security-Token",WE="authorization",GE=zE.toLowerCase(),y$="date",v$=[WE,GE,y$],S$=VE.toLowerCase(),Uf="x-amz-content-sha256",E$=BE.toLowerCase(),w$={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b$=/^proxy-/,C$=/^sec-/,Ff="AWS4-HMAC-SHA256",P$="AWS4-HMAC-SHA256-PAYLOAD",x$="UNSIGNED-PAYLOAD",R$=50,YE="aws4_request",T$=60*60*24*7,yr=qE(),O$=qe(),Nn={},ja=[],La=de((e,t,r)=>`${e}/${t}/${r}/${YE}`,"createScope"),KE=de(async(e,t,r,n,o)=>{let s=await jE(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,yr.toHex)(s)}:${t.sessionToken}`;if(i in Nn)return Nn[i];for(ja.push(i);ja.length>R$;)delete Nn[ja.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,YE])a=await jE(e,a,c);return Nn[i]=a},"getSigningKey"),A$=de(()=>{ja.length=0,Object.keys(Nn).forEach(e=>{delete Nn[e]})},"clearCredentialCache"),jE=de((e,t,r)=>{let n=new e(t);return n.update((0,O$.toUint8Array)(r)),n.digest()},"hmac"),jf=de(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in w$||t?.has(s)||b$.test(s)||C$.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),qs=Mf(),JE=de(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===S$)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,qs.escapeUri)(n)}=${(0,qs.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((s,i)=>s.concat([`${(0,qs.escapeUri)(n)}=${(0,qs.escapeUri)(i)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),I$=Af(),N$=qe(),$a=de(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Uf)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,I$.isArrayBuffer)(t)){let n=new r;return n.update((0,N$.toUint8Array)(t)),(0,yr.toHex)(await n.digest())}return x$},"getPayloadHash"),LE=qe(),XE=class{format(t){let r=[];for(let s of Object.keys(t)){let i=(0,LE.fromUtf8)(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=(0,LE.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(M$.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!q$.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,yr.fromHex)(t.value.replace(/\-/g,"")),1),p}}};de(XE,"HeaderFormatter");var D$=XE,q$=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,QE=class ZE{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Lf(r),new ZE(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Lf(t),parseInt((0,yr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};de(QE,"Int64");var M$=QE;function Lf(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}de(Lf,"negate");var k$=de((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),ew=de(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?F$(t):void 0}),"cloneRequest"),F$=de(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),tw=de((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():ew(e);for(let s of Object.keys(n)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(i))&&(o[s]=n[s],delete n[s])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),$f=de(e=>{e=typeof e.clone=="function"?e.clone():ew(e);for(let t of Object.keys(e.headers))v$.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),U$=de(e=>j$(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),j$=de(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),rw=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.headerFormatter=new D$,this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,UE.normalizeProvider)(n),this.credentialProvider=(0,UE.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let p=c??await this.regionProvider(),{longDate:m,shortDate:f}=Ua(n);if(o>T$)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=La(f,p,d??this.service),y=tw($f(t),{unhoistableHeaders:i});l.sessionToken&&(y.query[BE]=l.sessionToken),y.query[m$]=Ff,y.query[_$]=`${l.accessKeyId}/${_}`,y.query[zE]=m,y.query[h$]=o.toString(10);let g=jf(y,s,a);return y.query[g$]=$E(g),y.query[VE]=await this.getSignature(m,_,this.getSigningKey(l,p,f,d),this.createCanonicalRequest(y,g,await $a(t,this.sha256))),y}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=Ua(n),l=La(c,a,i??this.service),p=await $a({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let f=(0,yr.toHex)(await m.digest()),_=[P$,d,l,o,f,p].join(`
`);return this.signString(_,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=Ua(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update((0,kf.toUint8Array)(t)),(0,yr.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=$f(t),{longDate:l,shortDate:p}=Ua(r),m=La(p,c,i??this.service);d.headers[GE]=l,a.sessionToken&&(d.headers[E$]=a.sessionToken);let f=await $a(d,this.sha256);!k$(Uf,d.headers)&&this.applyChecksum&&(d.headers[Uf]=f);let _=jf(d,o,n),y=await this.getSignature(l,m,this.getSigningKey(a,c,p,i),this.createCanonicalRequest(d,_,f));return d.headers[WE]=`${Ff} Credential=${a.accessKeyId}/${m}, SignedHeaders=${$E(_)}, Signature=${y}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${JE(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,kf.toUint8Array)(n));let s=await o.digest();return`${Ff}
${t}
${r}
${(0,yr.toHex)(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,qs.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update((0,kf.toUint8Array)(s)),(0,yr.toHex)(await i.digest())}getSigningKey(t,r,n,o){return KE(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};de(rw,"SignatureV4");var L$=rw,Ua=de(e=>{let t=U$(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),$E=de(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var sw=u(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.resolveSigV4AuthConfig=qn.resolveAwsAuthConfig=void 0;var $$=k(),Hf=za(),Dn=hr(),H$=3e5,z$=e=>{let t=e.credentials?ow(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,Dn.normalizeProvider)(e.signer):e.regionInfoProvider?s=()=>(0,Dn.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||Hf.SignatureV4;return new p(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Dn.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||Hf.SignatureV4;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};qn.resolveAwsAuthConfig=z$;var V$=e=>{let t=e.credentials?ow(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,Dn.normalizeProvider)(e.signer):s=(0,Dn.normalizeProvider)(new Hf.SignatureV4({credentials:t,region:e.region,service:e.signingName,sha256:o,uriEscapePath:r})),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};qn.resolveSigV4AuthConfig=V$;var ow=e=>typeof e=="function"?(0,$$.memoize)(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<H$,t=>t.expiration!==void 0):(0,Dn.normalizeProvider)(e)});var zf=u(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.getSkewCorrectedDate=void 0;var B$=e=>new Date(Date.now()+e);Va.getSkewCorrectedDate=B$});var iw=u(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.isClockSkewed=void 0;var W$=zf(),G$=(e,t)=>Math.abs((0,W$.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Ba.isClockSkewed=G$});var aw=u(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.getUpdatedSystemClockOffset=void 0;var Y$=iw(),K$=(e,t)=>{let r=Date.parse(e);return(0,Y$.isClockSkewed)(r,t)?r-Date.now():t};Wa.getUpdatedSystemClockOffset=K$});var uw=u($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.getSigV4AuthPlugin=$e.getAwsAuthPlugin=$e.awsAuthMiddlewareOptions=$e.awsAuthMiddleware=void 0;var lw=Z(),J$=zf(),cw=aw(),X$=e=>(t,r)=>async function(n){var o,s,i,a;if(!lw.HttpRequest.isInstance(n.request))return t(n);let c=(i=(s=(o=r.endpointV2)===null||o===void 0?void 0:o.properties)===null||s===void 0?void 0:s.authSchemes)===null||i===void 0?void 0:i[0],d=c?.name==="sigv4a"?(a=c?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,l=await e.signer(c),p,m={signingDate:(0,J$.getSkewCorrectedDate)(e.systemClockOffset),signingRegion:d||r.signing_region,signingService:r.signing_service};if(r.s3ExpressIdentity){if(p=await l.signWithCredentials(n.request,r.s3ExpressIdentity,m),p.headers["X-Amz-Security-Token"]||p.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else p=await l.sign(n.request,m);let f=await t({...n,request:p}).catch(y=>{var g;let T=(g=y.ServerTime)!==null&&g!==void 0?g:dw(y.$response);throw T&&(e.systemClockOffset=(0,cw.getUpdatedSystemClockOffset)(T,e.systemClockOffset)),y}),_=dw(f.response);return _&&(e.systemClockOffset=(0,cw.getUpdatedSystemClockOffset)(_,e.systemClockOffset)),f};$e.awsAuthMiddleware=X$;var dw=e=>{var t,r,n;return lw.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};$e.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var Q$=e=>({applyToStack:t=>{t.addRelativeTo((0,$e.awsAuthMiddleware)(e),$e.awsAuthMiddlewareOptions)}});$e.getAwsAuthPlugin=Q$;$e.getSigV4AuthPlugin=$e.getAwsAuthPlugin});var fw=u(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var pw=(R(),P(x));pw.__exportStar(sw(),Ga);pw.__exportStar(uw(),Ga)});var mw=u(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.resolveUserAgentConfig=void 0;function Z$(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Ya.resolveUserAgentConfig=Z$});var ve=u((_le,Cw)=>{var Ka=Object.defineProperty,eH=Object.getOwnPropertyDescriptor,tH=Object.getOwnPropertyNames,rH=Object.prototype.hasOwnProperty,K=(e,t)=>Ka(e,"name",{value:t,configurable:!0}),nH=(e,t)=>{for(var r in t)Ka(e,r,{get:t[r],enumerable:!0})},oH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tH(t))!rH.call(e,o)&&o!==r&&Ka(e,o,{get:()=>t[o],enumerable:!(n=eH(t,o))||n.enumerable});return e},sH=e=>oH(Ka({},"__esModule",{value:!0}),e),_w={};nH(_w,{EndpointError:()=>Me,customEndpointFunctions:()=>Bf,isIpAddress:()=>gw,isValidHostLabel:()=>Gf,resolveEndpoint:()=>CH});Cw.exports=sH(_w);var iH=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),gw=K(e=>iH.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),aH=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Gf=K((e,t=!1)=>{if(!t)return aH.test(e);let r=e.split(".");for(let n of r)if(!Gf(n))return!1;return!0},"isValidHostLabel"),Bf={},Ms="endpoints";function Yt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Yt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Yt).join(", ")})`:JSON.stringify(e,null,2)}K(Yt,"toDebugString");var hw=class extends Error{constructor(t){super(t),this.name="EndpointError"}};K(hw,"EndpointError");var Me=hw,cH=K((e,t)=>e===t,"booleanEquals"),dH=K(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Me(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Me(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),yw=K((e,t)=>dH(t).reduce((r,n)=>{if(typeof r!="object")throw new Me(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),lH=K(e=>e!=null,"isSet"),uH=K(e=>!e,"not"),Wf=U(),Vf={[Wf.EndpointURLScheme.HTTP]:80,[Wf.EndpointURLScheme.HTTPS]:443},pH=K(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:f,protocol:_="",path:y="",query:g={}}=e,T=new URL(`${_}//${m}${f?`:${f}`:""}${y}`);return T.search=Object.entries(g).map(([N,ye])=>`${N}=${ye}`).join("&"),T}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Wf.EndpointURLScheme).includes(c))return null;let d=gw(o),l=r.includes(`${n}:${Vf[c]}`)||typeof e=="string"&&e.includes(`${n}:${Vf[c]}`),p=`${n}${l?`:${Vf[c]}`:""}`;return{scheme:c,authority:p,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}},"parseURL"),fH=K((e,t)=>e===t,"stringEquals"),mH=K((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),_H=K(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),gH={booleanEquals:cH,getAttr:yw,isSet:lH,isValidHostLabel:Gf,not:uH,parseURL:pH,stringEquals:fH,substring:mH,uriEncode:_H},vw=K((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(yw(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),hH=K(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Ja=K((e,t,r)=>{if(typeof e=="string")return vw(e,r);if(e.fn)return Sw(e,r);if(e.ref)return hH(e,r);throw new Me(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),Sw=K(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Ja(s,"arg",r)),o=e.split(".");return o[0]in Bf&&o[1]!=null?Bf[o[0]][o[1]](...n):gH[e](...n)},"callFunction"),yH=K(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new Me(`'${e}' is already defined in Reference Record.`);let s=Sw(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,Ms,`evaluateCondition: ${Yt(t)} = ${Yt(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},"evaluateCondition"),Yf=K((e=[],t)=>{var r,n;let o={};for(let s of e){let{result:i,toAssign:a}=yH(s,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!i)return{result:i};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,Ms,`assign: ${a.name} := ${Yt(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),vH=K((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Ja(s,"Header value entry",t);if(typeof i!="string")throw new Me(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),Ew=K((e,t)=>{if(Array.isArray(e))return e.map(r=>Ew(r,t));switch(typeof e){case"string":return vw(e,t);case"object":if(e===null)throw new Me(`Unexpected endpoint property: ${e}`);return ww(e,t);case"boolean":return e;default:throw new Me(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),ww=K((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Ew(o,t)}),{}),"getEndpointProperties"),SH=K((e,t)=>{let r=Ja(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Me(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),EH=K((e,t)=>{var r,n;let{conditions:o,endpoint:s}=e,{result:i,referenceRecord:a}=Yf(o,t);if(!i)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:d,properties:l,headers:p}=s;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,Ms,`Resolving endpoint from template: ${Yt(s)}`),{...p!=null&&{headers:vH(p,c)},...l!=null&&{properties:ww(l,c)},url:SH(d,c)}},"evaluateEndpointRule"),wH=K((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Yf(r,t);if(o)throw new Me(Ja(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),bH=K((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Yf(r,t);if(o)return bw(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),bw=K((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=EH(r,t);if(n)return n}else if(r.type==="error")wH(r,t);else if(r.type==="tree"){let n=bH(r,t);if(n)return n}else throw new Me(`Unknown endpoint rule: ${r}`);throw new Me("Rules evaluation failed")},"evaluateRules"),CH=K((e,t)=>{var r,n,o,s,i;let{endpointParams:a,logger:c}=t,{parameters:d,rules:l}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Ms} Initial EndpointParams: ${Yt(a)}`);let p=Object.entries(d).filter(([,_])=>_.default!=null).map(([_,y])=>[_,y.default]);if(p.length>0)for(let[_,y]of p)a[_]=a[_]??y;let m=Object.entries(d).filter(([,_])=>_.required).map(([_])=>_);for(let _ of m)if(a[_]==null)throw new Me(`Missing required parameter: '${_}'`);let f=bw(l,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let _=new URL(t.endpointParams.Endpoint),{protocol:y,port:g}=_;f.url.protocol=y,f.url.port=g}catch{}return(i=(s=t.logger)==null?void 0:s.debug)==null||i.call(s,`${Ms} Resolved endpoint: ${Yt(f)}`),f},"resolveEndpoint")});var Kf=u(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.isIpAddress=void 0;var PH=ve();Object.defineProperty(Xa,"isIpAddress",{enumerable:!0,get:function(){return PH.isIpAddress}})});var Pw=u(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.isVirtualHostableS3Bucket=void 0;var xH=ve(),RH=Kf(),TH=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,ks.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,xH.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,RH.isIpAddress)(e))};ks.isVirtualHostableS3Bucket=TH});var xw=u(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.parseArn=void 0;var OH=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};Qa.parseArn=OH});var Rw=u((vle,AH)=>{AH.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var Jf=u(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.getUserAgentPrefix=vt.useDefaultPartitionInfo=vt.setPartitionInfo=vt.partition=void 0;var IH=(R(),P(x)),Tw=IH.__importDefault(Rw()),Ow=Tw.default,Aw="",NH=e=>{let{partitions:t}=Ow;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};vt.partition=NH;var DH=(e,t="")=>{Ow=e,Aw=t};vt.setPartitionInfo=DH;var qH=()=>{(0,vt.setPartitionInfo)(Tw.default,"")};vt.useDefaultPartitionInfo=qH;var MH=()=>Aw;vt.getUserAgentPrefix=MH});var Nw=u(Iw=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});var kH=ve(),FH=Pw(),UH=xw(),jH=Jf(),LH={isVirtualHostableS3Bucket:FH.isVirtualHostableS3Bucket,parseArn:UH.parseArn,partition:jH.partition};kH.customEndpointFunctions.aws=LH});var Dw=u(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.resolveEndpoint=void 0;var $H=ve();Object.defineProperty(Za,"resolveEndpoint",{enumerable:!0,get:function(){return $H.resolveEndpoint}})});var qw=u(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.EndpointError=void 0;var HH=ve();Object.defineProperty(ec,"EndpointError",{enumerable:!0,get:function(){return HH.EndpointError}})});var kw=u(Mw=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0})});var Uw=u(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0})});var Lw=u(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0})});var Hw=u($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0})});var Vw=u(zw=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0})});var Bw=u(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});var Mn=(R(),P(x));Mn.__exportStar(qw(),vr);Mn.__exportStar(kw(),vr);Mn.__exportStar(Uw(),vr);Mn.__exportStar(Lw(),vr);Mn.__exportStar(Hw(),vr);Mn.__exportStar(Vw(),vr)});var tc=u(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var Fs=(R(),P(x));Fs.__exportStar(Nw(),nn);Fs.__exportStar(Jf(),nn);Fs.__exportStar(Kf(),nn);Fs.__exportStar(Dw(),nn);Fs.__exportStar(Bw(),nn)});var Ww=u(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.UA_ESCAPE_CHAR=Ce.UA_VALUE_ESCAPE_REGEX=Ce.UA_NAME_ESCAPE_REGEX=Ce.UA_NAME_SEPARATOR=Ce.SPACE=Ce.X_AMZ_USER_AGENT=Ce.USER_AGENT=void 0;Ce.USER_AGENT="user-agent";Ce.X_AMZ_USER_AGENT="x-amz-user-agent";Ce.SPACE=" ";Ce.UA_NAME_SEPARATOR="/";Ce.UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;Ce.UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;Ce.UA_ESCAPE_CHAR="-"});var Gw=u(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.getUserAgentPlugin=It.getUserAgentMiddlewareOptions=It.userAgentMiddleware=void 0;var zH=tc(),VH=Z(),ke=Ww(),BH=e=>(t,r)=>async n=>{var o,s;let{request:i}=n;if(!VH.HttpRequest.isInstance(i))return t(n);let{headers:a}=i,c=((o=r?.userAgent)===null||o===void 0?void 0:o.map(Xf))||[],d=(await e.defaultUserAgentProvider()).map(Xf),l=((s=e?.customUserAgent)===null||s===void 0?void 0:s.map(Xf))||[],p=(0,zH.getUserAgentPrefix)(),m=(p?[p]:[]).concat([...d,...c,...l]).join(ke.SPACE),f=[...d.filter(_=>_.startsWith("aws-sdk-")),...l].join(ke.SPACE);return e.runtime!=="browser"?(f&&(a[ke.X_AMZ_USER_AGENT]=a[ke.X_AMZ_USER_AGENT]?`${a[ke.USER_AGENT]} ${f}`:f),a[ke.USER_AGENT]=m):a[ke.X_AMZ_USER_AGENT]=m,t({...n,request:i})};It.userAgentMiddleware=BH;var Xf=e=>{var t;let r=e[0].split(ke.UA_NAME_SEPARATOR).map(a=>a.replace(ke.UA_NAME_ESCAPE_REGEX,ke.UA_ESCAPE_CHAR)).join(ke.UA_NAME_SEPARATOR),n=(t=e[1])===null||t===void 0?void 0:t.replace(ke.UA_VALUE_ESCAPE_REGEX,ke.UA_ESCAPE_CHAR),o=r.indexOf(ke.UA_NAME_SEPARATOR),s=r.substring(0,o),i=r.substring(o+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")};It.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var WH=e=>({applyToStack:t=>{t.add((0,It.userAgentMiddleware)(e),It.getUserAgentMiddlewareOptions)}});It.getUserAgentPlugin=WH});var nc=u(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var Yw=(R(),P(x));Yw.__exportStar(mw(),rc);Yw.__exportStar(Gw(),rc)});var Zw=u((qle,Qw)=>{var oc=Object.defineProperty,GH=Object.getOwnPropertyDescriptor,YH=Object.getOwnPropertyNames,KH=Object.prototype.hasOwnProperty,Kw=(e,t)=>oc(e,"name",{value:t,configurable:!0}),JH=(e,t)=>{for(var r in t)oc(e,r,{get:t[r],enumerable:!0})},XH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YH(t))!KH.call(e,o)&&o!==r&&oc(e,o,{get:()=>t[o],enumerable:!(n=GH(t,o))||n.enumerable});return e},QH=e=>XH(oc({},"__esModule",{value:!0}),e),Jw={};JH(Jw,{SelectorType:()=>Xw,booleanSelector:()=>ZH,numberSelector:()=>e2});Qw.exports=QH(Jw);var ZH=Kw((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),e2=Kw((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),Xw=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(Xw||{})});var Fe=u((Mle,l0)=>{var ic=Object.defineProperty,t2=Object.getOwnPropertyDescriptor,r2=Object.getOwnPropertyNames,n2=Object.prototype.hasOwnProperty,St=(e,t)=>ic(e,"name",{value:t,configurable:!0}),o2=(e,t)=>{for(var r in t)ic(e,r,{get:t[r],enumerable:!0})},s2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r2(t))!n2.call(e,o)&&o!==r&&ic(e,o,{get:()=>t[o],enumerable:!(n=t2(t,o))||n.enumerable});return e},i2=e=>s2(ic({},"__esModule",{value:!0}),e),r0={};o2(r0,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>o0,CONFIG_USE_FIPS_ENDPOINT:()=>i0,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>a2,DEFAULT_USE_FIPS_ENDPOINT:()=>d2,ENV_USE_DUALSTACK_ENDPOINT:()=>n0,ENV_USE_FIPS_ENDPOINT:()=>s0,NODE_REGION_CONFIG_FILE_OPTIONS:()=>_2,NODE_REGION_CONFIG_OPTIONS:()=>m2,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>c2,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>l2,REGION_ENV_NAME:()=>a0,REGION_INI_NAME:()=>c0,getRegionInfo:()=>S2,resolveCustomEndpointsConfig:()=>u2,resolveEndpointsConfig:()=>f2,resolveRegionConfig:()=>g2});l0.exports=i2(r0);var Sr=Zw(),n0="AWS_USE_DUALSTACK_ENDPOINT",o0="use_dualstack_endpoint",a2=!1,c2={environmentVariableSelector:e=>(0,Sr.booleanSelector)(e,n0,Sr.SelectorType.ENV),configFileSelector:e=>(0,Sr.booleanSelector)(e,o0,Sr.SelectorType.CONFIG),default:!1},s0="AWS_USE_FIPS_ENDPOINT",i0="use_fips_endpoint",d2=!1,l2={environmentVariableSelector:e=>(0,Sr.booleanSelector)(e,s0,Sr.SelectorType.ENV),configFileSelector:e=>(0,Sr.booleanSelector)(e,i0,Sr.SelectorType.CONFIG),default:!1},sc=hr(),u2=St(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,sc.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,sc.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),p2=St(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),f2=St(e=>{let t=(0,sc.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,sc.normalizeProvider)(typeof r=="string"?o(r):r):()=>p2({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),a0="AWS_REGION",c0="region",m2={environmentVariableSelector:e=>e[a0],configFileSelector:e=>e[c0],default:()=>{throw new Error("Region is missing")}},_2={preferredFile:"credentials"},d0=St(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),e0=St(e=>d0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),g2=St(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return e0(t);let n=await t();return e0(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return d0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),t0=St((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),h2=St((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),y2=St((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),v2=St((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),S2=St((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{var i,a,c,d,l;let p=y2(e,{partitionHash:s}),m=e in o?e:((i=s[p])==null?void 0:i.endpoint)??e,f={useFipsEndpoint:t,useDualstackEndpoint:r},_=t0((a=o[m])==null?void 0:a.variants,f),y=t0((c=s[p])==null?void 0:c.variants,f),g=h2(m,{regionHostname:_,partitionHostname:y});if(g===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:m,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let T=v2(g,{signingRegion:(d=o[m])==null?void 0:d.signingRegion,regionRegex:s[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:g,...T&&{signingRegion:T},...((l=o[m])==null?void 0:l.signingService)&&{signingService:o[m].signingService}}},"getRegionInfo")});var on=u((kle,_0)=>{var ac=Object.defineProperty,E2=Object.getOwnPropertyDescriptor,w2=Object.getOwnPropertyNames,b2=Object.prototype.hasOwnProperty,p0=(e,t)=>ac(e,"name",{value:t,configurable:!0}),C2=(e,t)=>{for(var r in t)ac(e,r,{get:t[r],enumerable:!0})},P2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w2(t))!b2.call(e,o)&&o!==r&&ac(e,o,{get:()=>t[o],enumerable:!(n=E2(t,o))||n.enumerable});return e},x2=e=>P2(ac({},"__esModule",{value:!0}),e),f0={};C2(f0,{contentLengthMiddleware:()=>Qf,contentLengthMiddlewareOptions:()=>m0,getContentLengthPlugin:()=>T2});_0.exports=x2(f0);var R2=Z(),u0="content-length";function Qf(e){return t=>async r=>{let n=r.request;if(R2.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(u0)===-1)try{let i=e(o);n.headers={...n.headers,[u0]:String(i)}}catch{}}return t({...r,request:n})}}p0(Qf,"contentLengthMiddleware");var m0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},T2=p0(e=>({applyToStack:t=>{t.add(Qf(e.bodyLengthChecker),m0)}}),"getContentLengthPlugin")});var Us=u(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.getHomeDir=void 0;var O2=L("os"),A2=L("path"),Zf={},I2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",N2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${A2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=I2();return Zf[o]||(Zf[o]=(0,O2.homedir)()),Zf[o]};cc.getHomeDir=N2});var em=u(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getSSOTokenFilepath=void 0;var D2=L("crypto"),q2=L("path"),M2=Us(),k2=e=>{let r=(0,D2.createHash)("sha1").update(e).digest("hex");return(0,q2.join)((0,M2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};dc.getSSOTokenFilepath=k2});var g0=u(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.getSSOTokenFromFile=void 0;var F2=L("fs"),U2=em(),{readFile:j2}=F2.promises,L2=async e=>{let t=(0,U2.getSSOTokenFilepath)(e),r=await j2(t,"utf8");return JSON.parse(r)};lc.getSSOTokenFromFile=L2});var rm=u(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.slurpFile=void 0;var $2=L("fs"),{readFile:H2}=$2.promises,tm={},z2=(e,t)=>((!tm[e]||t?.ignoreCache)&&(tm[e]=H2(e,"utf8")),tm[e]);uc.slurpFile=z2});var me=u(($le,Ls)=>{var fc=Object.defineProperty,V2=Object.getOwnPropertyDescriptor,B2=Object.getOwnPropertyNames,W2=Object.prototype.hasOwnProperty,Xe=(e,t)=>fc(e,"name",{value:t,configurable:!0}),G2=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},nm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B2(t))!W2.call(e,o)&&o!==r&&fc(e,o,{get:()=>t[o],enumerable:!(n=V2(t,o))||n.enumerable});return e},sm=(e,t,r)=>(nm(e,t,"default"),r&&nm(r,t,"default")),Y2=e=>nm(fc({},"__esModule",{value:!0}),e),js={};G2(js,{CONFIG_PREFIX_SEPARATOR:()=>sn,DEFAULT_PROFILE:()=>S0,ENV_PROFILE:()=>v0,getProfileName:()=>K2,loadSharedConfigFiles:()=>b0,loadSsoSessionData:()=>a3,parseKnownFiles:()=>d3});Ls.exports=Y2(js);sm(js,Us(),Ls.exports);var v0="AWS_PROFILE",S0="default",K2=Xe(e=>e.profile||process.env[v0]||S0,"getProfileName");sm(js,em(),Ls.exports);sm(js,g0(),Ls.exports);var pc=U(),J2=Xe(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(sn);return r===-1?!1:Object.values(pc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(sn),s=r.substring(0,o)===pc.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),E0=L("path"),X2=Us(),Q2="AWS_CONFIG_FILE",w0=Xe(()=>process.env[Q2]||(0,E0.join)((0,X2.getHomeDir)(),".aws","config"),"getConfigFilepath"),Z2=Us(),e3="AWS_SHARED_CREDENTIALS_FILE",t3=Xe(()=>process.env[e3]||(0,E0.join)((0,Z2.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),r3=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,n3=["__proto__","profile __proto__"],om=Xe(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=r3.exec(a);if(c){let[,d,,l]=c;Object.values(pc.IniSectionType).includes(d)&&(r=[d,l].join(sn))}else r=a;if(n3.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let l=n?[n,c].join(sn):c;t[r][l]=d}}}}return t},"parseIni"),h0=rm(),y0=Xe(()=>({}),"swallowError"),sn=".",b0=Xe(async(e={})=>{let{filepath:t=t3(),configFilepath:r=w0()}=e,n=await Promise.all([(0,h0.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(om).then(J2).catch(y0),(0,h0.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(om).catch(y0)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),o3=Xe(e=>Object.entries(e).filter(([t])=>t.startsWith(pc.IniSectionType.SSO_SESSION+sn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(sn)+1)]:n}),{}),"getSsoSessionData"),s3=rm(),i3=Xe(()=>({}),"swallowError"),a3=Xe(async(e={})=>(0,s3.slurpFile)(e.configFilepath??w0()).then(om).then(o3).catch(i3),"loadSsoSessionData"),c3=Xe((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),d3=Xe(async e=>{let t=await b0(e);return c3(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Qe=u((Hle,x0)=>{var mc=Object.defineProperty,l3=Object.getOwnPropertyDescriptor,u3=Object.getOwnPropertyNames,p3=Object.prototype.hasOwnProperty,Hs=(e,t)=>mc(e,"name",{value:t,configurable:!0}),f3=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},m3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u3(t))!p3.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=l3(t,o))||n.enumerable});return e},_3=e=>m3(mc({},"__esModule",{value:!0}),e),P0={};f3(P0,{loadConfig:()=>S3});x0.exports=_3(P0);var $s=k(),g3=Hs(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new $s.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),C0=me(),h3=Hs((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,C0.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,C0.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let l=e(c,t==="config"?o:s);if(l===void 0)throw new Error;return l}catch(d){throw new $s.CredentialsProviderError(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),y3=Hs(e=>typeof e=="function","isFunction"),v3=Hs(e=>y3(e)?async()=>await e():(0,$s.fromStatic)(e),"fromStatic"),S3=Hs(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,$s.memoize)((0,$s.chain)(g3(e),h3(t,n),v3(r))),"loadConfig")});var A0=u(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.getEndpointUrlConfig=void 0;var R0=me(),T0="AWS_ENDPOINT_URL",O0="endpoint_url",E3=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[T0,...r].join("_")];if(n)return n;let o=t[T0];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(R0.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),O0].join(R0.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[O0];if(n)return n},default:void 0});_c.getEndpointUrlConfig=E3});var I0=u(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.getEndpointFromConfig=void 0;var w3=Qe(),b3=A0(),C3=async e=>(0,w3.loadConfig)((0,b3.getEndpointUrlConfig)(e))();gc.getEndpointFromConfig=C3});var M0=u((Ble,q0)=>{var hc=Object.defineProperty,P3=Object.getOwnPropertyDescriptor,x3=Object.getOwnPropertyNames,R3=Object.prototype.hasOwnProperty,T3=(e,t)=>hc(e,"name",{value:t,configurable:!0}),O3=(e,t)=>{for(var r in t)hc(e,r,{get:t[r],enumerable:!0})},A3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x3(t))!R3.call(e,o)&&o!==r&&hc(e,o,{get:()=>t[o],enumerable:!(n=P3(t,o))||n.enumerable});return e},I3=e=>A3(hc({},"__esModule",{value:!0}),e),N0={};O3(N0,{parseQueryString:()=>D0});q0.exports=I3(N0);function D0(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}T3(D0,"parseQueryString")});var Kt=u((Wle,U0)=>{var yc=Object.defineProperty,N3=Object.getOwnPropertyDescriptor,D3=Object.getOwnPropertyNames,q3=Object.prototype.hasOwnProperty,M3=(e,t)=>yc(e,"name",{value:t,configurable:!0}),k3=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},F3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D3(t))!q3.call(e,o)&&o!==r&&yc(e,o,{get:()=>t[o],enumerable:!(n=N3(t,o))||n.enumerable});return e},U3=e=>F3(yc({},"__esModule",{value:!0}),e),k0={};k3(k0,{parseUrl:()=>F0});U0.exports=U3(k0);var j3=M0(),F0=M3(e=>{if(typeof e=="string")return F0(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,j3.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Y=u((Gle,B0)=>{var vc=Object.defineProperty,L3=Object.getOwnPropertyDescriptor,$3=Object.getOwnPropertyNames,H3=Object.prototype.hasOwnProperty,im=(e,t)=>vc(e,"name",{value:t,configurable:!0}),z3=(e,t)=>{for(var r in t)vc(e,r,{get:t[r],enumerable:!0})},V3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $3(t))!H3.call(e,o)&&o!==r&&vc(e,o,{get:()=>t[o],enumerable:!(n=L3(t,o))||n.enumerable});return e},B3=e=>V3(vc({},"__esModule",{value:!0}),e),j0={};z3(j0,{deserializerMiddleware:()=>L0,deserializerMiddlewareOption:()=>H0,getSerdePlugin:()=>V0,serializerMiddleware:()=>$0,serializerMiddlewareOption:()=>z0});B0.exports=B3(j0);var L0=im((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),$0=im((e,t)=>(r,n)=>async o=>{var s;let i=(s=n.endpointV2)!=null&&s.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),H0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},z0={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function V0(e,t,r){return{applyToStack:n=>{n.add(L0(e,r),H0),n.add($0(e,t),z0)}}}im(V0,"getSerdePlugin")});var j=u((Yle,Q0)=>{var Ec=Object.defineProperty,W3=Object.getOwnPropertyDescriptor,G3=Object.getOwnPropertyNames,Y3=Object.prototype.hasOwnProperty,Et=(e,t)=>Ec(e,"name",{value:t,configurable:!0}),K3=(e,t)=>{for(var r in t)Ec(e,r,{get:t[r],enumerable:!0})},J3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G3(t))!Y3.call(e,o)&&o!==r&&Ec(e,o,{get:()=>t[o],enumerable:!(n=W3(t,o))||n.enumerable});return e},X3=e=>J3(Ec({},"__esModule",{value:!0}),e),G0={};K3(G0,{endpointMiddleware:()=>J0,endpointMiddlewareOptions:()=>X0,getEndpointFromInstructions:()=>Y0,getEndpointPlugin:()=>az,resolveEndpointConfig:()=>cz,resolveParams:()=>K0,toEndpointV1:()=>am});Q0.exports=X3(G0);var Q3=Et(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),nz(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!rz(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),Z3=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ez=/(\d+\.){3}\d+/,tz=/\.\./,rz=Et(e=>Z3.test(e)&&!ez.test(e)&&!tz.test(e),"isDnsCompatibleBucketName"),nz=Et(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),oz=Et((e,t,r)=>{let n=Et(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),sz=I0(),W0=Kt(),am=Et(e=>typeof e=="object"?"url"in e?(0,W0.parseUrl)(e.url):e:(0,W0.parseUrl)(e),"toEndpointV1"),Y0=Et(async(e,t,r,n)=>{if(!r.endpoint){let i=await(0,sz.getEndpointFromConfig)(r.serviceId||"");i&&(r.endpoint=()=>Promise.resolve(am(i)))}let o=await K0(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),K0=Et(async(e,t,r)=>{var n;let o={},s=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":o[i]=a.value;break;case"contextParams":o[i]=e[a.name];break;case"clientContextParams":case"builtInParams":o[i]=await oz(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await Q3(o),o},"resolveParams"),Sc=hr(),J0=Et(({config:e,instructions:t})=>(r,n)=>async o=>{var s,i,a;let c=await Y0(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(s=c.properties)==null?void 0:s.authSchemes;let d=(i=n.authSchemes)==null?void 0:i[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let l=(0,Sc.getSmithyContext)(n),p=(a=l?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),iz=Y(),X0={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:iz.serializerMiddlewareOption.name},az=Et((e,t)=>({applyToStack:r=>{r.addRelativeTo(J0({config:e,instructions:t}),X0)}}),"getEndpointPlugin"),cz=Et(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>am(await(0,Sc.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Sc.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Sc.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});import dz from"crypto";function zs(){return wc>bc.length-16&&(dz.randomFillSync(bc),wc=0),bc.slice(wc,wc+=16)}var bc,wc,cm=B(()=>{bc=new Uint8Array(256),wc=bc.length});var Z0,eb=B(()=>{Z0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function lz(e){return typeof e=="string"&&Z0.test(e)}var Er,Vs=B(()=>{eb();Er=lz});function an(e,t=0){return Se[e[t+0]]+Se[e[t+1]]+Se[e[t+2]]+Se[e[t+3]]+"-"+Se[e[t+4]]+Se[e[t+5]]+"-"+Se[e[t+6]]+Se[e[t+7]]+"-"+Se[e[t+8]]+Se[e[t+9]]+"-"+Se[e[t+10]]+Se[e[t+11]]+Se[e[t+12]]+Se[e[t+13]]+Se[e[t+14]]+Se[e[t+15]]}function uz(e,t=0){let r=an(e,t);if(!Er(r))throw TypeError("Stringified UUID is invalid");return r}var Se,tb,Bs=B(()=>{Vs();Se=[];for(let e=0;e<256;++e)Se.push((e+256).toString(16).slice(1));tb=uz});function pz(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||rb,i=e.clockseq!==void 0?e.clockseq:dm;if(s==null||i==null){let m=e.random||(e.rng||zs)();s==null&&(s=rb=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),i==null&&(i=dm=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:um+1,d=a-lm+(c-um)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>lm)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lm=a,um=c,dm=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let m=0;m<6;++m)o[n+m]=s[m];return t||an(o)}var rb,dm,lm,um,nb,ob=B(()=>{cm();Bs();lm=0,um=0;nb=pz});function fz(e){if(!Er(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Cc,pm=B(()=>{Vs();Cc=fz});function mz(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ws(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=mz(o)),typeof s=="string"&&(s=Cc(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,i){a=a||0;for(let l=0;l<16;++l)i[a+l]=d[l];return i}return an(d)}try{n.name=e}catch{}return n.DNS=_z,n.URL=gz,n}var _z,gz,fm=B(()=>{Bs();pm();_z="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gz="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import hz from"crypto";function yz(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),hz.createHash("md5").update(e).digest()}var sb,ib=B(()=>{sb=yz});var vz,ab,cb=B(()=>{fm();ib();vz=Ws("v3",48,sb),ab=vz});import Sz from"crypto";var mm,db=B(()=>{mm={randomUUID:Sz.randomUUID}});function Ez(e,t,r){if(mm.randomUUID&&!t&&!e)return mm.randomUUID();e=e||{};let n=e.random||(e.rng||zs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return an(n)}var lb,ub=B(()=>{db();cm();Bs();lb=Ez});import wz from"crypto";function bz(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),wz.createHash("sha1").update(e).digest()}var pb,fb=B(()=>{pb=bz});var Cz,mb,_b=B(()=>{fm();fb();Cz=Ws("v5",80,pb),mb=Cz});var gb,hb=B(()=>{gb="00000000-0000-0000-0000-000000000000"});function Pz(e){if(!Er(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var yb,vb=B(()=>{Vs();yb=Pz});var Sb={};Pf(Sb,{NIL:()=>gb,parse:()=>Cc,stringify:()=>tb,v1:()=>nb,v3:()=>ab,v4:()=>lb,v5:()=>mb,validate:()=>Er,version:()=>yb});var Eb=B(()=>{ob();cb();ub();_b();hb();vb();Vs();Bs();pm()});var _m=u((Uue,Pb)=>{var Pc=Object.defineProperty,xz=Object.getOwnPropertyDescriptor,Rz=Object.getOwnPropertyNames,Tz=Object.prototype.hasOwnProperty,kn=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),Oz=(e,t)=>{for(var r in t)Pc(e,r,{get:t[r],enumerable:!0})},Az=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rz(t))!Tz.call(e,o)&&o!==r&&Pc(e,o,{get:()=>t[o],enumerable:!(n=xz(t,o))||n.enumerable});return e},Iz=e=>Az(Pc({},"__esModule",{value:!0}),e),wb={};Oz(wb,{isClockSkewCorrectedError:()=>bb,isClockSkewError:()=>Uz,isRetryableByTrait:()=>Fz,isServerError:()=>Lz,isThrottlingError:()=>jz,isTransientError:()=>Cb});Pb.exports=Iz(wb);var Nz=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Dz=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],qz=["TimeoutError","RequestTimeout","RequestTimeoutException"],Mz=[500,502,503,504],kz=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Fz=kn(e=>e.$retryable!==void 0,"isRetryableByTrait"),Uz=kn(e=>Nz.includes(e.name),"isClockSkewError"),bb=kn(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),jz=kn(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Dz.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),Cb=kn(e=>{var t;return bb(e)||qz.includes(e.name)||kz.includes(e?.code||"")||Mz.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),Lz=kn(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Cb(e)}return!1},"isServerError")});var wr=u((zue,Ub)=>{var xc=Object.defineProperty,$z=Object.getOwnPropertyDescriptor,Hz=Object.getOwnPropertyNames,zz=Object.prototype.hasOwnProperty,wt=(e,t)=>xc(e,"name",{value:t,configurable:!0}),Vz=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},Bz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hz(t))!zz.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=$z(t,o))||n.enumerable});return e},Wz=e=>Bz(xc({},"__esModule",{value:!0}),e),Rb={};Vz(Rb,{AdaptiveRetryStrategy:()=>Qz,ConfiguredRetryStrategy:()=>Zz,DEFAULT_MAX_ATTEMPTS:()=>gm,DEFAULT_RETRY_DELAY_BASE:()=>Gs,DEFAULT_RETRY_MODE:()=>Gz,DefaultRateLimiter:()=>Ab,INITIAL_RETRY_TOKENS:()=>hm,INVOCATION_ID_HEADER:()=>Kz,MAXIMUM_RETRY_DELAY:()=>ym,NO_RETRY_INCREMENT:()=>qb,REQUEST_HEADER:()=>Jz,RETRY_COST:()=>Nb,RETRY_MODES:()=>Tb,StandardRetryStrategy:()=>vm,THROTTLING_RETRY_DELAY_BASE:()=>Ib,TIMEOUT_RETRY_COST:()=>Db});Ub.exports=Wz(Rb);var Tb=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Tb||{}),gm=3,Gz="standard",Yz=_m(),Ob=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Yz.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};wt(Ob,"DefaultRateLimiter");var Ab=Ob,Gs=100,ym=20*1e3,Ib=500,hm=500,Nb=5,Db=10,qb=1,Kz="amz-sdk-invocation-id",Jz="amz-sdk-request",Xz=wt(()=>{let e=Gs;return{computeNextBackoffDelay:wt(n=>Math.floor(Math.min(ym,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:wt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),xb=wt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:wt(()=>t,"getRetryCount"),getRetryDelay:wt(()=>Math.min(ym,e),"getRetryDelay"),getRetryCost:wt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Mb=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=hm,this.retryBackoffStrategy=Xz(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return xb({retryDelay:Gs,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Ib:Gs);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,xb({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(hm,this.capacity+(t.getRetryCost()??qb))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${gm}`),gm}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Db:Nb}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};wt(Mb,"StandardRetryStrategy");var vm=Mb,kb=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new Ab,this.standardRetryStrategy=new vm(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};wt(kb,"AdaptiveRetryStrategy");var Qz=kb,Fb=class extends vm{constructor(t,r=Gs){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};wt(Fb,"ConfiguredRetryStrategy");var Zz=Fb});var Ys=u((Vue,Hb)=>{var Rc=Object.defineProperty,eV=Object.getOwnPropertyDescriptor,tV=Object.getOwnPropertyNames,rV=Object.prototype.hasOwnProperty,Ze=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),nV=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},oV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tV(t))!rV.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=eV(t,o))||n.enumerable});return e},sV=e=>oV(Rc({},"__esModule",{value:!0}),e),$b={};nV($b,{constructStack:()=>Sm});Hb.exports=sV($b);var cn=Ze((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),br=Ze((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Sm=Ze(()=>{let e=[],t=[],r=!1,n=new Set,o=Ze(p=>p.sort((m,f)=>jb[f.step]-jb[m.step]||Lb[f.priority||"normal"]-Lb[m.priority||"normal"]),"sort"),s=Ze(p=>{let m=!1,f=Ze(_=>{let y=cn(_.name,_.aliases);if(y.includes(p)){m=!0;for(let g of y)n.delete(g);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},"removeByName"),i=Ze(p=>{let m=!1,f=Ze(_=>{if(_.middleware===p){m=!0;for(let y of cn(_.name,_.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},"removeByReference"),a=Ze(p=>{var m;return e.forEach(f=>{p.add(f.middleware,{...f})}),t.forEach(f=>{p.addRelativeTo(f.middleware,{...f})}),(m=p.identifyOnResolve)==null||m.call(p,l.identifyOnResolve()),p},"cloneTo"),c=Ze(p=>{let m=[];return p.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...c(f))}),m.push(p),p.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...c(f))}),m},"expandRelativeMiddlewareList"),d=Ze((p=!1)=>{let m=[],f=[],_={};return e.forEach(g=>{let T={...g,before:[],after:[]};for(let N of cn(T.name,T.aliases))_[N]=T;m.push(T)}),t.forEach(g=>{let T={...g,before:[],after:[]};for(let N of cn(T.name,T.aliases))_[N]=T;f.push(T)}),f.forEach(g=>{if(g.toMiddleware){let T=_[g.toMiddleware];if(T===void 0){if(p)return;throw new Error(`${g.toMiddleware} is not found when adding ${br(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&T.after.push(g),g.relation==="before"&&T.before.push(g)}}),o(m).map(c).reduce((g,T)=>(g.push(...T),g),[])},"getMiddlewareList"),l={add:(p,m={})=>{let{name:f,override:_,aliases:y}=m,g={step:"initialize",priority:"normal",middleware:p,...m},T=cn(f,y);if(T.length>0){if(T.some(N=>n.has(N))){if(!_)throw new Error(`Duplicate middleware name '${br(f,y)}'`);for(let N of T){let ye=e.findIndex(Ke=>{var _r;return Ke.name===N||((_r=Ke.aliases)==null?void 0:_r.some(tn=>tn===N))});if(ye===-1)continue;let ae=e[ye];if(ae.step!==g.step||g.priority!==ae.priority)throw new Error(`"${br(ae.name,ae.aliases)}" middleware with ${ae.priority} priority in ${ae.step} step cannot be overridden by "${br(f,y)}" middleware with ${g.priority} priority in ${g.step} step.`);e.splice(ye,1)}}for(let N of T)n.add(N)}e.push(g)},addRelativeTo:(p,m)=>{let{name:f,override:_,aliases:y}=m,g={middleware:p,...m},T=cn(f,y);if(T.length>0){if(T.some(N=>n.has(N))){if(!_)throw new Error(`Duplicate middleware name '${br(f,y)}'`);for(let N of T){let ye=t.findIndex(Ke=>{var _r;return Ke.name===N||((_r=Ke.aliases)==null?void 0:_r.some(tn=>tn===N))});if(ye===-1)continue;let ae=t[ye];if(ae.toMiddleware!==g.toMiddleware||ae.relation!==g.relation)throw new Error(`"${br(ae.name,ae.aliases)}" middleware ${ae.relation} "${ae.toMiddleware}" middleware cannot be overridden by "${br(f,y)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);t.splice(ye,1)}}for(let N of T)n.add(N)}t.push(g)},clone:()=>a(Sm()),use:p=>{p.applyToStack(l)},remove:p=>typeof p=="string"?s(p):i(p),removeByTag:p=>{let m=!1,f=Ze(_=>{let{tags:y,name:g,aliases:T}=_;if(y&&y.includes(p)){let N=cn(g,T);for(let ye of N)n.delete(ye);return m=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},concat:p=>{var m;let f=a(Sm());return f.use(p),f.identifyOnResolve(r||f.identifyOnResolve()||(((m=p.identifyOnResolve)==null?void 0:m.call(p))??!1)),f},applyToStack:a,identify:()=>d(!0).map(p=>{let m=p.step??p.relation+" "+p.toMiddleware;return br(p.name,p.aliases)+" - "+m}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,m)=>{for(let f of d().map(_=>_.middleware).reverse())p=f(p,m);return r&&console.log(l.identify()),p}};return l},"constructStack"),jb={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Lb={high:3,normal:2,low:1}});var zb=u(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.fromBase64=void 0;var iV=In(),aV=/^[A-Za-z0-9+/]*={0,2}$/,cV=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!aV.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,iV.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Tc.fromBase64=cV});var Vb=u(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.toBase64=void 0;var dV=In(),lV=qe(),uV=e=>{let t;if(typeof e=="string"?t=(0,lV.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,dV.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Oc.toBase64=uV});var Cr=u((Gue,Ac)=>{var Bb=Object.defineProperty,pV=Object.getOwnPropertyDescriptor,fV=Object.getOwnPropertyNames,mV=Object.prototype.hasOwnProperty,Em=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fV(t))!mV.call(e,o)&&o!==r&&Bb(e,o,{get:()=>t[o],enumerable:!(n=pV(t,o))||n.enumerable});return e},Wb=(e,t,r)=>(Em(e,t,"default"),r&&Em(r,t,"default")),_V=e=>Em(Bb({},"__esModule",{value:!0}),e),wm={};Ac.exports=_V(wm);Wb(wm,zb(),Ac.exports);Wb(wm,Vb(),Ac.exports)});var Gb=u(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.getAwsChunkedEncodingStream=void 0;var gV=L("stream"),hV=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new gV.Readable({read:()=>{}});return e.on("data",l=>{let p=n(l)||0;d.push(`${p.toString(16)}\r
`),d.push(l),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};Ic.getAwsChunkedEncodingStream=hV});var Xb=u((Kue,Jb)=>{var Nc=Object.defineProperty,yV=Object.getOwnPropertyDescriptor,vV=Object.getOwnPropertyNames,SV=Object.prototype.hasOwnProperty,EV=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),wV=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},bV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vV(t))!SV.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=yV(t,o))||n.enumerable});return e},CV=e=>bV(Nc({},"__esModule",{value:!0}),e),Yb={};wV(Yb,{buildQueryString:()=>Kb});Jb.exports=CV(Yb);var bm=Mf();function Kb(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,bm.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,bm.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,bm.escapeUri)(n)}`),t.push(o)}}return t.join("&")}EV(Kb,"buildQueryString")});var Pr=u((Zue,fC)=>{var PV=Object.create,Ks=Object.defineProperty,xV=Object.getOwnPropertyDescriptor,RV=Object.getOwnPropertyNames,TV=Object.getPrototypeOf,OV=Object.prototype.hasOwnProperty,_e=(e,t)=>Ks(e,"name",{value:t,configurable:!0}),AV=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},eC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RV(t))!OV.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=xV(t,o))||n.enumerable});return e},IV=(e,t,r)=>(r=e!=null?PV(TV(e)):{},eC(t||!e||!e.__esModule?Ks(r,"default",{value:e,enumerable:!0}):r,e)),NV=e=>eC(Ks({},"__esModule",{value:!0}),e),tC={};AV(tC,{DEFAULT_REQUEST_TIMEOUT:()=>FV,NodeHttp2Handler:()=>HV,NodeHttpHandler:()=>UV,streamCollector:()=>VV});fC.exports=NV(tC);var rC=Z(),nC=Xb(),Cm=L("http"),Pm=L("https"),DV=["ECONNRESET","EPIPE","ETIMEDOUT"],oC=_e(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),qV=_e((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),MV=_e((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),kV=_e((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),sC=L("stream"),Qb=1e3;async function Rm(e,t,r=Qb){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{s=Number(setTimeout(a,Math.max(Qb,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(s),a()}),e.on("error",()=>{i=!0,clearTimeout(s),a()})})]),i||iC(e,t.body)}_e(Rm,"writeRequestBody");function iC(e,t){if(t instanceof sC.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}_e(iC,"writeBody");var FV=0,aC=class xm{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new xm(t)}static checkSocketUsage(t,r){var n,o;let{sockets:s,requests:i,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let d in s){let l=((n=s[d])==null?void 0:n.length)??0,p=((o=i[d])==null?void 0:o.length)??0;if(l>=a&&p>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${l} and ${p} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:s instanceof Cm.Agent||typeof s?.destroy=="function"?s:new Cm.Agent({keepAlive:a,maxSockets:c,...s}),httpsAgent:i instanceof Pm.Agent||typeof i?.destroy=="function"?i:new Pm.Agent({keepAlive:a,maxSockets:c,...i})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,s)=>{let i,a=_e(async N=>{await i,clearTimeout(n),o(N)},"resolve"),c=_e(async N=>{await i,s(N)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let N=new Error("Request aborted");N.name="AbortError",c(N);return}let d=t.protocol==="https:",l=d?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=xm.checkSocketUsage(l,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let p=(0,nC.buildQueryString)(t.query||{}),m;if(t.username!=null||t.password!=null){let N=t.username??"",ye=t.password??"";m=`${N}:${ye}`}let f=t.path;p&&(f+=`?${p}`),t.fragment&&(f+=`#${t.fragment}`);let _={headers:t.headers,host:t.hostname,method:t.method,path:f,port:t.port,agent:l,auth:m},g=(d?Pm.request:Cm.request)(_,N=>{let ye=new rC.HttpResponse({statusCode:N.statusCode||-1,reason:N.statusMessage,headers:oC(N.headers),body:N});a({response:ye})});g.on("error",N=>{DV.includes(N.code)?c(Object.assign(N,{name:"TimeoutError"})):c(N)}),qV(g,c,this.config.connectionTimeout),kV(g,c,this.config.requestTimeout),r&&(r.onabort=()=>{g.abort();let N=new Error("Request aborted");N.name="AbortError",c(N)});let T=_.agent;typeof T=="object"&&"keepAlive"in T&&MV(g,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs}),i=Rm(g,t,this.config.requestTimeout).catch(s)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};_e(aC,"NodeHttpHandler");var UV=aC,Zb=L("http2"),jV=IV(L("http2")),cC=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};_e(cC,"NodeHttp2ConnectionPool");var LV=cC,dC=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=jV.default.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=_e(()=>{s.destroy(),this.deleteSession(n,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new LV;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};_e(dC,"NodeHttp2ConnectionManager");var $V=dC,lC=class uC{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new $V({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new uC(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((s,i)=>{var a;let c=!1,d,l=_e(async ce=>{await d,s(ce)},"resolve"),p=_e(async ce=>{await d,i(ce)},"reject");if(r?.aborted){c=!0;let ce=new Error("Request aborted");ce.name="AbortError",p(ce);return}let{hostname:m,method:f,port:_,protocol:y,query:g}=t,T="";if(t.username!=null||t.password!=null){let ce=t.username??"",Ds=t.password??"";T=`${ce}:${Ds}@`}let N=`${y}//${T}${m}${_?`:${_}`:""}`,ye={destination:new URL(N)},ae=this.connectionManager.lease(ye,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),Ke=_e(ce=>{o&&this.destroySession(ae),c=!0,p(ce)},"rejectWithDestroy"),_r=(0,nC.buildQueryString)(g||{}),tn=t.path;_r&&(tn+=`?${_r}`),t.fragment&&(tn+=`#${t.fragment}`);let yt=ae.request({...t.headers,[Zb.constants.HTTP2_HEADER_PATH]:tn,[Zb.constants.HTTP2_HEADER_METHOD]:f});ae.ref(),yt.on("response",ce=>{let Ds=new rC.HttpResponse({statusCode:ce[":status"]||-1,headers:oC(ce),body:yt});c=!0,l({response:Ds}),o&&(ae.close(),this.connectionManager.deleteSession(N,ae))}),n&&yt.setTimeout(n,()=>{yt.close();let ce=new Error(`Stream timed out because of no activity for ${n} ms`);ce.name="TimeoutError",Ke(ce)}),r&&(r.onabort=()=>{yt.close();let ce=new Error("Request aborted");ce.name="AbortError",Ke(ce)}),yt.on("frameError",(ce,Ds,fj)=>{Ke(new Error(`Frame type id ${ce} in stream id ${fj} has failed with code ${Ds}.`))}),yt.on("error",Ke),yt.on("aborted",()=>{Ke(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${yt.rstCode}.`))}),yt.on("close",()=>{ae.unref(),o&&ae.destroy(),c||Ke(new Error("Unexpected error: http2 request did not get a response"))}),d=Rm(yt,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};_e(lC,"NodeHttp2Handler");var HV=lC,pC=class extends sC.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};_e(pC,"Collector");var zV=pC,VV=_e(e=>new Promise((t,r)=>{let n=new zV;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector")});var _C=u(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.sdkStreamMixin=void 0;var BV=Pr(),WV=In(),Tm=L("stream"),GV=L("util"),mC="The stream has already been transformed.",YV=e=>{var t,r;if(!(e instanceof Tm.Readable)){let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(mC);return n=!0,await(0,BV.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,WV.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new GV.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(mC);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Tm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Tm.Readable.toWeb(e)}})};Dc.sdkStreamMixin=YV});var Js=u((tpe,kc)=>{var qc=Object.defineProperty,KV=Object.getOwnPropertyDescriptor,JV=Object.getOwnPropertyNames,XV=Object.prototype.hasOwnProperty,Im=(e,t)=>qc(e,"name",{value:t,configurable:!0}),QV=(e,t)=>{for(var r in t)qc(e,r,{get:t[r],enumerable:!0})},Om=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JV(t))!XV.call(e,o)&&o!==r&&qc(e,o,{get:()=>t[o],enumerable:!(n=KV(t,o))||n.enumerable});return e},gC=(e,t,r)=>(Om(e,t,"default"),r&&Om(r,t,"default")),ZV=e=>Om(qc({},"__esModule",{value:!0}),e),Mc={};QV(Mc,{Uint8ArrayBlobAdapter:()=>Am});kc.exports=ZV(Mc);var hC=Cr(),yC=qe();function vC(e,t="utf-8"){return t==="base64"?(0,hC.toBase64)(e):(0,yC.toUtf8)(e)}Im(vC,"transformToString");function SC(e,t){return t==="base64"?Am.mutate((0,hC.fromBase64)(e)):Am.mutate((0,yC.fromUtf8)(e))}Im(SC,"transformFromString");var EC=class wC extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return SC(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,wC.prototype),t}transformToString(t="utf-8"){return vC(this,t)}};Im(EC,"Uint8ArrayBlobAdapter");var Am=EC;gC(Mc,Gb(),kc.exports);gC(Mc,_C(),kc.exports)});var GC=u((ipe,WC)=>{var $c=Object.defineProperty,eB=Object.getOwnPropertyDescriptor,tB=Object.getOwnPropertyNames,rB=Object.prototype.hasOwnProperty,E=(e,t)=>$c(e,"name",{value:t,configurable:!0}),nB=(e,t)=>{for(var r in t)$c(e,r,{get:t[r],enumerable:!0})},oB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tB(t))!rB.call(e,o)&&o!==r&&$c(e,o,{get:()=>t[o],enumerable:!(n=eB(t,o))||n.enumerable});return e},sB=e=>oB($c({},"__esModule",{value:!0}),e),CC={};nB(CC,{Client:()=>aB,Command:()=>OC,LazyJsonString:()=>nW,NoOpLogger:()=>iB,SENSITIVE_STRING:()=>lB,ServiceException:()=>BB,StringWrapper:()=>ti,_json:()=>Um,collectBody:()=>cB,convertMap:()=>oW,createAggregatedClient:()=>uB,dateToUtcString:()=>kC,decorateServiceException:()=>jC,emitWarningIfUnsupportedVersion:()=>KB,expectBoolean:()=>fB,expectByte:()=>Fm,expectFloat32:()=>Uc,expectInt:()=>_B,expectInt32:()=>Mm,expectLong:()=>Zs,expectNonNull:()=>hB,expectNumber:()=>Qs,expectObject:()=>IC,expectShort:()=>km,expectString:()=>yB,expectUnion:()=>vB,extendedEncodeURIComponent:()=>Lc,getArrayIfSingleItem:()=>rW,getDefaultClientConfiguration:()=>eW,getDefaultExtensionConfiguration:()=>$C,getValueFromTextNode:()=>HC,handleFloat:()=>wB,limitedParseDouble:()=>$m,limitedParseFloat:()=>bB,limitedParseFloat32:()=>CB,loadConfigsForDefaultMode:()=>YB,logger:()=>ei,map:()=>zm,parseBoolean:()=>pB,parseEpochTimestamp:()=>kB,parseRfc3339DateTime:()=>OB,parseRfc3339DateTimeWithOffset:()=>IB,parseRfc7231DateTime:()=>MB,resolveDefaultRuntimeConfig:()=>tW,resolvedPath:()=>dW,serializeFloat:()=>lW,splitEvery:()=>BC,strictParseByte:()=>MC,strictParseDouble:()=>Lm,strictParseFloat:()=>SB,strictParseFloat32:()=>NC,strictParseInt:()=>PB,strictParseInt32:()=>xB,strictParseLong:()=>qC,strictParseShort:()=>Fn,take:()=>sW,throwDefaultError:()=>LC,withBaseException:()=>WB});WC.exports=sB(CC);var PC=class{trace(){}debug(){}info(){}warn(){}error(){}};E(PC,"NoOpLogger");var iB=PC,xC=Ys(),RC=class{constructor(t){this.middlewareStack=(0,xC.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};E(RC,"Client");var aB=RC,Nm=Js(),cB=E(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Nm.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Nm.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Nm.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),qm=U(),TC=class{constructor(){this.middlewareStack=(0,xC.constructStack)()}static classBuilder(){return new dB}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:p}){for(let g of o.bind(this)(p,t,r,n))this.middlewareStack.use(g);let m=t.concat(this.middlewareStack),{logger:f}=r,_={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[qm.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:y}=r;return m.resolve(g=>y.handle(g.request,n||{}),_)}};E(TC,"Command");var OC=TC,AC=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends OC{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},E(t,"CommandRef"),t)}};E(AC,"ClassBuilder");var dB=AC,lB="***SensitiveInformation***",uB=E((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=E(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),pB=E(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),fB=E(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ei.warn(jc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ei.warn(jc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),Qs=E(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ei.warn(jc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),mB=Math.ceil(2**127*(2-2**-23)),Uc=E(e=>{let t=Qs(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>mB)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),Zs=E(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),_B=Zs,Mm=E(e=>jm(e,32),"expectInt32"),km=E(e=>jm(e,16),"expectShort"),Fm=E(e=>jm(e,8),"expectByte"),jm=E((e,t)=>{let r=Zs(e);if(r!==void 0&&gB(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),gB=E((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),hB=E((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),IC=E(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),yB=E(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ei.warn(jc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),vB=E(e=>{if(e==null)return;let t=IC(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),Lm=E(e=>Qs(typeof e=="string"?jn(e):e),"strictParseDouble"),SB=Lm,NC=E(e=>Uc(typeof e=="string"?jn(e):e),"strictParseFloat32"),EB=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,jn=E(e=>{let t=e.match(EB);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),$m=E(e=>typeof e=="string"?DC(e):Qs(e),"limitedParseDouble"),wB=$m,bB=$m,CB=E(e=>typeof e=="string"?DC(e):Uc(e),"limitedParseFloat32"),DC=E(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),qC=E(e=>Zs(typeof e=="string"?jn(e):e),"strictParseLong"),PB=qC,xB=E(e=>Mm(typeof e=="string"?jn(e):e),"strictParseInt32"),Fn=E(e=>km(typeof e=="string"?jn(e):e),"strictParseShort"),MC=E(e=>Fm(typeof e=="string"?jn(e):e),"strictParseByte"),jc=E(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),ei={warn:console.warn},RB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function kC(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${RB[n]}, ${c} ${Hm[r]} ${t} ${d}:${l}:${p} GMT`}E(kC,"dateToUtcString");var TB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),OB=E(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=TB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=Fn(Un(n)),p=Nt(o,"month",1,12),m=Nt(s,"day",1,31);return Xs(l,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),AB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),IB=E(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=AB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,p=Fn(Un(n)),m=Nt(o,"month",1,12),f=Nt(s,"day",1,31),_=Xs(p,m,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&_.setTime(_.getTime()-VB(l)),_},"parseRfc3339DateTimeWithOffset"),NB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),DB=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),qB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),MB=E(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=NB.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return Xs(Fn(Un(s)),Dm(o),Nt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=DB.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return jB(Xs(FB(s),Dm(o),Nt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=qB.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Xs(Fn(Un(d)),Dm(n),Nt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),kB=E(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Lm(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Xs=E((e,t,r,n)=>{let o=t-1;return $B(e,o,r),new Date(Date.UTC(e,o,r,Nt(n.hours,"hour",0,23),Nt(n.minutes,"minute",0,59),Nt(n.seconds,"seconds",0,60),zB(n.fractionalMilliseconds)))},"buildDate"),FB=E(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Fn(Un(e));return r<t?r+100:r},"parseTwoDigitYear"),UB=50*365*24*60*60*1e3,jB=E(e=>e.getTime()-new Date().getTime()>UB?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Dm=E(e=>{let t=Hm.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),LB=[31,28,31,30,31,30,31,31,30,31,30,31],$B=E((e,t,r)=>{let n=LB[t];if(t===1&&HB(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Hm[t]} in ${e}: ${r}`)},"validateDayOfMonth"),HB=E(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Nt=E((e,t,r,n)=>{let o=MC(Un(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),zB=E(e=>e==null?0:NC("0."+e)*1e3,"parseMilliseconds"),VB=E(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Un=E(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),FC=class UC extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,UC.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};E(FC,"ServiceException");var BB=FC,jC=E((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),LC=E(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=GB(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw jC(i,t)},"throwDefaultError"),WB=E(e=>({output:t,parsedBody:r,errorCode:n})=>{LC({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),GB=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),YB=E(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),bC=!1,KB=E(e=>{e&&!bC&&parseInt(e.substring(1,e.indexOf(".")))<14&&(bC=!0)},"emitWarningIfUnsupportedVersion"),JB=E(e=>{let t=[];for(let r in qm.AlgorithmId){let n=qm.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),XB=E(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),QB=E(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),ZB=E(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),$C=E(e=>({...JB(e),...QB(e)}),"getDefaultExtensionConfiguration"),eW=$C,tW=E(e=>({...XB(e),...ZB(e)}),"resolveDefaultRuntimeConfig");function Lc(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}E(Lc,"extendedEncodeURIComponent");var rW=E(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),HC=E(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=HC(e[r]));return e},"getValueFromTextNode"),ti=E(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");ti.prototype=Object.create(String.prototype,{constructor:{value:ti,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(ti,String);var zC=class Fc extends ti{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Fc?t:t instanceof String||typeof t=="string"?new Fc(t):new Fc(JSON.stringify(t))}};E(zC,"LazyJsonString");var nW=zC;function zm(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,iW(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}VC(n,null,s,i)}return n}E(zm,"map");var oW=E(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),sW=E((e,t)=>{let r={};for(let n in t)VC(r,e,t,n);return r},"take"),iW=E((e,t,r)=>zm(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),VC=E((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=aW,c=cW,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),aW=E(e=>e!=null,"nonNullish"),cW=E(e=>e,"pass"),dW=E((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Lc(a)).join("/"):Lc(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),lW=E(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Um=E(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Um);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Um(e[r]));return t}return e},"_json");function BC(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}E(BC,"splitEvery")});var YC=u(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.isStreamingPayload=void 0;var uW=L("stream"),pW=e=>e?.body instanceof uW.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Hc.isStreamingPayload=pW});var Ue=u((upe,uP)=>{var zc=Object.defineProperty,fW=Object.getOwnPropertyDescriptor,mW=Object.getOwnPropertyNames,_W=Object.prototype.hasOwnProperty,le=(e,t)=>zc(e,"name",{value:t,configurable:!0}),gW=(e,t)=>{for(var r in t)zc(e,r,{get:t[r],enumerable:!0})},hW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mW(t))!_W.call(e,o)&&o!==r&&zc(e,o,{get:()=>t[o],enumerable:!(n=fW(t,o))||n.enumerable});return e},yW=e=>hW(zc({},"__esModule",{value:!0}),e),JC={};gW(JC,{AdaptiveRetryStrategy:()=>EW,CONFIG_MAX_ATTEMPTS:()=>Bm,CONFIG_RETRY_MODE:()=>sP,ENV_MAX_ATTEMPTS:()=>Vm,ENV_RETRY_MODE:()=>oP,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>wW,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>CW,StandardRetryStrategy:()=>rP,defaultDelayDecider:()=>QC,defaultRetryDecider:()=>ZC,getOmitRetryHeadersPlugin:()=>PW,getRetryAfterHint:()=>lP,getRetryPlugin:()=>IW,omitRetryHeadersMiddleware:()=>iP,omitRetryHeadersMiddlewareOptions:()=>aP,resolveRetryConfig:()=>bW,retryMiddleware:()=>cP,retryMiddlewareOptions:()=>dP});uP.exports=yW(JC);var Ln=Z(),XC=(Eb(),P(Sb)),ne=wr(),vW=le((e,t)=>{let r=e,n=t?.noRetryIncrement??ne.NO_RETRY_INCREMENT,o=t?.retryCost??ne.RETRY_COST,s=t?.timeoutRetryCost??ne.TIMEOUT_RETRY_COST,i=e,a=le(p=>p.name==="TimeoutError"?s:o,"getCapacityAmount"),c=le(p=>a(p)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:le(p=>{if(!c(p))throw new Error("No retry token available");let m=a(p);return i-=m,m},"retrieveRetryTokens"),releaseRetryTokens:le(p=>{i+=p??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),QC=le((e,t)=>Math.floor(Math.min(ne.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),xr=_m(),ZC=le(e=>e?(0,xr.isRetryableByTrait)(e)||(0,xr.isClockSkewError)(e)||(0,xr.isThrottlingError)(e)||(0,xr.isTransientError)(e):!1,"defaultRetryDecider"),eP=le(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),tP=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ne.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??ZC,this.delayDecider=r?.delayDecider??QC,this.retryQuota=r?.retryQuota??vW(ne.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=ne.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Ln.HttpRequest.isInstance(c)&&(c.headers[ne.INVOCATION_ID_HEADER]=(0,XC.v4)());;)try{Ln.HttpRequest.isInstance(c)&&(c.headers[ne.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:l}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:d,output:l}}catch(d){let l=eP(d);if(s++,this.shouldRetry(l,s,a)){o=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,xr.isThrottlingError)(l)?ne.THROTTLING_RETRY_DELAY_BASE:ne.DEFAULT_RETRY_DELAY_BASE,s),m=SW(l.$response),f=Math.max(m||0,p);i+=f,await new Promise(_=>setTimeout(_,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}};le(tP,"StandardRetryStrategy");var rP=tP,SW=le(e=>{if(!Ln.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),nP=class extends rP{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new ne.DefaultRateLimiter,this.mode=ne.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};le(nP,"AdaptiveRetryStrategy");var EW=nP,KC=hr(),Vm="AWS_MAX_ATTEMPTS",Bm="max_attempts",wW={environmentVariableSelector:e=>{let t=e[Vm];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Vm} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Bm];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Bm} mast be a number, got "${t}"`);return r},default:ne.DEFAULT_MAX_ATTEMPTS},bW=le(e=>{let{retryStrategy:t}=e,r=(0,KC.normalizeProvider)(e.maxAttempts??ne.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,KC.normalizeProvider)(e.retryMode)()===ne.RETRY_MODES.ADAPTIVE?new ne.AdaptiveRetryStrategy(r):new ne.StandardRetryStrategy(r))}},"resolveRetryConfig"),oP="AWS_RETRY_MODE",sP="retry_mode",CW={environmentVariableSelector:e=>e[oP],configFileSelector:e=>e[sP],default:ne.DEFAULT_RETRY_MODE},iP=le(()=>e=>async t=>{let{request:r}=t;return Ln.HttpRequest.isInstance(r)&&(delete r.headers[ne.INVOCATION_ID_HEADER],delete r.headers[ne.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),aP={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},PW=le(e=>({applyToStack:t=>{t.addRelativeTo(iP(),aP)}}),"getOmitRetryHeadersPlugin"),xW=GC(),RW=YC(),cP=le(e=>(t,r)=>async n=>{var o;let s=await e.retryStrategy(),i=await e.maxAttempts();if(TW(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,l=0,{request:p}=n,m=Ln.HttpRequest.isInstance(p);for(m&&(p.headers[ne.INVOCATION_ID_HEADER]=(0,XC.v4)());;)try{m&&(p.headers[ne.REQUEST_HEADER]=`attempt=${d+1}; max=${i}`);let{response:f,output:_}=await t(n);return s.recordSuccess(a),_.$metadata.attempts=d+1,_.$metadata.totalRetryDelay=l,{response:f,output:_}}catch(f){let _=OW(f);if(c=eP(f),m&&(0,RW.isStreamingPayload)(p))throw(o=r.logger instanceof xW.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,_)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=l,c}d=a.getRetryCount();let y=a.getRetryDelay();l+=y,await new Promise(g=>setTimeout(g,y))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),TW=le(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),OW=le(e=>{let t={error:e,errorType:AW(e)},r=lP(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),AW=le(e=>(0,xr.isThrottlingError)(e)?"THROTTLING":(0,xr.isTransientError)(e)?"TRANSIENT":(0,xr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),dP={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},IW=le(e=>({applyToStack:t=>{t.add(cP(e),dP)}}),"getRetryPlugin"),lP=le(e=>{if(!Ln.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var M=u((gpe,MP)=>{var Yc=Object.defineProperty,NW=Object.getOwnPropertyDescriptor,DW=Object.getOwnPropertyNames,qW=Object.prototype.hasOwnProperty,w=(e,t)=>Yc(e,"name",{value:t,configurable:!0}),MW=(e,t)=>{for(var r in t)Yc(e,r,{get:t[r],enumerable:!0})},kW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DW(t))!qW.call(e,o)&&o!==r&&Yc(e,o,{get:()=>t[o],enumerable:!(n=NW(t,o))||n.enumerable});return e},FW=e=>kW(Yc({},"__esModule",{value:!0}),e),fP={};MW(fP,{Client:()=>jW,Command:()=>yP,LazyJsonString:()=>MG,NoOpLogger:()=>UW,SENSITIVE_STRING:()=>HW,ServiceException:()=>bG,StringWrapper:()=>ii,_json:()=>Qm,collectBody:()=>LW,convertMap:()=>kG,createAggregatedClient:()=>zW,dateToUtcString:()=>PP,decorateServiceException:()=>TP,emitWarningIfUnsupportedVersion:()=>RG,expectBoolean:()=>BW,expectByte:()=>Xm,expectFloat32:()=>Bc,expectInt:()=>GW,expectInt32:()=>Km,expectLong:()=>oi,expectNonNull:()=>KW,expectNumber:()=>ni,expectObject:()=>SP,expectShort:()=>Jm,expectString:()=>JW,expectUnion:()=>XW,extendedEncodeURIComponent:()=>Gc,getArrayIfSingleItem:()=>qG,getDefaultClientConfiguration:()=>NG,getDefaultExtensionConfiguration:()=>AP,getValueFromTextNode:()=>IP,handleFloat:()=>eG,limitedParseDouble:()=>t_,limitedParseFloat:()=>tG,limitedParseFloat32:()=>rG,loadConfigsForDefaultMode:()=>xG,logger:()=>si,map:()=>n_,parseBoolean:()=>VW,parseEpochTimestamp:()=>mG,parseRfc3339DateTime:()=>aG,parseRfc3339DateTimeWithOffset:()=>dG,parseRfc7231DateTime:()=>fG,resolveDefaultRuntimeConfig:()=>DG,resolvedPath:()=>$G,serializeFloat:()=>HG,splitEvery:()=>qP,strictParseByte:()=>CP,strictParseDouble:()=>e_,strictParseFloat:()=>QW,strictParseFloat32:()=>EP,strictParseInt:()=>nG,strictParseInt32:()=>oG,strictParseLong:()=>bP,strictParseShort:()=>$n,take:()=>FG,throwDefaultError:()=>OP,withBaseException:()=>CG});MP.exports=FW(fP);var mP=class{trace(){}debug(){}info(){}warn(){}error(){}};w(mP,"NoOpLogger");var UW=mP,_P=Ys(),gP=class{constructor(t){this.middlewareStack=(0,_P.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};w(gP,"Client");var jW=gP,Wm=Js(),LW=w(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Wm.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Wm.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Wm.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),Ym=U(),hP=class{constructor(){this.middlewareStack=(0,_P.constructStack)()}static classBuilder(){return new $W}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:p}){for(let g of o.bind(this)(p,t,r,n))this.middlewareStack.use(g);let m=t.concat(this.middlewareStack),{logger:f}=r,_={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Ym.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:y}=r;return m.resolve(g=>y.handle(g.request,n||{}),_)}};w(hP,"Command");var yP=hP,vP=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends yP{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},w(t,"CommandRef"),t)}};w(vP,"ClassBuilder");var $W=vP,HW="***SensitiveInformation***",zW=w((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=w(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),VW=w(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),BW=w(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&si.warn(Wc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&si.warn(Wc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),ni=w(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&si.warn(Wc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),WW=Math.ceil(2**127*(2-2**-23)),Bc=w(e=>{let t=ni(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>WW)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),oi=w(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),GW=oi,Km=w(e=>Zm(e,32),"expectInt32"),Jm=w(e=>Zm(e,16),"expectShort"),Xm=w(e=>Zm(e,8),"expectByte"),Zm=w((e,t)=>{let r=oi(e);if(r!==void 0&&YW(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),YW=w((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),KW=w((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),SP=w(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),JW=w(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return si.warn(Wc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),XW=w(e=>{if(e==null)return;let t=SP(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),e_=w(e=>ni(typeof e=="string"?zn(e):e),"strictParseDouble"),QW=e_,EP=w(e=>Bc(typeof e=="string"?zn(e):e),"strictParseFloat32"),ZW=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,zn=w(e=>{let t=e.match(ZW);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),t_=w(e=>typeof e=="string"?wP(e):ni(e),"limitedParseDouble"),eG=t_,tG=t_,rG=w(e=>typeof e=="string"?wP(e):Bc(e),"limitedParseFloat32"),wP=w(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),bP=w(e=>oi(typeof e=="string"?zn(e):e),"strictParseLong"),nG=bP,oG=w(e=>Km(typeof e=="string"?zn(e):e),"strictParseInt32"),$n=w(e=>Jm(typeof e=="string"?zn(e):e),"strictParseShort"),CP=w(e=>Xm(typeof e=="string"?zn(e):e),"strictParseByte"),Wc=w(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),si={warn:console.warn},sG=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function PP(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${sG[n]}, ${c} ${r_[r]} ${t} ${d}:${l}:${p} GMT`}w(PP,"dateToUtcString");var iG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),aG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=iG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=$n(Hn(n)),p=Dt(o,"month",1,12),m=Dt(s,"day",1,31);return ri(l,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),cG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),dG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=cG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,p=$n(Hn(n)),m=Dt(o,"month",1,12),f=Dt(s,"day",1,31),_=ri(p,m,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&_.setTime(_.getTime()-wG(l)),_},"parseRfc3339DateTimeWithOffset"),lG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),uG=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),pG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),fG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=lG.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return ri($n(Hn(s)),Gm(o),Dt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=uG.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return hG(ri(_G(s),Gm(o),Dt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=pG.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return ri($n(Hn(d)),Gm(n),Dt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),mG=w(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=e_(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),ri=w((e,t,r,n)=>{let o=t-1;return vG(e,o,r),new Date(Date.UTC(e,o,r,Dt(n.hours,"hour",0,23),Dt(n.minutes,"minute",0,59),Dt(n.seconds,"seconds",0,60),EG(n.fractionalMilliseconds)))},"buildDate"),_G=w(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+$n(Hn(e));return r<t?r+100:r},"parseTwoDigitYear"),gG=50*365*24*60*60*1e3,hG=w(e=>e.getTime()-new Date().getTime()>gG?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Gm=w(e=>{let t=r_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),yG=[31,28,31,30,31,30,31,31,30,31,30,31],vG=w((e,t,r)=>{let n=yG[t];if(t===1&&SG(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${r_[t]} in ${e}: ${r}`)},"validateDayOfMonth"),SG=w(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Dt=w((e,t,r,n)=>{let o=CP(Hn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),EG=w(e=>e==null?0:EP("0."+e)*1e3,"parseMilliseconds"),wG=w(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Hn=w(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),xP=class RP extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,RP.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};w(xP,"ServiceException");var bG=xP,TP=w((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),OP=w(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=PG(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw TP(i,t)},"throwDefaultError"),CG=w(e=>({output:t,parsedBody:r,errorCode:n})=>{OP({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),PG=w(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),xG=w(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),pP=!1,RG=w(e=>{e&&!pP&&parseInt(e.substring(1,e.indexOf(".")))<14&&(pP=!0)},"emitWarningIfUnsupportedVersion"),TG=w(e=>{let t=[];for(let r in Ym.AlgorithmId){let n=Ym.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),OG=w(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),AG=w(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),IG=w(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),AP=w(e=>({...TG(e),...AG(e)}),"getDefaultExtensionConfiguration"),NG=AP,DG=w(e=>({...OG(e),...IG(e)}),"resolveDefaultRuntimeConfig");function Gc(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}w(Gc,"extendedEncodeURIComponent");var qG=w(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),IP=w(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=IP(e[r]));return e},"getValueFromTextNode"),ii=w(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");ii.prototype=Object.create(String.prototype,{constructor:{value:ii,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(ii,String);var NP=class Vc extends ii{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Vc?t:t instanceof String||typeof t=="string"?new Vc(t):new Vc(JSON.stringify(t))}};w(NP,"LazyJsonString");var MG=NP;function n_(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,UG(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}DP(n,null,s,i)}return n}w(n_,"map");var kG=w(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),FG=w((e,t)=>{let r={};for(let n in t)DP(r,e,t,n);return r},"take"),UG=w((e,t,r)=>n_(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),DP=w((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=jG,c=LG,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),jG=w(e=>e!=null,"nonNullish"),LG=w(e=>e,"pass"),$G=w((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Gc(a)).join("/"):Gc(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),HG=w(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Qm=w(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Qm);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Qm(e[r]));return t}return e},"_json");function qP(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}w(qP,"splitEvery")});var kP=u(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.resolveClientEndpointParameters=void 0;var zG=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"rds-data"});Kc.resolveClientEndpointParameters=zG});var FP=u((vpe,VG)=>{VG.exports={name:"@aws-sdk/client-rds-data",description:"AWS SDK for JavaScript Rds Data Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo rds-data"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.478.0","@aws-sdk/core":"3.477.0","@aws-sdk/credential-provider-node":"3.478.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-signing":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-rds-data",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-rds-data"}}});var Jc=u(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.getHostHeaderPlugin=et.hostHeaderMiddlewareOptions=et.hostHeaderMiddleware=et.resolveHostHeaderConfig=void 0;var BG=Z();function WG(e){return e}et.resolveHostHeaderConfig=WG;var GG=e=>t=>async r=>{if(!BG.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)};et.hostHeaderMiddleware=GG;et.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var YG=e=>({applyToStack:t=>{t.add((0,et.hostHeaderMiddleware)(e),et.hostHeaderMiddlewareOptions)}});et.getHostHeaderPlugin=YG});var UP=u(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.getLoggerPlugin=qt.loggerMiddlewareOptions=qt.loggerMiddleware=void 0;var KG=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:p}=d,m=l??t.inputFilterSensitiveLog,f=p??t.outputFilterSensitiveLog,{$metadata:_,...y}=s.output;return(n=c?.info)===null||n===void 0||n.call(c,{clientName:i,commandName:a,input:m(r.input),output:f(y),metadata:_}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,p=l??t.inputFilterSensitiveLog;throw(o=c?.error)===null||o===void 0||o.call(c,{clientName:i,commandName:a,input:p(r.input),error:s,metadata:s.$metadata}),s}};qt.loggerMiddleware=KG;qt.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var JG=e=>({applyToStack:t=>{t.add((0,qt.loggerMiddleware)(),qt.loggerMiddlewareOptions)}});qt.getLoggerPlugin=JG});var Xc=u(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});var XG=(R(),P(x));XG.__exportStar(UP(),o_)});var Qc=u(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getRecursionDetectionPlugin=Mt.addRecursionDetectionMiddlewareOptions=Mt.recursionDetectionMiddleware=void 0;var QG=Z(),jP="X-Amzn-Trace-Id",ZG="AWS_LAMBDA_FUNCTION_NAME",e4="_X_AMZN_TRACE_ID",t4=e=>t=>async r=>{let{request:n}=r;if(!QG.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(jP))return t(r);let o=process.env[ZG],s=process.env[e4],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[jP]=s),t({...r,request:n})};Mt.recursionDetectionMiddleware=t4;Mt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var r4=e=>({applyToStack:t=>{t.add((0,Mt.recursionDetectionMiddleware)(e),Mt.addRecursionDetectionMiddlewareOptions)}});Mt.getRecursionDetectionPlugin=r4});var LP=u(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.resolveUserAgentConfig=void 0;function n4(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Zc.resolveUserAgentConfig=n4});var s_=u(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.isIpAddress=void 0;var o4=ve();Object.defineProperty(ed,"isIpAddress",{enumerable:!0,get:function(){return o4.isIpAddress}})});var $P=u(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.isVirtualHostableS3Bucket=void 0;var s4=ve(),i4=s_(),a4=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,ai.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,s4.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,i4.isIpAddress)(e))};ai.isVirtualHostableS3Bucket=a4});var HP=u(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.parseArn=void 0;var c4=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};td.parseArn=c4});var zP=u((Tpe,d4)=>{d4.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var i_=u(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.getUserAgentPrefix=bt.useDefaultPartitionInfo=bt.setPartitionInfo=bt.partition=void 0;var l4=(R(),P(x)),VP=l4.__importDefault(zP()),BP=VP.default,WP="",u4=e=>{let{partitions:t}=BP;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};bt.partition=u4;var p4=(e,t="")=>{BP=e,WP=t};bt.setPartitionInfo=p4;var f4=()=>{(0,bt.setPartitionInfo)(VP.default,"")};bt.useDefaultPartitionInfo=f4;var m4=()=>WP;bt.getUserAgentPrefix=m4});var YP=u(GP=>{"use strict";Object.defineProperty(GP,"__esModule",{value:!0});var _4=ve(),g4=$P(),h4=HP(),y4=i_(),v4={isVirtualHostableS3Bucket:g4.isVirtualHostableS3Bucket,parseArn:h4.parseArn,partition:y4.partition};_4.customEndpointFunctions.aws=v4});var KP=u(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.resolveEndpoint=void 0;var S4=ve();Object.defineProperty(rd,"resolveEndpoint",{enumerable:!0,get:function(){return S4.resolveEndpoint}})});var JP=u(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.EndpointError=void 0;var E4=ve();Object.defineProperty(nd,"EndpointError",{enumerable:!0,get:function(){return E4.EndpointError}})});var QP=u(XP=>{"use strict";Object.defineProperty(XP,"__esModule",{value:!0})});var ex=u(ZP=>{"use strict";Object.defineProperty(ZP,"__esModule",{value:!0})});var rx=u(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0})});var ox=u(nx=>{"use strict";Object.defineProperty(nx,"__esModule",{value:!0})});var ix=u(sx=>{"use strict";Object.defineProperty(sx,"__esModule",{value:!0})});var ax=u(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});var Vn=(R(),P(x));Vn.__exportStar(JP(),Rr);Vn.__exportStar(QP(),Rr);Vn.__exportStar(ex(),Rr);Vn.__exportStar(rx(),Rr);Vn.__exportStar(ox(),Rr);Vn.__exportStar(ix(),Rr)});var od=u(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var ci=(R(),P(x));ci.__exportStar(YP(),dn);ci.__exportStar(i_(),dn);ci.__exportStar(s_(),dn);ci.__exportStar(KP(),dn);ci.__exportStar(ax(),dn)});var cx=u(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.UA_ESCAPE_CHAR=Pe.UA_VALUE_ESCAPE_REGEX=Pe.UA_NAME_ESCAPE_REGEX=Pe.UA_NAME_SEPARATOR=Pe.SPACE=Pe.X_AMZ_USER_AGENT=Pe.USER_AGENT=void 0;Pe.USER_AGENT="user-agent";Pe.X_AMZ_USER_AGENT="x-amz-user-agent";Pe.SPACE=" ";Pe.UA_NAME_SEPARATOR="/";Pe.UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;Pe.UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;Pe.UA_ESCAPE_CHAR="-"});var dx=u(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.getUserAgentPlugin=kt.getUserAgentMiddlewareOptions=kt.userAgentMiddleware=void 0;var w4=od(),b4=Z(),je=cx(),C4=e=>(t,r)=>async n=>{var o,s;let{request:i}=n;if(!b4.HttpRequest.isInstance(i))return t(n);let{headers:a}=i,c=((o=r?.userAgent)===null||o===void 0?void 0:o.map(a_))||[],d=(await e.defaultUserAgentProvider()).map(a_),l=((s=e?.customUserAgent)===null||s===void 0?void 0:s.map(a_))||[],p=(0,w4.getUserAgentPrefix)(),m=(p?[p]:[]).concat([...d,...c,...l]).join(je.SPACE),f=[...d.filter(_=>_.startsWith("aws-sdk-")),...l].join(je.SPACE);return e.runtime!=="browser"?(f&&(a[je.X_AMZ_USER_AGENT]=a[je.X_AMZ_USER_AGENT]?`${a[je.USER_AGENT]} ${f}`:f),a[je.USER_AGENT]=m):a[je.X_AMZ_USER_AGENT]=m,t({...n,request:i})};kt.userAgentMiddleware=C4;var a_=e=>{var t;let r=e[0].split(je.UA_NAME_SEPARATOR).map(a=>a.replace(je.UA_NAME_ESCAPE_REGEX,je.UA_ESCAPE_CHAR)).join(je.UA_NAME_SEPARATOR),n=(t=e[1])===null||t===void 0?void 0:t.replace(je.UA_VALUE_ESCAPE_REGEX,je.UA_ESCAPE_CHAR),o=r.indexOf(je.UA_NAME_SEPARATOR),s=r.substring(0,o),i=r.substring(o+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")};kt.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var P4=e=>({applyToStack:t=>{t.add((0,kt.userAgentMiddleware)(e),kt.getUserAgentMiddlewareOptions)}});kt.getUserAgentPlugin=P4});var id=u(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});var lx=(R(),P(x));lx.__exportStar(LP(),sd);lx.__exportStar(dx(),sd)});var Mx=u((Gpe,qx)=>{var ud=Object.defineProperty,x4=Object.getOwnPropertyDescriptor,R4=Object.getOwnPropertyNames,T4=Object.prototype.hasOwnProperty,b=(e,t)=>ud(e,"name",{value:t,configurable:!0}),O4=(e,t)=>{for(var r in t)ud(e,r,{get:t[r],enumerable:!0})},A4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R4(t))!T4.call(e,o)&&o!==r&&ud(e,o,{get:()=>t[o],enumerable:!(n=x4(t,o))||n.enumerable});return e},I4=e=>A4(ud({},"__esModule",{value:!0}),e),px={};O4(px,{Client:()=>D4,Command:()=>hx,LazyJsonString:()=>O6,NoOpLogger:()=>N4,SENSITIVE_STRING:()=>k4,ServiceException:()=>h6,StringWrapper:()=>fi,_json:()=>m_,collectBody:()=>q4,convertMap:()=>A6,createAggregatedClient:()=>F4,dateToUtcString:()=>Cx,decorateServiceException:()=>Rx,emitWarningIfUnsupportedVersion:()=>E6,expectBoolean:()=>j4,expectByte:()=>f_,expectFloat32:()=>cd,expectInt:()=>$4,expectInt32:()=>u_,expectLong:()=>ui,expectNonNull:()=>z4,expectNumber:()=>li,expectObject:()=>vx,expectShort:()=>p_,expectString:()=>V4,expectUnion:()=>B4,extendedEncodeURIComponent:()=>ld,getArrayIfSingleItem:()=>T6,getDefaultClientConfiguration:()=>x6,getDefaultExtensionConfiguration:()=>Ox,getValueFromTextNode:()=>Ax,handleFloat:()=>Y4,limitedParseDouble:()=>h_,limitedParseFloat:()=>K4,limitedParseFloat32:()=>J4,loadConfigsForDefaultMode:()=>S6,logger:()=>pi,map:()=>v_,parseBoolean:()=>U4,parseEpochTimestamp:()=>c6,parseRfc3339DateTime:()=>t6,parseRfc3339DateTimeWithOffset:()=>n6,parseRfc7231DateTime:()=>a6,resolveDefaultRuntimeConfig:()=>R6,resolvedPath:()=>M6,serializeFloat:()=>k6,splitEvery:()=>Dx,strictParseByte:()=>bx,strictParseDouble:()=>g_,strictParseFloat:()=>W4,strictParseFloat32:()=>Sx,strictParseInt:()=>X4,strictParseInt32:()=>Q4,strictParseLong:()=>wx,strictParseShort:()=>Bn,take:()=>I6,throwDefaultError:()=>Tx,withBaseException:()=>y6});qx.exports=I4(px);var fx=class{trace(){}debug(){}info(){}warn(){}error(){}};b(fx,"NoOpLogger");var N4=fx,mx=Ys(),_x=class{constructor(t){this.middlewareStack=(0,mx.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};b(_x,"Client");var D4=_x,c_=Js(),q4=b(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return c_.Uint8ArrayBlobAdapter.mutate(e);if(!e)return c_.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return c_.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),l_=U(),gx=class{constructor(){this.middlewareStack=(0,mx.constructStack)()}static classBuilder(){return new M4}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:p}){for(let g of o.bind(this)(p,t,r,n))this.middlewareStack.use(g);let m=t.concat(this.middlewareStack),{logger:f}=r,_={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[l_.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:y}=r;return m.resolve(g=>y.handle(g.request,n||{}),_)}};b(gx,"Command");var hx=gx,yx=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends hx{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},b(t,"CommandRef"),t)}};b(yx,"ClassBuilder");var M4=yx,k4="***SensitiveInformation***",F4=b((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=b(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),U4=b(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),j4=b(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&pi.warn(dd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&pi.warn(dd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),li=b(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&pi.warn(dd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),L4=Math.ceil(2**127*(2-2**-23)),cd=b(e=>{let t=li(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>L4)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),ui=b(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),$4=ui,u_=b(e=>__(e,32),"expectInt32"),p_=b(e=>__(e,16),"expectShort"),f_=b(e=>__(e,8),"expectByte"),__=b((e,t)=>{let r=ui(e);if(r!==void 0&&H4(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),H4=b((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),z4=b((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),vx=b(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),V4=b(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return pi.warn(dd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),B4=b(e=>{if(e==null)return;let t=vx(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),g_=b(e=>li(typeof e=="string"?Gn(e):e),"strictParseDouble"),W4=g_,Sx=b(e=>cd(typeof e=="string"?Gn(e):e),"strictParseFloat32"),G4=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Gn=b(e=>{let t=e.match(G4);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),h_=b(e=>typeof e=="string"?Ex(e):li(e),"limitedParseDouble"),Y4=h_,K4=h_,J4=b(e=>typeof e=="string"?Ex(e):cd(e),"limitedParseFloat32"),Ex=b(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),wx=b(e=>ui(typeof e=="string"?Gn(e):e),"strictParseLong"),X4=wx,Q4=b(e=>u_(typeof e=="string"?Gn(e):e),"strictParseInt32"),Bn=b(e=>p_(typeof e=="string"?Gn(e):e),"strictParseShort"),bx=b(e=>f_(typeof e=="string"?Gn(e):e),"strictParseByte"),dd=b(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),pi={warn:console.warn},Z4=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Cx(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${Z4[n]}, ${c} ${y_[r]} ${t} ${d}:${l}:${p} GMT`}b(Cx,"dateToUtcString");var e6=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),t6=b(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=e6.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=Bn(Wn(n)),p=Ft(o,"month",1,12),m=Ft(s,"day",1,31);return di(l,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),r6=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),n6=b(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=r6.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,p=Bn(Wn(n)),m=Ft(o,"month",1,12),f=Ft(s,"day",1,31),_=di(p,m,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&_.setTime(_.getTime()-g6(l)),_},"parseRfc3339DateTimeWithOffset"),o6=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),s6=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),i6=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),a6=b(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=o6.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return di(Bn(Wn(s)),d_(o),Ft(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=s6.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return u6(di(d6(s),d_(o),Ft(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=i6.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return di(Bn(Wn(d)),d_(n),Ft(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),c6=b(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=g_(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),di=b((e,t,r,n)=>{let o=t-1;return f6(e,o,r),new Date(Date.UTC(e,o,r,Ft(n.hours,"hour",0,23),Ft(n.minutes,"minute",0,59),Ft(n.seconds,"seconds",0,60),_6(n.fractionalMilliseconds)))},"buildDate"),d6=b(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Bn(Wn(e));return r<t?r+100:r},"parseTwoDigitYear"),l6=50*365*24*60*60*1e3,u6=b(e=>e.getTime()-new Date().getTime()>l6?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),d_=b(e=>{let t=y_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),p6=[31,28,31,30,31,30,31,31,30,31,30,31],f6=b((e,t,r)=>{let n=p6[t];if(t===1&&m6(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${y_[t]} in ${e}: ${r}`)},"validateDayOfMonth"),m6=b(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Ft=b((e,t,r,n)=>{let o=bx(Wn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),_6=b(e=>e==null?0:Sx("0."+e)*1e3,"parseMilliseconds"),g6=b(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Wn=b(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),Px=class xx extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,xx.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};b(Px,"ServiceException");var h6=Px,Rx=b((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),Tx=b(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=v6(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw Rx(i,t)},"throwDefaultError"),y6=b(e=>({output:t,parsedBody:r,errorCode:n})=>{Tx({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),v6=b(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),S6=b(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),ux=!1,E6=b(e=>{e&&!ux&&parseInt(e.substring(1,e.indexOf(".")))<14&&(ux=!0)},"emitWarningIfUnsupportedVersion"),w6=b(e=>{let t=[];for(let r in l_.AlgorithmId){let n=l_.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),b6=b(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),C6=b(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),P6=b(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),Ox=b(e=>({...w6(e),...C6(e)}),"getDefaultExtensionConfiguration"),x6=Ox,R6=b(e=>({...b6(e),...P6(e)}),"resolveDefaultRuntimeConfig");function ld(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}b(ld,"extendedEncodeURIComponent");var T6=b(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Ax=b(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Ax(e[r]));return e},"getValueFromTextNode"),fi=b(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");fi.prototype=Object.create(String.prototype,{constructor:{value:fi,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(fi,String);var Ix=class ad extends fi{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof ad?t:t instanceof String||typeof t=="string"?new ad(t):new ad(JSON.stringify(t))}};b(Ix,"LazyJsonString");var O6=Ix;function v_(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,N6(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}Nx(n,null,s,i)}return n}b(v_,"map");var A6=b(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),I6=b((e,t)=>{let r={};for(let n in t)Nx(r,e,t,n);return r},"take"),N6=b((e,t,r)=>v_(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),Nx=b((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=D6,c=q6,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),D6=b(e=>e!=null,"nonNullish"),q6=b(e=>e,"pass"),M6=b((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>ld(a)).join("/"):ld(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),k6=b(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),m_=b(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(m_);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=m_(e[r]));return t}return e},"_json");function Dx(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}b(Dx,"splitEvery")});var He=u((efe,tR)=>{var fd=Object.defineProperty,F6=Object.getOwnPropertyDescriptor,U6=Object.getOwnPropertyNames,j6=Object.prototype.hasOwnProperty,ee=(e,t)=>fd(e,"name",{value:t,configurable:!0}),L6=(e,t)=>{for(var r in t)fd(e,r,{get:t[r],enumerable:!0})},$6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U6(t))!j6.call(e,o)&&o!==r&&fd(e,o,{get:()=>t[o],enumerable:!(n=F6(t,o))||n.enumerable});return e},H6=e=>$6(fd({},"__esModule",{value:!0}),e),kx={};L6(kx,{DefaultIdentityProviderConfig:()=>X6,EXPIRATION_MS:()=>Kx,HttpApiKeyAuthSigner:()=>Q6,HttpBearerAuthSigner:()=>Z6,NoAuthSigner:()=>e8,RequestBuilder:()=>Zx,createIsIdentityExpiredFunction:()=>Yx,createPaginator:()=>eR,doesIdentityRequireRefresh:()=>Jx,getHttpAuthSchemeEndpointRuleSetPlugin:()=>V6,getHttpAuthSchemePlugin:()=>W6,getHttpSigningPlugin:()=>J6,getSmithyContext:()=>n8,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>jx,httpAuthSchemeMiddleware:()=>S_,httpAuthSchemeMiddlewareOptions:()=>Lx,httpSigningMiddleware:()=>Hx,httpSigningMiddlewareOptions:()=>zx,isIdentityExpired:()=>t8,memoizeIdentityProvider:()=>r8,normalizeProvider:()=>o8,requestBuilder:()=>Xx});tR.exports=H6(kx);var Fx=hr();function Ux(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}ee(Ux,"convertHttpAuthSchemesToMap");var S_=ee((e,t)=>(r,n)=>async o=>{var s;let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=Ux(e.httpAuthSchemes),c=(0,Fx.getSmithyContext)(n),d=[];for(let l of i){let p=a.get(l.schemeId);if(!p){d.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let m=p.identityProvider(await t.identityProviderConfigProvider(e));if(!m){d.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:_={}}=((s=l.propertiesExtractor)==null?void 0:s.call(l,e,n))||{};l.identityProperties=Object.assign(l.identityProperties||{},f),l.signingProperties=Object.assign(l.signingProperties||{},_),c.selectedHttpAuthScheme={httpAuthOption:l,identity:await m(l.identityProperties),signer:p.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)},"httpAuthSchemeMiddleware"),z6=j(),jx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:z6.endpointMiddlewareOptions.name},V6=ee((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(S_(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),jx)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),B6=Y(),Lx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:B6.serializerMiddlewareOption.name},W6=ee((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(S_(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Lx)}}),"getHttpAuthSchemePlugin"),$x=Z(),G6=ee(e=>t=>{throw t},"defaultErrorHandler"),Y6=ee((e,t)=>{},"defaultSuccessHandler"),Hx=ee(e=>(t,r)=>async n=>{if(!$x.HttpRequest.isInstance(n.request))return t(n);let s=(0,Fx.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,d=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||G6)(i));return(c.successHandler||Y6)(d.response,i),d},"httpSigningMiddleware"),K6=Ue(),zx={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:K6.retryMiddlewareOptions.name},J6=ee(e=>({applyToStack:t=>{t.addRelativeTo(Hx(e),zx)}}),"getHttpSigningPlugin"),Vx=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};ee(Vx,"DefaultIdentityProviderConfig");var X6=Vx,pd=U(),Bx=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===pd.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===pd.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}};ee(Bx,"HttpApiKeyAuthSigner");var Q6=Bx,Wx=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}};ee(Wx,"HttpBearerAuthSigner");var Z6=Wx,Gx=class{async sign(t,r,n){return t}};ee(Gx,"NoAuthSigner");var e8=Gx,Yx=ee(e=>t=>Jx(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),Kx=3e5,t8=Yx(Kx),Jx=ee(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),r8=ee((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=ee(async d=>{s||(s=n(d));try{o=await s,i=!0,a=!1}finally{s=void 0}return o},"coalesceProvider");return t===void 0?async d=>((!i||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!i||d?.forceRefresh)&&(o=await c(d)),a?o:r(o)?(t(o)&&await c(d),o):(a=!0,o))},"memoizeIdentityProvider"),n8=ee(e=>e[pd.SMITHY_CONTEXT_KEY]||(e[pd.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),o8=ee(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),s8=Mx();function Xx(e,t){return new Zx(e,t)}ee(Xx,"requestBuilder");var Qx=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new $x.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=(0,s8.resolvedPath)(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};ee(Qx,"RequestBuilder");var Zx=Qx,i8=ee(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function eR(e,t,r,n,o){return ee(async function*(i,a,...c){let d=i.startingToken||void 0,l=!0,p;for(;l;){if(a[r]=d,o&&(a[o]=a[o]??i.pageSize),i.client instanceof e)p=await i8(t,i.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let m=d;d=a8(p,n),l=!!(d&&(!i.stopOnSameToken||d!==m))}return void 0},"paginateOperation")}ee(eR,"createPaginator");var a8=ee((e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r},"get")});var D=u((sfe,PR)=>{var yd=Object.defineProperty,c8=Object.getOwnPropertyDescriptor,d8=Object.getOwnPropertyNames,l8=Object.prototype.hasOwnProperty,C=(e,t)=>yd(e,"name",{value:t,configurable:!0}),u8=(e,t)=>{for(var r in t)yd(e,r,{get:t[r],enumerable:!0})},p8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d8(t))!l8.call(e,o)&&o!==r&&yd(e,o,{get:()=>t[o],enumerable:!(n=c8(t,o))||n.enumerable});return e},f8=e=>p8(yd({},"__esModule",{value:!0}),e),nR={};u8(nR,{Client:()=>_8,Command:()=>cR,LazyJsonString:()=>uY,NoOpLogger:()=>m8,SENSITIVE_STRING:()=>y8,ServiceException:()=>Z8,StringWrapper:()=>yi,_json:()=>R_,collectBody:()=>g8,convertMap:()=>pY,createAggregatedClient:()=>v8,dateToUtcString:()=>_R,decorateServiceException:()=>yR,emitWarningIfUnsupportedVersion:()=>nY,expectBoolean:()=>E8,expectByte:()=>x_,expectFloat32:()=>_d,expectInt:()=>b8,expectInt32:()=>C_,expectLong:()=>gi,expectNonNull:()=>P8,expectNumber:()=>_i,expectObject:()=>lR,expectShort:()=>P_,expectString:()=>x8,expectUnion:()=>R8,extendedEncodeURIComponent:()=>hd,getArrayIfSingleItem:()=>lY,getDefaultClientConfiguration:()=>cY,getDefaultExtensionConfiguration:()=>SR,getValueFromTextNode:()=>ER,handleFloat:()=>A8,limitedParseDouble:()=>A_,limitedParseFloat:()=>I8,limitedParseFloat32:()=>N8,loadConfigsForDefaultMode:()=>rY,logger:()=>hi,map:()=>N_,parseBoolean:()=>S8,parseEpochTimestamp:()=>V8,parseRfc3339DateTime:()=>F8,parseRfc3339DateTimeWithOffset:()=>j8,parseRfc7231DateTime:()=>z8,resolveDefaultRuntimeConfig:()=>dY,resolvedPath:()=>hY,serializeFloat:()=>yY,splitEvery:()=>CR,strictParseByte:()=>mR,strictParseDouble:()=>O_,strictParseFloat:()=>T8,strictParseFloat32:()=>uR,strictParseInt:()=>D8,strictParseInt32:()=>q8,strictParseLong:()=>fR,strictParseShort:()=>Yn,take:()=>fY,throwDefaultError:()=>vR,withBaseException:()=>eY});PR.exports=f8(nR);var oR=class{trace(){}debug(){}info(){}warn(){}error(){}};C(oR,"NoOpLogger");var m8=oR,sR=Ys(),iR=class{constructor(t){this.middlewareStack=(0,sR.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};C(iR,"Client");var _8=iR,E_=Js(),g8=C(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return E_.Uint8ArrayBlobAdapter.mutate(e);if(!e)return E_.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return E_.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),b_=U(),aR=class{constructor(){this.middlewareStack=(0,sR.constructStack)()}static classBuilder(){return new h8}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:p}){for(let g of o.bind(this)(p,t,r,n))this.middlewareStack.use(g);let m=t.concat(this.middlewareStack),{logger:f}=r,_={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[b_.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:y}=r;return m.resolve(g=>y.handle(g.request,n||{}),_)}};C(aR,"Command");var cR=aR,dR=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends cR{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},C(t,"CommandRef"),t)}};C(dR,"ClassBuilder");var h8=dR,y8="***SensitiveInformation***",v8=C((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=C(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),S8=C(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),E8=C(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&hi.warn(gd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&hi.warn(gd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),_i=C(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&hi.warn(gd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),w8=Math.ceil(2**127*(2-2**-23)),_d=C(e=>{let t=_i(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>w8)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),gi=C(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),b8=gi,C_=C(e=>T_(e,32),"expectInt32"),P_=C(e=>T_(e,16),"expectShort"),x_=C(e=>T_(e,8),"expectByte"),T_=C((e,t)=>{let r=gi(e);if(r!==void 0&&C8(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),C8=C((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),P8=C((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),lR=C(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),x8=C(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return hi.warn(gd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),R8=C(e=>{if(e==null)return;let t=lR(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),O_=C(e=>_i(typeof e=="string"?Jn(e):e),"strictParseDouble"),T8=O_,uR=C(e=>_d(typeof e=="string"?Jn(e):e),"strictParseFloat32"),O8=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Jn=C(e=>{let t=e.match(O8);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),A_=C(e=>typeof e=="string"?pR(e):_i(e),"limitedParseDouble"),A8=A_,I8=A_,N8=C(e=>typeof e=="string"?pR(e):_d(e),"limitedParseFloat32"),pR=C(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),fR=C(e=>gi(typeof e=="string"?Jn(e):e),"strictParseLong"),D8=fR,q8=C(e=>C_(typeof e=="string"?Jn(e):e),"strictParseInt32"),Yn=C(e=>P_(typeof e=="string"?Jn(e):e),"strictParseShort"),mR=C(e=>x_(typeof e=="string"?Jn(e):e),"strictParseByte"),gd=C(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),hi={warn:console.warn},M8=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _R(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${M8[n]}, ${c} ${I_[r]} ${t} ${d}:${l}:${p} GMT`}C(_R,"dateToUtcString");var k8=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),F8=C(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=k8.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=Yn(Kn(n)),p=Ut(o,"month",1,12),m=Ut(s,"day",1,31);return mi(l,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),U8=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),j8=C(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=U8.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,p=Yn(Kn(n)),m=Ut(o,"month",1,12),f=Ut(s,"day",1,31),_=mi(p,m,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&_.setTime(_.getTime()-Q8(l)),_},"parseRfc3339DateTimeWithOffset"),L8=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),$8=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),H8=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),z8=C(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=L8.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return mi(Yn(Kn(s)),w_(o),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=$8.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return G8(mi(B8(s),w_(o),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=H8.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return mi(Yn(Kn(d)),w_(n),Ut(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),V8=C(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=O_(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),mi=C((e,t,r,n)=>{let o=t-1;return K8(e,o,r),new Date(Date.UTC(e,o,r,Ut(n.hours,"hour",0,23),Ut(n.minutes,"minute",0,59),Ut(n.seconds,"seconds",0,60),X8(n.fractionalMilliseconds)))},"buildDate"),B8=C(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Yn(Kn(e));return r<t?r+100:r},"parseTwoDigitYear"),W8=50*365*24*60*60*1e3,G8=C(e=>e.getTime()-new Date().getTime()>W8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),w_=C(e=>{let t=I_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),Y8=[31,28,31,30,31,30,31,31,30,31,30,31],K8=C((e,t,r)=>{let n=Y8[t];if(t===1&&J8(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${I_[t]} in ${e}: ${r}`)},"validateDayOfMonth"),J8=C(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Ut=C((e,t,r,n)=>{let o=mR(Kn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),X8=C(e=>e==null?0:uR("0."+e)*1e3,"parseMilliseconds"),Q8=C(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Kn=C(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),gR=class hR extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,hR.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};C(gR,"ServiceException");var Z8=gR,yR=C((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),vR=C(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=tY(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw yR(i,t)},"throwDefaultError"),eY=C(e=>({output:t,parsedBody:r,errorCode:n})=>{vR({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),tY=C(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),rY=C(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),rR=!1,nY=C(e=>{e&&!rR&&parseInt(e.substring(1,e.indexOf(".")))<14&&(rR=!0)},"emitWarningIfUnsupportedVersion"),oY=C(e=>{let t=[];for(let r in b_.AlgorithmId){let n=b_.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),sY=C(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),iY=C(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),aY=C(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),SR=C(e=>({...oY(e),...iY(e)}),"getDefaultExtensionConfiguration"),cY=SR,dY=C(e=>({...sY(e),...aY(e)}),"resolveDefaultRuntimeConfig");function hd(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}C(hd,"extendedEncodeURIComponent");var lY=C(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),ER=C(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ER(e[r]));return e},"getValueFromTextNode"),yi=C(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");yi.prototype=Object.create(String.prototype,{constructor:{value:yi,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(yi,String);var wR=class md extends yi{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof md?t:t instanceof String||typeof t=="string"?new md(t):new md(JSON.stringify(t))}};C(wR,"LazyJsonString");var uY=wR;function N_(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,mY(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}bR(n,null,s,i)}return n}C(N_,"map");var pY=C(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),fY=C((e,t)=>{let r={};for(let n in t)bR(r,e,t,n);return r},"take"),mY=C((e,t,r)=>N_(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),bR=C((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=_Y,c=gY,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),_Y=C(e=>e!=null,"nonNullish"),gY=C(e=>e,"pass"),hY=C((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>hd(a)).join("/"):hd(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),yY=C(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),R_=C(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(R_);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=R_(e[r]));return t}return e},"_json");function CR(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}C(CR,"splitEvery")});var RR=u(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.emitWarningIfUnsupportedVersion=void 0;var xR=!1,vY=e=>{e&&!xR&&parseInt(e.substring(1,e.indexOf(".")))<16&&(xR=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))};vd.emitWarningIfUnsupportedVersion=vY});var TR=u(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});var SY=(R(),P(x));SY.__exportStar(RR(),D_)});var OR=u(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.getDateHeader=void 0;var EY=Z(),wY=e=>{var t,r,n;return EY.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};Sd.getDateHeader=wY});var q_=u(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.getSkewCorrectedDate=void 0;var bY=e=>new Date(Date.now()+e);Ed.getSkewCorrectedDate=bY});var AR=u(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.isClockSkewed=void 0;var CY=q_(),PY=(e,t)=>Math.abs((0,CY.getSkewCorrectedDate)(t).getTime()-e)>=3e5;wd.isClockSkewed=PY});var IR=u(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.getUpdatedSystemClockOffset=void 0;var xY=AR(),RY=(e,t)=>{let r=Date.parse(e);return(0,xY.isClockSkewed)(r,t)?r-Date.now():t};bd.getUpdatedSystemClockOffset=RY});var NR=u(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var M_=(R(),P(x));M_.__exportStar(OR(),vi);M_.__exportStar(q_(),vi);M_.__exportStar(IR(),vi)});var DR=u(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.throwAWSSDKSigningPropertyError=void 0;var TY=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};Cd.throwAWSSDKSigningPropertyError=TY});var qR=u(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.AWSSDKSigV4Signer=void 0;var OY=Z(),Si=NR(),Ei=DR(),AY=async e=>{var t,r,n;let o=(0,Ei.throwAWSSDKSigningPropertyError)("context",e.context),s=(0,Ei.throwAWSSDKSigningPropertyError)("config",e.config),i=(n=(r=(t=o.endpointV2)===null||t===void 0?void 0:t.properties)===null||r===void 0?void 0:r.authSchemes)===null||n===void 0?void 0:n[0],c=await(0,Ei.throwAWSSDKSigningPropertyError)("signer",s.signer)(i),d=e?.signingRegion,l=e?.signingName;return{config:s,signer:c,signingRegion:d,signingName:l}},k_=class{async sign(t,r,n){if(!OY.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingName:a}=await AY(n);return await s.sign(t,{signingDate:(0,Si.getSkewCorrectedDate)(o.systemClockOffset),signingRegion:i,signingService:a})}errorHandler(t){return r=>{var n;let o=(n=r.ServerTime)!==null&&n!==void 0?n:(0,Si.getDateHeader)(r.$response);if(o){let s=(0,Ei.throwAWSSDKSigningPropertyError)("config",t.config);s.systemClockOffset=(0,Si.getUpdatedSystemClockOffset)(o,s.systemClockOffset)}throw r}}successHandler(t,r){let n=(0,Si.getDateHeader)(t);if(n){let o=(0,Ei.throwAWSSDKSigningPropertyError)("config",r.config);o.systemClockOffset=(0,Si.getUpdatedSystemClockOffset)(n,o.systemClockOffset)}}};Pd.AWSSDKSigV4Signer=k_});var kR=u(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.resolveAWSSDKSigV4Config=void 0;var ln=He(),MR=za(),IY=e=>{let t;e.credentials&&(t=(0,ln.memoizeIdentityProvider)(e.credentials,ln.isIdentityExpired,ln.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,ln.normalizeProvider)(e.credentialDefaultProvider(e)):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,ln.normalizeProvider)(e.signer):e.regionInfoProvider?s=()=>(0,ln.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||MR.SignatureV4;return new p(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,ln.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||MR.SignatureV4;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};xd.resolveAWSSDKSigV4Config=IY});var UR=u(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});var FR=(R(),P(x));FR.__exportStar(qR(),Rd);FR.__exportStar(kR(),Rd)});var jR=u(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});var NY=(R(),P(x));NY.__exportStar(UR(),F_)});var LR=u(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr._toNum=Tr._toBool=Tr._toStr=void 0;var DY=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e};Tr._toStr=DY;var qY=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e};Tr._toBool=qY;var MY=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e};Tr._toNum=MY});var $R=u(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.awsExpectUnion=void 0;var kY=D(),FY=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,kY.expectUnion)(e)};Td.awsExpectUnion=FY});var zR=u(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});var HR=(R(),P(x));HR.__exportStar(LR(),Od);HR.__exportStar($R(),Od)});var bi=u(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});var U_=(R(),P(x));U_.__exportStar(TR(),wi);U_.__exportStar(jR(),wi);U_.__exportStar(zR(),wi)});var j_=u(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.resolveHttpAuthSchemeConfig=Ct.resolveStsAuthConfig=Ct.defaultSTSHttpAuthSchemeProvider=Ct.defaultSTSHttpAuthSchemeParametersProvider=void 0;var UY=bi(),VR=hr(),jY=Ci(),LY=async(e,t,r)=>({operation:(0,VR.getSmithyContext)(t).operation,region:await(0,VR.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ct.defaultSTSHttpAuthSchemeParametersProvider=LY;function $Y(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function BR(e){return{schemeId:"smithy.api#noAuth"}}var HY=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(BR(e));break}case"AssumeRoleWithWebIdentity":{t.push(BR(e));break}default:t.push($Y(e))}return t};Ct.defaultSTSHttpAuthSchemeProvider=HY;var zY=e=>({...e,stsClientCtor:jY.STSClient});Ct.resolveStsAuthConfig=zY;var VY=e=>{let t=(0,Ct.resolveStsAuthConfig)(e);return{...(0,UY.resolveAWSSDKSigV4Config)(t)}};Ct.resolveHttpAuthSchemeConfig=VY});var WR=u(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.resolveClientEndpointParameters=void 0;var BY=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Ad.resolveClientEndpointParameters=BY});var GR=u((Pfe,WY)=>{WY.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.477.0","@aws-sdk/credential-provider-node":"3.478.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-middleware":"^2.0.8","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Id=u(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.STSServiceException=Xn.__ServiceException=void 0;var YR=D();Object.defineProperty(Xn,"__ServiceException",{enumerable:!0,get:function(){return YR.ServiceException}});var L_=class e extends YR.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Xn.STSServiceException=L_});var Ar=u(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.GetSessionTokenResponseFilterSensitiveLog=F.GetFederationTokenResponseFilterSensitiveLog=F.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=F.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=F.AssumeRoleWithSAMLResponseFilterSensitiveLog=F.AssumeRoleWithSAMLRequestFilterSensitiveLog=F.AssumeRoleResponseFilterSensitiveLog=F.CredentialsFilterSensitiveLog=F.InvalidAuthorizationMessageException=F.IDPCommunicationErrorException=F.InvalidIdentityTokenException=F.IDPRejectedClaimException=F.RegionDisabledException=F.PackedPolicyTooLargeException=F.MalformedPolicyDocumentException=F.ExpiredTokenException=void 0;var K_=D(),Or=Id(),$_=class e extends Or.STSServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.ExpiredTokenException=$_;var H_=class e extends Or.STSServiceException{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.MalformedPolicyDocumentException=H_;var z_=class e extends Or.STSServiceException{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.PackedPolicyTooLargeException=z_;var V_=class e extends Or.STSServiceException{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.RegionDisabledException=V_;var B_=class e extends Or.STSServiceException{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.IDPRejectedClaimException=B_;var W_=class e extends Or.STSServiceException{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.InvalidIdentityTokenException=W_;var G_=class e extends Or.STSServiceException{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.IDPCommunicationErrorException=G_;var Y_=class e extends Or.STSServiceException{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};F.InvalidAuthorizationMessageException=Y_;var GY=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:K_.SENSITIVE_STRING}});F.CredentialsFilterSensitiveLog=GY;var YY=e=>({...e,...e.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(e.Credentials)}});F.AssumeRoleResponseFilterSensitiveLog=YY;var KY=e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:K_.SENSITIVE_STRING}});F.AssumeRoleWithSAMLRequestFilterSensitiveLog=KY;var JY=e=>({...e,...e.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(e.Credentials)}});F.AssumeRoleWithSAMLResponseFilterSensitiveLog=JY;var XY=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:K_.SENSITIVE_STRING}});F.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=XY;var QY=e=>({...e,...e.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(e.Credentials)}});F.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=QY;var ZY=e=>({...e,...e.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(e.Credentials)}});F.GetFederationTokenResponseFilterSensitiveLog=ZY;var eK=e=>({...e,...e.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(e.Credentials)}});F.GetSessionTokenResponseFilterSensitiveLog=eK});var Nd=u(Jt=>{"use strict";var KR=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",tK=KR+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",JR="["+KR+"]["+tK+"]*",rK=new RegExp("^"+JR+"$"),nK=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},oK=function(e){let t=rK.exec(e);return!(t===null||typeof t>"u")};Jt.isExist=function(e){return typeof e<"u"};Jt.isEmptyObject=function(e){return Object.keys(e).length===0};Jt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};Jt.getValue=function(e){return Jt.isExist(e)?e:""};Jt.isName=oK;Jt.getAllMatches=nK;Jt.nameRegexp=JR});var X_=u(tT=>{"use strict";var J_=Nd(),sK={allowBooleanAttributes:!1,unpairedTags:[]};tT.validate=function(e,t){t=Object.assign({},sK,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=QR(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=ZR(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!fK(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",ue("InvalidTag",p,Le(e,s))}let d=cK(e,s);if(d===!1)return ue("InvalidAttr","Attributes for '"+c+"' have open quote.",Le(e,s));let l=d.value;if(s=d.index,l[l.length-1]==="/"){let p=s-l.length;l=l.substring(0,l.length-1);let m=eT(l,t);if(m===!0)n=!0;else return ue(m.err.code,m.err.msg,Le(e,p+m.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return ue("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Le(e,i));{let p=r.pop();if(c!==p.tagName){let m=Le(e,p.tagStartPos);return ue("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",Le(e,i))}r.length==0&&(o=!0)}}else return ue("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Le(e,s));else{let p=eT(l,t);if(p!==!0)return ue(p.err.code,p.err.msg,Le(e,s-l.length+p.err.line));if(o===!0)return ue("InvalidXml","Multiple possible root nodes found.",Le(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=ZR(e,s);continue}else if(e[s+1]==="?"){if(s=QR(e,++s),s.err)return s}else break;else if(e[s]==="&"){let p=uK(e,s);if(p==-1)return ue("InvalidChar","char '&' is not expected.",Le(e,s));s=p}else if(o===!0&&!XR(e[s]))return ue("InvalidXml","Extra text at the end",Le(e,s));e[s]==="<"&&s--}}else{if(XR(e[s]))continue;return ue("InvalidChar","char '"+e[s]+"' is not expected.",Le(e,s))}if(n){if(r.length==1)return ue("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Le(e,r[0].tagStartPos));if(r.length>0)return ue("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ue("InvalidXml","Start tag expected.",1);return!0};function XR(e){return e===" "||e==="	"||e===`
`||e==="\r"}function QR(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ue("InvalidXml","XML declaration allowed only at the start of the document.",Le(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ZR(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var iK='"',aK="'";function cK(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===iK||e[t]===aK)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var dK=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function eT(e,t){let r=J_.getAllMatches(e,dK),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ue("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Pi(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ue("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Pi(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ue("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Pi(r[o]));let s=r[o][2];if(!pK(s))return ue("InvalidAttr","Attribute '"+s+"' is an invalid name.",Pi(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ue("InvalidAttr","Attribute '"+s+"' is repeated.",Pi(r[o]))}return!0}function lK(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function uK(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,lK(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ue(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function pK(e){return J_.isName(e)}function fK(e){return J_.isName(e)}function Le(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Pi(e){return e.startIndex+e[1].length}});var nT=u(Q_=>{var rT={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},mK=function(e){return Object.assign({},rT,e)};Q_.buildOptions=mK;Q_.defaultOptions=rT});var sT=u((Ife,oT)=>{"use strict";var Z_=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};oT.exports=Z_});var aT=u((Nfe,iT)=>{var _K=Nd();function gK(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&vK(e,t))t+=7,[entityName,val,t]=hK(e,t+1),val.indexOf("&")===-1&&(r[bK(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&SK(e,t))t+=8;else if(o&&EK(e,t))t+=8;else if(o&&wK(e,t))t+=9;else if(yK)s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function hK(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function yK(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function vK(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function SK(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function EK(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function wK(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function bK(e){if(_K.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}iT.exports=gK});var dT=u((Dfe,cT)=>{var CK=/^[-+]?0x[a-fA-F0-9]+$/,PK=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,xK={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function RK(e,t={}){if(t=Object.assign({},xK,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&CK.test(r))return OK(r,16);if(r.search(/[eE]/)!==-1){let n=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(n){if(t.leadingZeros)r=(n[1]||"")+n[3];else if(!(n[2]==="0"&&n[3][0]==="."))return e;return t.eNotation?Number(r):e}else return e}else{let n=PK.exec(r);if(n){let o=n[1],s=n[2],i=TK(n[3]);if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;if(t.leadingZeros&&s===e)return 0;{let a=Number(r),c=""+a;return c.search(/[eE]/)!==-1?t.eNotation?a:e:r.indexOf(".")!==-1?c==="0"&&i===""||c===i||o&&c==="-"+i?a:e:s?i===c||o+i===c?a:e:r===c||r===o+c?a:e}}else return e}}function TK(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}function OK(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}cT.exports=RK});var uT=u((Mfe,lT)=>{"use strict";var ng=Nd(),xi=sT(),AK=aT(),IK=dT(),qfe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,ng.nameRegexp),eg=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=NK,this.parseXml=FK,this.parseTextData=DK,this.resolveNameSpace=qK,this.buildAttributesMap=kK,this.isItStopNode=$K,this.replaceEntitiesValue=jK,this.readStopNodeData=zK,this.saveTextToParentTag=LK,this.addChild=UK}};function NK(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function DK(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?rg(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?rg(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function qK(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var MK=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function kK(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=ng.getAllMatches(e,MK),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]),c=n[i][4],d=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let l=this.options.attributeValueProcessor(a,c,t);l==null?s[d]=c:typeof l!=typeof c||l!==c?s[d]=l:s[d]=rg(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[d]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var FK=function(e){e=e.replace(/\r\n?/g,`
`);let t=new xi("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=un(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let l=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(l=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=o.lastIndexOf("."),o=o.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=tg(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new xi(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=un(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=AK(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=un(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=tg(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let f="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let y=this.readStopNodeData(e,c,p+1);if(!y)throw new Error(`Unexpected end of ${c}`);s=y.i,f=y.tagContent}let _=new xi(c);c!==d&&l&&(_[":@"]=this.buildAttributesMap(d,o,c)),f&&(f=this.parseTextData(f,c,o,!0,l,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),_.add(this.options.textNodeName,f),this.addChild(r,_,o)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let f=new xi(c);c!==d&&l&&(f[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,f,o),o=o.substr(0,o.lastIndexOf("."))}else{let f=new xi(c);this.tagsNodeStack.push(r),c!==d&&l&&(f[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,f,o),r=f}n="",s=p}}else n+=e[s];return t.child};function UK(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var jK=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function LK(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function $K(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function HK(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function un(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function tg(e,t,r,n=">"){let o=HK(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==o.data.substr(l+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function zK(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=un(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=un(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=un(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=un(e,"]]>",r,"StopNode is not closed.")-2;else{let s=tg(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function rg(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:IK(e,r)}else return ng.isExist(e)?e:""}lT.exports=eg});var mT=u(fT=>{"use strict";function VK(e,t){return pT(e,t)}function pT(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=BK(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=pT(i[a],t,c),l=GK(d,t);i[":@"]?WK(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,l)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function BK(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function WK(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function GK(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}fT.prettify=VK});var gT=u((Ffe,_T)=>{var{buildOptions:YK}=nT(),KK=uT(),{prettify:JK}=mT(),XK=X_(),og=class{constructor(t){this.externalEntities={},this.options=YK(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=XK.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new KK(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:JK(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};_T.exports=og});var ET=u((Ufe,ST)=>{var QK=`
`;function ZK(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=QK),yT(e,t,"",r)}function yT(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=e5(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let _=a[c];t5(d,t)||(_=t.tagValueProcessor(c,_),_=vT(_,t)),s&&(o+=n),o+=_,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let _=hT(a[":@"],t),y=c==="?xml"?"":n,g=a[c][0][t.textNodeName];g=g.length!==0?" "+g:"",o+=y+`<${c}${g}${_}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);let p=hT(a[":@"],t),m=n+`<${c}${p}`,f=yT(a[c],t,d,l);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=m+">":o+=m+"/>":(!f||f.length===0)&&t.suppressEmptyNode?o+=m+"/>":f&&f.endsWith(">")?o+=m+`>${f}${n}</${c}>`:(o+=m+">",f&&n!==""&&(f.includes("/>")||f.includes("</"))?o+=n+t.indentBy+f+n:o+=f,o+=`</${c}>`),s=!0}return o}function e5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function hT(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=vT(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function t5(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function vT(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}ST.exports=ZK});var bT=u((jfe,wT)=>{"use strict";var r5=ET(),n5={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ir(e){this.options=Object.assign({},n5,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=i5),this.processTextOrObjNode=o5,this.options.format?(this.indentate=s5,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ir.prototype.build=function(e){return this.options.preserveOrder?r5(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Ir.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length,i="";for(let a=0;a<s;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?i+=this.j2x(c,t+1).val:i+=this.processTextOrObjNode(c,o,t):i+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(i=this.buildObjectNode(i,o,"",t)),n+=i}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Ir.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function o5(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Ir.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};Ir.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Ir.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Ir.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function s5(e){return this.options.indentBy.repeat(e)}function i5(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}wT.exports=Ir});var PT=u((Lfe,CT)=>{"use strict";var a5=X_(),c5=gT(),d5=bT();CT.exports={XMLParser:c5,XMLValidator:a5,XMLBuilder:d5}});var tr=u(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.de_GetSessionTokenCommand=H.de_GetFederationTokenCommand=H.de_GetCallerIdentityCommand=H.de_GetAccessKeyInfoCommand=H.de_DecodeAuthorizationMessageCommand=H.de_AssumeRoleWithWebIdentityCommand=H.de_AssumeRoleWithSAMLCommand=H.de_AssumeRoleCommand=H.se_GetSessionTokenCommand=H.se_GetFederationTokenCommand=H.se_GetCallerIdentityCommand=H.se_GetAccessKeyInfoCommand=H.se_DecodeAuthorizationMessageCommand=H.se_AssumeRoleWithWebIdentityCommand=H.se_AssumeRoleWithSAMLCommand=H.se_AssumeRoleCommand=void 0;var l5=Z(),O=D(),u5=PT(),Nr=Ar(),p5=Id(),f5=async(e,t)=>{let r=Mr,n;return n=Lr({...j5(e,t),[Fr]:gJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_AssumeRoleCommand=f5;var m5=async(e,t)=>{let r=Mr,n;return n=Lr({...L5(e,t),[Fr]:hJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_AssumeRoleWithSAMLCommand=m5;var _5=async(e,t)=>{let r=Mr,n;return n=Lr({...$5(e,t),[Fr]:yJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_AssumeRoleWithWebIdentityCommand=_5;var g5=async(e,t)=>{let r=Mr,n;return n=Lr({...H5(e,t),[Fr]:vJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_DecodeAuthorizationMessageCommand=g5;var h5=async(e,t)=>{let r=Mr,n;return n=Lr({...z5(e,t),[Fr]:SJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_GetAccessKeyInfoCommand=h5;var y5=async(e,t)=>{let r=Mr,n;return n=Lr({...V5(e,t),[Fr]:EJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_GetCallerIdentityCommand=y5;var v5=async(e,t)=>{let r=Mr,n;return n=Lr({...B5(e,t),[Fr]:wJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_GetFederationTokenCommand=v5;var S5=async(e,t)=>{let r=Mr,n;return n=Lr({...W5(e,t),[Fr]:bJ,[Ur]:kr}),qr(t,r,"/",void 0,n)};H.se_GetSessionTokenCommand=S5;var E5=async(e,t)=>{if(e.statusCode>=300)return w5(e,t);let r=await er(e.body,t),n={};return n=Q5(r.AssumeRoleResult,t),{$metadata:xe(e),...n}};H.de_AssumeRoleCommand=E5;var w5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Dg(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dd(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await qd(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ri(r,t);default:let o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})}},b5=async(e,t)=>{if(e.statusCode>=300)return C5(e,t);let r=await er(e.body,t),n={};return n=Z5(r.AssumeRoleWithSAMLResult,t),{$metadata:xe(e),...n}};H.de_AssumeRoleWithSAMLCommand=b5;var C5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Dg(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await xT(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await RT(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dd(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await qd(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ri(r,t);default:let o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})}},P5=async(e,t)=>{if(e.statusCode>=300)return x5(e,t);let r=await er(e.body,t),n={};return n=eJ(r.AssumeRoleWithWebIdentityResult,t),{$metadata:xe(e),...n}};H.de_AssumeRoleWithWebIdentityCommand=P5;var x5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Dg(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await F5(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await xT(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await RT(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dd(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await qd(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ri(r,t);default:let o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})}},R5=async(e,t)=>{if(e.statusCode>=300)return T5(e,t);let r=await er(e.body,t),n={};return n=tJ(r.DecodeAuthorizationMessageResult,t),{$metadata:xe(e),...n}};H.de_DecodeAuthorizationMessageCommand=R5;var T5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await U5(r,t);default:let o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})}},O5=async(e,t)=>{if(e.statusCode>=300)return A5(e,t);let r=await er(e.body,t),n={};return n=oJ(r.GetAccessKeyInfoResult,t),{$metadata:xe(e),...n}};H.de_GetAccessKeyInfoCommand=O5;var A5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body),o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})},I5=async(e,t)=>{if(e.statusCode>=300)return N5(e,t);let r=await er(e.body,t),n={};return n=sJ(r.GetCallerIdentityResult,t),{$metadata:xe(e),...n}};H.de_GetCallerIdentityCommand=I5;var N5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body),o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})},D5=async(e,t)=>{if(e.statusCode>=300)return q5(e,t);let r=await er(e.body,t),n={};return n=iJ(r.GetFederationTokenResult,t),{$metadata:xe(e),...n}};H.de_GetFederationTokenCommand=D5;var q5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dd(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await qd(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ri(r,t);default:let o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})}},M5=async(e,t)=>{if(e.statusCode>=300)return k5(e,t);let r=await er(e.body,t),n={};return n=aJ(r.GetSessionTokenResult,t),{$metadata:xe(e),...n}};H.de_GetSessionTokenCommand=M5;var k5=async(e,t)=>{let r={...e,body:await jr(e.body,t)},n=$r(e,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ri(r,t);default:let o=r.body;return Dr({output:e,parsedBody:o.Error,errorCode:n})}},Dg=async(e,t)=>{let r=e.body,n=rJ(r.Error,t),o=new Nr.ExpiredTokenException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},F5=async(e,t)=>{let r=e.body,n=cJ(r.Error,t),o=new Nr.IDPCommunicationErrorException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},xT=async(e,t)=>{let r=e.body,n=dJ(r.Error,t),o=new Nr.IDPRejectedClaimException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},U5=async(e,t)=>{let r=e.body,n=lJ(r.Error,t),o=new Nr.InvalidAuthorizationMessageException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},RT=async(e,t)=>{let r=e.body,n=uJ(r.Error,t),o=new Nr.InvalidIdentityTokenException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},Dd=async(e,t)=>{let r=e.body,n=pJ(r.Error,t),o=new Nr.MalformedPolicyDocumentException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},qd=async(e,t)=>{let r=e.body,n=fJ(r.Error,t),o=new Nr.PackedPolicyTooLargeException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},Ri=async(e,t)=>{let r=e.body,n=mJ(r.Error,t),o=new Nr.RegionDisabledException({$metadata:xe(e),...n});return(0,O.decorateServiceException)(o,r)},j5=(e,t)=>{let r={};if(e[Zt]!=null&&(r[Zt]=e[Zt]),e[to]!=null&&(r[to]=e[to]),e[rt]!=null){let n=Md(e[rt],t);e[rt]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[tt]!=null&&(r[tt]=e[tt]),e[Ie]!=null&&(r[Ie]=e[Ie]),e[no]!=null){let n=TT(e[no],t);e[no]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[Tg]!=null){let n=X5(e[Tg],t);e[Tg]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[dg]!=null&&(r[dg]=e[dg]),e[ro]!=null&&(r[ro]=e[ro]),e[oo]!=null&&(r[oo]=e[oo]),e[ot]!=null&&(r[ot]=e[ot]),e[vg]!=null){let n=K5(e[vg],t);e[vg]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},L5=(e,t)=>{let r={};if(e[Zt]!=null&&(r[Zt]=e[Zt]),e[hg]!=null&&(r[hg]=e[hg]),e[Cg]!=null&&(r[Cg]=e[Cg]),e[rt]!=null){let n=Md(e[rt],t);e[rt]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[tt]!=null&&(r[tt]=e[tt]),e[Ie]!=null&&(r[Ie]=e[Ie]),r},$5=(e,t)=>{let r={};if(e[Zt]!=null&&(r[Zt]=e[Zt]),e[to]!=null&&(r[to]=e[to]),e[Ig]!=null&&(r[Ig]=e[Ig]),e[Sg]!=null&&(r[Sg]=e[Sg]),e[rt]!=null){let n=Md(e[rt],t);e[rt]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[tt]!=null&&(r[tt]=e[tt]),e[Ie]!=null&&(r[Ie]=e[Ie]),r},H5=(e,t)=>{let r={};return e[lg]!=null&&(r[lg]=e[lg]),r},z5=(e,t)=>{let r={};return e[Qn]!=null&&(r[Qn]=e[Qn]),r},V5=(e,t)=>({}),B5=(e,t)=>{let r={};if(e[_g]!=null&&(r[_g]=e[_g]),e[tt]!=null&&(r[tt]=e[tt]),e[rt]!=null){let n=Md(e[rt],t);e[rt]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Ie]!=null&&(r[Ie]=e[Ie]),e[no]!=null){let n=TT(e[no],t);e[no]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}return r},W5=(e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[ro]!=null&&(r[ro]=e[ro]),e[oo]!=null&&(r[oo]=e[oo]),r},Md=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=G5(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},G5=(e,t)=>{let r={};return e[Ng]!=null&&(r[Ng]=e[Ng]),r},Y5=(e,t)=>{let r={};return e[yg]!=null&&(r[yg]=e[yg]),e[ig]!=null&&(r[ig]=e[ig]),r},K5=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Y5(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},J5=(e,t)=>{let r={};return e[mg]!=null&&(r[mg]=e[mg]),e[Ag]!=null&&(r[Ag]=e[Ag]),r},X5=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},TT=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=J5(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},qg=(e,t)=>{let r={};return e[sg]!=null&&(r[sg]=(0,O.expectString)(e[sg])),e[Qt]!=null&&(r[Qt]=(0,O.expectString)(e[Qt])),r},Q5=(e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=Ti(e[Ae],t)),e[Xt]!=null&&(r[Xt]=qg(e[Xt],t)),e[nt]!=null&&(r[nt]=(0,O.strictParseInt32)(e[nt])),e[ot]!=null&&(r[ot]=(0,O.expectString)(e[ot])),r},Z5=(e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=Ti(e[Ae],t)),e[Xt]!=null&&(r[Xt]=qg(e[Xt],t)),e[nt]!=null&&(r[nt]=(0,O.strictParseInt32)(e[nt])),e[wg]!=null&&(r[wg]=(0,O.expectString)(e[wg])),e[xg]!=null&&(r[xg]=(0,O.expectString)(e[xg])),e[fg]!=null&&(r[fg]=(0,O.expectString)(e[fg])),e[eo]!=null&&(r[eo]=(0,O.expectString)(e[eo])),e[gg]!=null&&(r[gg]=(0,O.expectString)(e[gg])),e[ot]!=null&&(r[ot]=(0,O.expectString)(e[ot])),r},eJ=(e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=Ti(e[Ae],t)),e[Pg]!=null&&(r[Pg]=(0,O.expectString)(e[Pg])),e[Xt]!=null&&(r[Xt]=qg(e[Xt],t)),e[nt]!=null&&(r[nt]=(0,O.strictParseInt32)(e[nt])),e[Eg]!=null&&(r[Eg]=(0,O.expectString)(e[Eg])),e[eo]!=null&&(r[eo]=(0,O.expectString)(e[eo])),e[ot]!=null&&(r[ot]=(0,O.expectString)(e[ot])),r},Ti=(e,t)=>{let r={};return e[Qn]!=null&&(r[Qn]=(0,O.expectString)(e[Qn])),e[bg]!=null&&(r[bg]=(0,O.expectString)(e[bg])),e[Rg]!=null&&(r[Rg]=(0,O.expectString)(e[Rg])),e[cg]!=null&&(r[cg]=(0,O.expectNonNull)((0,O.parseRfc3339DateTimeWithOffset)(e[cg]))),r},tJ=(e,t)=>{let r={};return e[ag]!=null&&(r[ag]=(0,O.expectString)(e[ag])),r},rJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},nJ=(e,t)=>{let r={};return e[pg]!=null&&(r[pg]=(0,O.expectString)(e[pg])),e[Qt]!=null&&(r[Qt]=(0,O.expectString)(e[Qt])),r},oJ=(e,t)=>{let r={};return e[Zn]!=null&&(r[Zn]=(0,O.expectString)(e[Zn])),r},sJ=(e,t)=>{let r={};return e[Og]!=null&&(r[Og]=(0,O.expectString)(e[Og])),e[Zn]!=null&&(r[Zn]=(0,O.expectString)(e[Zn])),e[Qt]!=null&&(r[Qt]=(0,O.expectString)(e[Qt])),r},iJ=(e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=Ti(e[Ae],t)),e[ug]!=null&&(r[ug]=nJ(e[ug],t)),e[nt]!=null&&(r[nt]=(0,O.strictParseInt32)(e[nt])),r},aJ=(e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=Ti(e[Ae],t)),r},cJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},dJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},lJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},uJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},pJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},fJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},mJ=(e,t)=>{let r={};return e[te]!=null&&(r[te]=(0,O.expectString)(e[te])),r},xe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),_J=(e,t)=>(0,O.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Dr=(0,O.withBaseException)(p5.STSServiceException),qr=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new l5.HttpRequest(d)},Mr={"content-type":"application/x-www-form-urlencoded"},kr="2011-06-15",Fr="Action",Qn="AccessKeyId",gJ="AssumeRole",sg="AssumedRoleId",Xt="AssumedRoleUser",hJ="AssumeRoleWithSAML",yJ="AssumeRoleWithWebIdentity",Zn="Account",Qt="Arn",eo="Audience",Ae="Credentials",ig="ContextAssertion",vJ="DecodeAuthorizationMessage",ag="DecodedMessage",Ie="DurationSeconds",cg="Expiration",dg="ExternalId",lg="EncodedMessage",ug="FederatedUser",pg="FederatedUserId",SJ="GetAccessKeyInfo",EJ="GetCallerIdentity",wJ="GetFederationToken",bJ="GetSessionToken",fg="Issuer",mg="Key",_g="Name",gg="NameQualifier",tt="Policy",rt="PolicyArns",hg="PrincipalArn",yg="ProviderArn",vg="ProvidedContexts",Sg="ProviderId",nt="PackedPolicySize",Eg="Provider",Zt="RoleArn",to="RoleSessionName",wg="Subject",bg="SecretAccessKey",Cg="SAMLAssertion",Pg="SubjectFromWebIdentityToken",ot="SourceIdentity",ro="SerialNumber",xg="SubjectType",Rg="SessionToken",no="Tags",oo="TokenCode",Tg="TransitiveTagKeys",Og="UserId",Ur="Version",Ag="Value",Ig="WebIdentityToken",Ng="arn",te="message",er=(e,t)=>_J(e,t).then(r=>{if(r.length){let n=new u5.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,O.getValueFromTextNode)(a)}return{}}),jr=async(e,t)=>{let r=await er(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Lr=e=>Object.entries(e).map(([t,r])=>(0,O.extendedEncodeURIComponent)(t)+"="+(0,O.extendedEncodeURIComponent)(r)).join("&"),$r=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var kd=u(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.AssumeRoleCommand=so.$Command=void 0;var CJ=j(),PJ=Y(),AT=D();Object.defineProperty(so,"$Command",{enumerable:!0,get:function(){return AT.Command}});var xJ=U(),RJ=Ar(),OT=tr(),Mg=class e extends AT.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,PJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,CJ.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:RJ.AssumeRoleResponseFilterSensitiveLog,[xJ.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,OT.se_AssumeRoleCommand)(t,r)}deserialize(t,r){return(0,OT.de_AssumeRoleCommand)(t,r)}};so.AssumeRoleCommand=Mg});var Fd=u(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.AssumeRoleWithWebIdentityCommand=io.$Command=void 0;var TJ=j(),OJ=Y(),DT=D();Object.defineProperty(io,"$Command",{enumerable:!0,get:function(){return DT.Command}});var AJ=U(),IT=Ar(),NT=tr(),kg=class e extends DT.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,OJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,TJ.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:IT.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:IT.AssumeRoleWithWebIdentityResponseFilterSensitiveLog,[AJ.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,NT.se_AssumeRoleWithWebIdentityCommand)(t,r)}deserialize(t,r){return(0,NT.de_AssumeRoleWithWebIdentityCommand)(t,r)}};io.AssumeRoleWithWebIdentityCommand=kg});var Fg=u(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.decorateDefaultCredentialProvider=jt.getDefaultRoleAssumerWithWebIdentity=jt.getDefaultRoleAssumer=void 0;var IJ=kd(),NJ=Fd(),qT="us-east-1",MT=e=>typeof e!="function"?e===void 0?qT:e:async()=>{try{return await e()}catch{return qT}},DJ=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:MT(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new IJ.AssumeRoleCommand(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};jt.getDefaultRoleAssumer=DJ;var qJ=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:MT(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new NJ.AssumeRoleWithWebIdentityCommand(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}};jt.getDefaultRoleAssumerWithWebIdentity=qJ;var MJ=e=>t=>e({roleAssumer:(0,jt.getDefaultRoleAssumer)(t,t.stsClientCtor),roleAssumerWithWebIdentity:(0,jt.getDefaultRoleAssumerWithWebIdentity)(t,t.stsClientCtor),...t});jt.decorateDefaultCredentialProvider=MJ});var kT=u(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.fromEnv=Re.ENV_EXPIRATION=Re.ENV_SESSION=Re.ENV_SECRET=Re.ENV_KEY=void 0;var kJ=k();Re.ENV_KEY="AWS_ACCESS_KEY_ID";Re.ENV_SECRET="AWS_SECRET_ACCESS_KEY";Re.ENV_SESSION="AWS_SESSION_TOKEN";Re.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var FJ=()=>async()=>{let e=process.env[Re.ENV_KEY],t=process.env[Re.ENV_SECRET],r=process.env[Re.ENV_SESSION],n=process.env[Re.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new kJ.CredentialsProviderError("Unable to find environment variable credentials.")};Re.fromEnv=FJ});var jg=u(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});var UJ=(R(),P(x));UJ.__exportStar(kT(),Ug)});var co=u((Gfe,XT)=>{var Ld=Object.defineProperty,jJ=Object.getOwnPropertyDescriptor,LJ=Object.getOwnPropertyNames,$J=Object.prototype.hasOwnProperty,pe=(e,t)=>Ld(e,"name",{value:t,configurable:!0}),HJ=(e,t)=>{for(var r in t)Ld(e,r,{get:t[r],enumerable:!0})},zJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LJ(t))!$J.call(e,o)&&o!==r&&Ld(e,o,{get:()=>t[o],enumerable:!(n=jJ(t,o))||n.enumerable});return e},VJ=e=>zJ(Ld({},"__esModule",{value:!0}),e),LT={};HJ(LT,{DEFAULT_MAX_RETRIES:()=>VT,DEFAULT_TIMEOUT:()=>zT,ENV_CMDS_AUTH_TOKEN:()=>Hg,ENV_CMDS_FULL_URI:()=>Ud,ENV_CMDS_RELATIVE_URI:()=>jd,Endpoint:()=>GT,fromContainerMetadata:()=>YJ,fromInstanceMetadata:()=>_X,getInstanceMetadataEndpoint:()=>KT,httpRequest:()=>ao,providerConfigFromInit:()=>zg});XT.exports=VJ(LT);var BJ=L("url"),Lt=k(),WJ=L("buffer"),GJ=L("http");function ao(e){return new Promise((t,r)=>{var n;let o=(0,GJ.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",s=>{r(Object.assign(new Lt.ProviderError("Unable to connect to instance metadata service"),s)),o.destroy()}),o.on("timeout",()=>{r(new Lt.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Lt.ProviderError("Error response received from instance metadata service"),{statusCode:i})),o.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(WJ.Buffer.concat(a)),o.destroy()})}),o.end()})}pe(ao,"httpRequest");var $T=pe(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),HT=pe(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),zT=1e3,VT=0,zg=pe(({maxRetries:e=VT,timeout:t=zT})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),$g=pe((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Ud="AWS_CONTAINER_CREDENTIALS_FULL_URI",jd="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Hg="AWS_CONTAINER_AUTHORIZATION_TOKEN",YJ=pe((e={})=>{let{timeout:t,maxRetries:r}=zg(e);return()=>$g(async()=>{let n=await ZJ(),o=JSON.parse(await KJ(t,n));if(!$T(o))throw new Lt.CredentialsProviderError("Invalid response received from instance metadata service.");return HT(o)},r)},"fromContainerMetadata"),KJ=pe(async(e,t)=>(process.env[Hg]&&(t.headers={...t.headers,Authorization:process.env[Hg]}),(await ao({...t,timeout:e})).toString()),"requestFromEcsImds"),JJ="169.254.170.2",XJ={localhost:!0,"127.0.0.1":!0},QJ={"http:":!0,"https:":!0},ZJ=pe(async()=>{if(process.env[jd])return{hostname:JJ,path:process.env[jd]};if(process.env[Ud]){let e=(0,BJ.parse)(process.env[Ud]);if(!e.hostname||!(e.hostname in XJ))throw new Lt.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in QJ))throw new Lt.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Lt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${jd} or ${Ud} environment variable is set`,!1)},"getCmdsUri"),BT=class WT extends Lt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,WT.prototype)}};pe(BT,"InstanceMetadataV1FallbackError");var eX=BT,Vg=Qe(),tX=Kt(),GT=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(GT||{}),rX="AWS_EC2_METADATA_SERVICE_ENDPOINT",nX="ec2_metadata_service_endpoint",oX={environmentVariableSelector:e=>e[rX],configFileSelector:e=>e[nX],default:void 0},YT=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(YT||{}),sX="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",iX="ec2_metadata_service_endpoint_mode",aX={environmentVariableSelector:e=>e[sX],configFileSelector:e=>e[iX],default:"IPv4"},KT=pe(async()=>(0,tX.parseUrl)(await cX()||await dX()),"getInstanceMetadataEndpoint"),cX=pe(async()=>(0,Vg.loadConfig)(oX)(),"getFromEndpointConfig"),dX=pe(async()=>{let e=await(0,Vg.loadConfig)(aX)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(YT)}`)}},"getFromEndpointModeConfig"),lX=5*60,uX=5*60,pX="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",FT=pe((e,t)=>{let r=lX+Math.floor(Math.random()*uX),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+pX);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),fX=pe((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=FT(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=FT(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),JT="/latest/meta-data/iam/security-credentials/",mX="/latest/api/token",Lg="AWS_EC2_METADATA_V1_DISABLED",UT="ec2_metadata_v1_disabled",jT="x-aws-ec2-metadata-token",_X=pe((e={})=>fX(gX(e),{logger:e.logger}),"fromInstanceMetadata"),gX=pe(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=zg(e),i=pe(async(a,c)=>{var d;if(t||((d=c.headers)==null?void 0:d[jT])==null){let m=!1,f=!1,_=await(0,Vg.loadConfig)({environmentVariableSelector:y=>{let g=y[Lg];if(f=!!g&&g!=="false",g===void 0)throw new Lt.CredentialsProviderError(`${Lg} not set in env, checking config file next.`);return f},configFileSelector:y=>{let g=y[UT];return m=!!g&&g!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||_){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&y.push(`config file profile (${UT})`),f&&y.push(`process environment variable (${Lg})`),new eX(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let p=(await $g(async()=>{let m;try{m=await yX(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)).trim();return $g(async()=>{let m;try{m=await vX(p,c)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)},"getCredentials");return async()=>{let a=await KT();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await hX({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[jT]:c},timeout:o})}}},"getInstanceImdsProvider"),hX=pe(async e=>ao({...e,path:mX,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),yX=pe(async e=>(await ao({...e,path:JT})).toString(),"getProfile"),vX=pe(async(e,t)=>{let r=JSON.parse((await ao({...t,path:JT+e})).toString());if(!$T(r))throw new Lt.CredentialsProviderError("Invalid response received from instance metadata service.");return HT(r)},"getCredentialsFromProfile")});var ZT=u($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.resolveCredentialSource=void 0;var SX=jg(),QT=co(),EX=k(),wX=(e,t)=>{let r={EcsContainer:QT.fromContainerMetadata,Ec2InstanceMetadata:QT.fromInstanceMetadata,Environment:SX.fromEnv};if(e in r)return r[e]();throw new EX.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};$d.resolveCredentialSource=wX});var eO=u(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.resolveAssumeRoleCredentials=lo.isAssumeRoleProfile=void 0;var Bg=k(),bX=me(),CX=ZT(),PX=Wg(),xX=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(RX(e)||TX(e));lo.isAssumeRoleProfile=xX;var RX=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",TX=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",OX=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new Bg.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new Bg.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,bX.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?(0,PX.resolveProfileData)(s,t,r,{...n,[s]:!0}):(0,CX.resolveCredentialSource)(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new Bg.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};lo.resolveAssumeRoleCredentials=OX});var tO=u(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.getValidatedProcessCredentials=void 0;var AX=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};Hd.getValidatedProcessCredentials=AX});var rO=u(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.resolveProcessCredentials=void 0;var Gg=k(),IX=L("child_process"),NX=L("util"),DX=tO(),qX=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,NX.promisify)(IX.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,DX.getValidatedProcessCredentials)(e,i)}catch(s){throw new Gg.CredentialsProviderError(s.message)}}else throw new Gg.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new Gg.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};zd.resolveProcessCredentials=qX});var oO=u(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.fromProcess=void 0;var nO=me(),MX=rO(),kX=(e={})=>async()=>{let t=await(0,nO.parseKnownFiles)(e);return(0,MX.resolveProcessCredentials)((0,nO.getProfileName)(e),t)};Vd.fromProcess=kX});var Kg=u(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var FX=(R(),P(x));FX.__exportStar(oO(),Yg)});var sO=u(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.resolveProcessCredentials=uo.isProcessProfile=void 0;var UX=Kg(),jX=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string";uo.isProcessProfile=jX;var LX=async(e,t)=>(0,UX.fromProcess)({...e,profile:t})();uo.resolveProcessCredentials=LX});var Jg=u(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.isSsoProfile=void 0;var $X=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");Bd.isSsoProfile=$X});var iO=u(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.resolveClientEndpointParameters=void 0;var HX=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});Wd.resolveClientEndpointParameters=HX});var aO=u((nme,zX)=>{zX.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.477.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Xg=u(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.crtAvailability=void 0;Gd.crtAvailability={isCrtAvailable:!1}});var cO=u(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.isCrtAvailable=void 0;var VX=Xg(),BX=()=>VX.crtAvailability.isCrtAvailable?["md/crt-avail"]:null;Yd.isCrtAvailable=BX});var Kd=u(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.defaultUserAgent=st.UA_APP_ID_INI_NAME=st.UA_APP_ID_ENV_NAME=st.crtAvailability=void 0;var WX=Qe(),dO=L("os"),Qg=L("process"),GX=cO(),YX=Xg();Object.defineProperty(st,"crtAvailability",{enumerable:!0,get:function(){return YX.crtAvailability}});st.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";st.UA_APP_ID_INI_NAME="sdk-ua-app-id";var KX=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,dO.platform)()}`,(0,dO.release)()],["lang/js"],["md/nodejs",`${Qg.versions.node}`]],n=(0,GX.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),Qg.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Qg.env.AWS_EXECUTION_ENV}`]);let o=(0,WX.loadConfig)({environmentVariableSelector:i=>i[st.UA_APP_ID_ENV_NAME],configFileSelector:i=>i[st.UA_APP_ID_INI_NAME],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};st.defaultUserAgent=KX});var pn=u((cme,mO)=>{var Jd=Object.defineProperty,JX=Object.getOwnPropertyDescriptor,XX=Object.getOwnPropertyNames,QX=Object.prototype.hasOwnProperty,uO=(e,t)=>Jd(e,"name",{value:t,configurable:!0}),ZX=(e,t)=>{for(var r in t)Jd(e,r,{get:t[r],enumerable:!0})},e9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XX(t))!QX.call(e,o)&&o!==r&&Jd(e,o,{get:()=>t[o],enumerable:!(n=JX(t,o))||n.enumerable});return e},t9=e=>e9(Jd({},"__esModule",{value:!0}),e),pO={};ZX(pO,{Hash:()=>o9});mO.exports=t9(pO);var Zg=In(),r9=qe(),n9=L("buffer"),lO=L("crypto"),fO=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,r9.toUint8Array)(eh(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,lO.createHmac)(this.algorithmIdentifier,eh(this.secret)):(0,lO.createHash)(this.algorithmIdentifier)}};uO(fO,"Hash");var o9=fO;function eh(e,t){return n9.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Zg.fromString)(e,t):ArrayBuffer.isView(e)?(0,Zg.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Zg.fromArrayBuffer)(e)}uO(eh,"castSourceData")});var fn=u((dme,hO)=>{var Xd=Object.defineProperty,s9=Object.getOwnPropertyDescriptor,i9=Object.getOwnPropertyNames,a9=Object.prototype.hasOwnProperty,c9=(e,t)=>Xd(e,"name",{value:t,configurable:!0}),d9=(e,t)=>{for(var r in t)Xd(e,r,{get:t[r],enumerable:!0})},l9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i9(t))!a9.call(e,o)&&o!==r&&Xd(e,o,{get:()=>t[o],enumerable:!(n=s9(t,o))||n.enumerable});return e},u9=e=>l9(Xd({},"__esModule",{value:!0}),e),gO={};d9(gO,{calculateBodyLength:()=>p9});hO.exports=u9(gO);var _O=L("fs"),p9=c9(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,_O.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,_O.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var NO=u(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.ruleSet=void 0;var TO="required",at="fn",ct="argv",mo="ref",yO=!0,vO="isSet",Oi="booleanEquals",po="error",fo="endpoint",rr="tree",th="PartitionResult",rh="getAttr",SO={[TO]:!1,type:"String"},EO={[TO]:!0,default:!1,type:"Boolean"},wO={[mo]:"Endpoint"},OO={[at]:Oi,[ct]:[{[mo]:"UseFIPS"},!0]},AO={[at]:Oi,[ct]:[{[mo]:"UseDualStack"},!0]},it={},bO={[at]:rh,[ct]:[{[mo]:th},"supportsFIPS"]},IO={[mo]:th},CO={[at]:Oi,[ct]:[!0,{[at]:rh,[ct]:[IO,"supportsDualStack"]}]},PO=[OO],xO=[AO],RO=[{[mo]:"Region"}],f9={version:"1.0",parameters:{Region:SO,UseDualStack:EO,UseFIPS:EO,Endpoint:SO},rules:[{conditions:[{[at]:vO,[ct]:[wO]}],rules:[{conditions:PO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:po},{conditions:xO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:po},{endpoint:{url:wO,properties:it,headers:it},type:fo}],type:rr},{conditions:[{[at]:vO,[ct]:RO}],rules:[{conditions:[{[at]:"aws.partition",[ct]:RO,assign:th}],rules:[{conditions:[OO,AO],rules:[{conditions:[{[at]:Oi,[ct]:[yO,bO]},CO],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:fo}],type:rr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:po}],type:rr},{conditions:PO,rules:[{conditions:[{[at]:Oi,[ct]:[bO,yO]}],rules:[{conditions:[{[at]:"stringEquals",[ct]:[{[at]:rh,[ct]:[IO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:it,headers:it},type:fo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:fo}],type:rr},{error:"FIPS is enabled but this partition does not support FIPS",type:po}],type:rr},{conditions:xO,rules:[{conditions:[CO],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:fo}],type:rr},{error:"DualStack is enabled but this partition does not support DualStack",type:po}],type:rr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:fo}],type:rr}],type:rr},{error:"Invalid Configuration: Missing Region",type:po}]};Qd.ruleSet=f9});var DO=u(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.defaultEndpointResolver=void 0;var m9=ve(),_9=NO(),g9=(e,t={})=>(0,m9.resolveEndpoint)(_9.ruleSet,{endpointParams:e,logger:t.logger});Zd.defaultEndpointResolver=g9});var kO=u(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.getRuntimeConfig=void 0;var h9=D(),y9=Kt(),qO=Cr(),MO=qe(),v9=DO(),S9=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??qO.fromBase64,base64Encoder:e?.base64Encoder??qO.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??v9.defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new h9.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??y9.parseUrl,utf8Decoder:e?.utf8Decoder??MO.fromUtf8,utf8Encoder:e?.utf8Encoder??MO.toUtf8});el.getRuntimeConfig=S9});var mn=u((fme,HO)=>{var E9=Object.create,Ai=Object.defineProperty,w9=Object.getOwnPropertyDescriptor,b9=Object.getOwnPropertyNames,C9=Object.getPrototypeOf,P9=Object.prototype.hasOwnProperty,nh=(e,t)=>Ai(e,"name",{value:t,configurable:!0}),x9=(e,t)=>{for(var r in t)Ai(e,r,{get:t[r],enumerable:!0})},LO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b9(t))!P9.call(e,o)&&o!==r&&Ai(e,o,{get:()=>t[o],enumerable:!(n=w9(t,o))||n.enumerable});return e},R9=(e,t,r)=>(r=e!=null?E9(C9(e)):{},LO(t||!e||!e.__esModule?Ai(r,"default",{value:e,enumerable:!0}):r,e)),T9=e=>LO(Ai({},"__esModule",{value:!0}),e),$O={};x9($O,{resolveDefaultsModeConfig:()=>U9});HO.exports=T9($O);var O9=Fe(),FO=Qe(),A9=k(),I9="AWS_EXECUTION_ENV",UO="AWS_REGION",jO="AWS_DEFAULT_REGION",N9="AWS_EC2_METADATA_DISABLED",D9=["in-region","cross-region","mobile","standard","legacy"],q9="/latest/meta-data/placement/region",M9="AWS_DEFAULTS_MODE",k9="defaults_mode",F9={environmentVariableSelector:e=>e[M9],configFileSelector:e=>e[k9],default:"legacy"},U9=nh(({region:e=(0,FO.loadConfig)(O9.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,FO.loadConfig)(F9)}={})=>(0,A9.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return j9(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${D9.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),j9=nh(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await L9();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),L9=nh(async()=>{if(process.env[I9]&&(process.env[UO]||process.env[jO]))return process.env[UO]??process.env[jO];if(!process.env[N9])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>R9(co())),r=await e();return(await t({...r,path:q9})).toString()}catch{}},"inferPhysicalRegion")});var BO=u(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.getRuntimeConfig=void 0;var $9=(R(),P(x)),H9=$9.__importDefault(aO()),z9=bi(),V9=Kd(),tl=Fe(),B9=pn(),zO=Ue(),Ii=Qe(),VO=Pr(),W9=fn(),G9=wr(),Y9=kO(),K9=D(),J9=mn(),X9=D(),Q9=e=>{(0,X9.emitWarningIfUnsupportedVersion)(process.version);let t=(0,J9.resolveDefaultsModeConfig)(e),r=()=>t().then(K9.loadConfigsForDefaultMode),n=(0,Y9.getRuntimeConfig)(e);return(0,z9.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??W9.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,V9.defaultUserAgent)({serviceId:n.serviceId,clientVersion:H9.default.version}),maxAttempts:e?.maxAttempts??(0,Ii.loadConfig)(zO.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Ii.loadConfig)(tl.NODE_REGION_CONFIG_OPTIONS,tl.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new VO.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Ii.loadConfig)({...zO.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||G9.DEFAULT_RETRY_MODE}),sha256:e?.sha256??B9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??VO.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ii.loadConfig)(tl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Ii.loadConfig)(tl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};rl.getRuntimeConfig=Q9});var WO=u(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.resolveAwsRegionExtensionConfiguration=_o.getAwsRegionExtensionConfiguration=void 0;var Z9=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}};_o.getAwsRegionExtensionConfiguration=Z9;var e7=e=>({region:e.region()});_o.resolveAwsRegionExtensionConfiguration=e7});var GO=u(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.NODE_REGION_CONFIG_FILE_OPTIONS=dt.NODE_REGION_CONFIG_OPTIONS=dt.REGION_INI_NAME=dt.REGION_ENV_NAME=void 0;dt.REGION_ENV_NAME="AWS_REGION";dt.REGION_INI_NAME="region";dt.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[dt.REGION_ENV_NAME],configFileSelector:e=>e[dt.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};dt.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var oh=u(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.isFipsRegion=void 0;var t7=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));nl.isFipsRegion=t7});var YO=u(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.getRealRegion=void 0;var r7=oh(),n7=e=>(0,r7.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;ol.getRealRegion=n7});var JO=u(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.resolveRegionConfig=void 0;var KO=YO(),o7=oh(),s7=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,KO.getRealRegion)(t);let n=await t();return(0,KO.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,o7.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};sl.resolveRegionConfig=s7});var QO=u(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var XO=(R(),P(x));XO.__exportStar(GO(),il);XO.__exportStar(JO(),il)});var cl=u(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});var ZO=(R(),P(x));ZO.__exportStar(WO(),al);ZO.__exportStar(QO(),al)});var nA=u(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.resolveRuntimeExtensions=void 0;var eA=cl(),tA=Z(),rA=D(),sh=e=>e,i7=(e,t)=>{let r={...sh((0,eA.getAwsRegionExtensionConfiguration)(e)),...sh((0,rA.getDefaultExtensionConfiguration)(e)),...sh((0,tA.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,eA.resolveAwsRegionExtensionConfiguration)(r),...(0,rA.resolveDefaultRuntimeConfig)(r),...(0,tA.resolveHttpHandlerRuntimeConfig)(r)}};dl.resolveRuntimeExtensions=i7});var Ni=u(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.SSOClient=go.__Client=void 0;var oA=Jc(),a7=Xc(),c7=Qc(),sA=id(),d7=Fe(),l7=on(),u7=j(),iA=Ue(),aA=D();Object.defineProperty(go,"__Client",{enumerable:!0,get:function(){return aA.Client}});var p7=iO(),f7=BO(),m7=nA(),ih=class extends aA.Client{constructor(...[t]){let r=(0,f7.getRuntimeConfig)(t||{}),n=(0,p7.resolveClientEndpointParameters)(r),o=(0,d7.resolveRegionConfig)(n),s=(0,u7.resolveEndpointConfig)(o),i=(0,iA.resolveRetryConfig)(s),a=(0,oA.resolveHostHeaderConfig)(i),c=(0,sA.resolveUserAgentConfig)(a),d=(0,m7.resolveRuntimeExtensions)(c,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,iA.getRetryPlugin)(this.config)),this.middlewareStack.use((0,l7.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,oA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,a7.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,c7.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,sA.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};go.SSOClient=ih});var ll=u(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.SSOServiceException=ho.__ServiceException=void 0;var cA=D();Object.defineProperty(ho,"__ServiceException",{enumerable:!0,get:function(){return cA.ServiceException}});var ah=class e extends cA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};ho.SSOServiceException=ah});var _n=u(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.LogoutRequestFilterSensitiveLog=oe.ListAccountsRequestFilterSensitiveLog=oe.ListAccountRolesRequestFilterSensitiveLog=oe.GetRoleCredentialsResponseFilterSensitiveLog=oe.RoleCredentialsFilterSensitiveLog=oe.GetRoleCredentialsRequestFilterSensitiveLog=oe.UnauthorizedException=oe.TooManyRequestsException=oe.ResourceNotFoundException=oe.InvalidRequestException=void 0;var yo=D(),ul=ll(),ch=class e extends ul.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};oe.InvalidRequestException=ch;var dh=class e extends ul.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};oe.ResourceNotFoundException=dh;var lh=class e extends ul.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};oe.TooManyRequestsException=lh;var uh=class e extends ul.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};oe.UnauthorizedException=uh;var _7=e=>({...e,...e.accessToken&&{accessToken:yo.SENSITIVE_STRING}});oe.GetRoleCredentialsRequestFilterSensitiveLog=_7;var g7=e=>({...e,...e.secretAccessKey&&{secretAccessKey:yo.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:yo.SENSITIVE_STRING}});oe.RoleCredentialsFilterSensitiveLog=g7;var h7=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,oe.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});oe.GetRoleCredentialsResponseFilterSensitiveLog=h7;var y7=e=>({...e,...e.accessToken&&{accessToken:yo.SENSITIVE_STRING}});oe.ListAccountRolesRequestFilterSensitiveLog=y7;var v7=e=>({...e,...e.accessToken&&{accessToken:yo.SENSITIVE_STRING}});oe.ListAccountsRequestFilterSensitiveLog=v7;var S7=e=>({...e,...e.accessToken&&{accessToken:yo.SENSITIVE_STRING}});oe.LogoutRequestFilterSensitiveLog=S7});var Di=u(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.de_LogoutCommand=ge.de_ListAccountsCommand=ge.de_ListAccountRolesCommand=ge.de_GetRoleCredentialsCommand=ge.se_LogoutCommand=ge.se_ListAccountsCommand=ge.se_ListAccountRolesCommand=ge.se_GetRoleCredentialsCommand=void 0;var pl=He(),A=D(),fl=_n(),E7=ll(),w7=async(e,t)=>{let r=(0,pl.requestBuilder)(e,t),n=(0,A.map)({},yl,{[Sl]:e[vl]});r.bp("/federation/credentials");let o=(0,A.map)({[k7]:[,(0,A.expectNonNull)(e[M7],"roleName")],[lA]:[,(0,A.expectNonNull)(e[dA],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()};ge.se_GetRoleCredentialsCommand=w7;var b7=async(e,t)=>{let r=(0,pl.requestBuilder)(e,t),n=(0,A.map)({},yl,{[Sl]:e[vl]});r.bp("/assignment/roles");let o=(0,A.map)({[mA]:[,e[fA]],[pA]:[()=>e.maxResults!==void 0,()=>e[uA].toString()],[lA]:[,(0,A.expectNonNull)(e[dA],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()};ge.se_ListAccountRolesCommand=b7;var C7=async(e,t)=>{let r=(0,pl.requestBuilder)(e,t),n=(0,A.map)({},yl,{[Sl]:e[vl]});r.bp("/assignment/accounts");let o=(0,A.map)({[mA]:[,e[fA]],[pA]:[()=>e.maxResults!==void 0,()=>e[uA].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()};ge.se_ListAccountsCommand=C7;var P7=async(e,t)=>{let r=(0,pl.requestBuilder)(e,t),n=(0,A.map)({},yl,{[Sl]:e[vl]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()};ge.se_LogoutCommand=P7;var x7=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return R7(e,t);let r=(0,A.map)({$metadata:Hr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await El(e.body,t)),"body"),o=(0,A.take)(n,{roleCredentials:A._json});return Object.assign(r,o),r};ge.de_GetRoleCredentialsCommand=x7;var R7=async(e,t)=>{let r={...e,body:await wl(e.body,t)},n=bl(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await _l(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ph(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await gl(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await hl(r,t);default:let o=r.body;return ml({output:e,parsedBody:o,errorCode:n})}},T7=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return O7(e,t);let r=(0,A.map)({$metadata:Hr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await El(e.body,t)),"body"),o=(0,A.take)(n,{nextToken:A.expectString,roleList:A._json});return Object.assign(r,o),r};ge.de_ListAccountRolesCommand=T7;var O7=async(e,t)=>{let r={...e,body:await wl(e.body,t)},n=bl(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await _l(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ph(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await gl(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await hl(r,t);default:let o=r.body;return ml({output:e,parsedBody:o,errorCode:n})}},A7=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return I7(e,t);let r=(0,A.map)({$metadata:Hr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await El(e.body,t)),"body"),o=(0,A.take)(n,{accountList:A._json,nextToken:A.expectString});return Object.assign(r,o),r};ge.de_ListAccountsCommand=A7;var I7=async(e,t)=>{let r={...e,body:await wl(e.body,t)},n=bl(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await _l(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ph(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await gl(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await hl(r,t);default:let o=r.body;return ml({output:e,parsedBody:o,errorCode:n})}},N7=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return D7(e,t);let r=(0,A.map)({$metadata:Hr(e)});return await(0,A.collectBody)(e.body,t),r};ge.de_LogoutCommand=N7;var D7=async(e,t)=>{let r={...e,body:await wl(e.body,t)},n=bl(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await _l(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await gl(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await hl(r,t);default:let o=r.body;return ml({output:e,parsedBody:o,errorCode:n})}},ml=(0,A.withBaseException)(E7.SSOServiceException),_l=async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let s=new fl.InvalidRequestException({$metadata:Hr(e),...r});return(0,A.decorateServiceException)(s,e.body)},ph=async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let s=new fl.ResourceNotFoundException({$metadata:Hr(e),...r});return(0,A.decorateServiceException)(s,e.body)},gl=async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let s=new fl.TooManyRequestsException({$metadata:Hr(e),...r});return(0,A.decorateServiceException)(s,e.body)},hl=async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let s=new fl.UnauthorizedException({$metadata:Hr(e),...r});return(0,A.decorateServiceException)(s,e.body)},Hr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),q7=(e,t)=>(0,A.collectBody)(e,t).then(r=>t.utf8Encoder(r)),yl=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),dA="accountId",vl="accessToken",lA="account_id",uA="maxResults",pA="max_result",fA="nextToken",mA="next_token",M7="roleName",k7="role_name",Sl="x-amz-sso_bearer_token",El=(e,t)=>q7(e,t).then(r=>r.length?JSON.parse(r):{}),wl=async(e,t)=>{let r=await El(e,t);return r.message=r.message??r.Message,r},bl=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var mh=u(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.GetRoleCredentialsCommand=vo.$Command=void 0;var F7=j(),U7=Y(),hA=D();Object.defineProperty(vo,"$Command",{enumerable:!0,get:function(){return hA.Command}});var j7=U(),_A=_n(),gA=Di(),fh=class e extends hA.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,U7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,F7.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:_A.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:_A.GetRoleCredentialsResponseFilterSensitiveLog,[j7.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,gA.se_GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,gA.de_GetRoleCredentialsCommand)(t,r)}};vo.GetRoleCredentialsCommand=fh});var Cl=u(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.ListAccountRolesCommand=So.$Command=void 0;var L7=j(),$7=Y(),vA=D();Object.defineProperty(So,"$Command",{enumerable:!0,get:function(){return vA.Command}});var H7=U(),z7=_n(),yA=Di(),_h=class e extends vA.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,$7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,L7.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:z7.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[H7.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccountRoles"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,yA.se_ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,yA.de_ListAccountRolesCommand)(t,r)}};So.ListAccountRolesCommand=_h});var Pl=u(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ListAccountsCommand=Eo.$Command=void 0;var V7=j(),B7=Y(),EA=D();Object.defineProperty(Eo,"$Command",{enumerable:!0,get:function(){return EA.Command}});var W7=U(),G7=_n(),SA=Di(),gh=class e extends EA.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,B7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,V7.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:G7.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[W7.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccounts"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,SA.se_ListAccountsCommand)(t,r)}deserialize(t,r){return(0,SA.de_ListAccountsCommand)(t,r)}};Eo.ListAccountsCommand=gh});var yh=u(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.LogoutCommand=wo.$Command=void 0;var Y7=j(),K7=Y(),bA=D();Object.defineProperty(wo,"$Command",{enumerable:!0,get:function(){return bA.Command}});var J7=U(),X7=_n(),wA=Di(),hh=class e extends bA.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,K7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Y7.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:X7.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[J7.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"Logout"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,wA.se_LogoutCommand)(t,r)}deserialize(t,r){return(0,wA.de_LogoutCommand)(t,r)}};wo.LogoutCommand=hh});var CA=u(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.SSO=void 0;var Q7=D(),Z7=mh(),eQ=Cl(),tQ=Pl(),rQ=yh(),nQ=Ni(),oQ={GetRoleCredentialsCommand:Z7.GetRoleCredentialsCommand,ListAccountRolesCommand:eQ.ListAccountRolesCommand,ListAccountsCommand:tQ.ListAccountsCommand,LogoutCommand:rQ.LogoutCommand},xl=class extends nQ.SSOClient{};Rl.SSO=xl;(0,Q7.createAggregatedClient)(oQ,xl)});var PA=u(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Tl=(R(),P(x));Tl.__exportStar(mh(),bo);Tl.__exportStar(Cl(),bo);Tl.__exportStar(Pl(),bo);Tl.__exportStar(yh(),bo)});var RA=u(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0})});var TA=u(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.paginateListAccountRoles=void 0;var sQ=He(),iQ=Cl(),aQ=Ni();Ol.paginateListAccountRoles=(0,sQ.createPaginator)(aQ.SSOClient,iQ.ListAccountRolesCommand,"nextToken","nextToken","maxResults")});var OA=u(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.paginateListAccounts=void 0;var cQ=He(),dQ=Pl(),lQ=Ni();Al.paginateListAccounts=(0,cQ.createPaginator)(lQ.SSOClient,dQ.ListAccountsCommand,"nextToken","nextToken","maxResults")});var AA=u(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var vh=(R(),P(x));vh.__exportStar(RA(),qi);vh.__exportStar(TA(),qi);vh.__exportStar(OA(),qi)});var IA=u(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});var uQ=(R(),P(x));uQ.__exportStar(_n(),Sh)});var NA=u(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.SSOServiceException=void 0;var Mi=(R(),P(x));Mi.__exportStar(Ni(),nr);Mi.__exportStar(CA(),nr);Mi.__exportStar(PA(),nr);Mi.__exportStar(AA(),nr);Mi.__exportStar(IA(),nr);od();var pQ=ll();Object.defineProperty(nr,"SSOServiceException",{enumerable:!0,get:function(){return pQ.SSOServiceException}})});var Dl=u(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.UnsupportedGrantTypeException=J.UnauthorizedClientException=J.SlowDownException=J.SSOOIDCClient=J.InvalidScopeException=J.InvalidRequestException=J.InvalidClientException=J.InternalServerException=J.ExpiredTokenException=J.CreateTokenCommand=J.AuthorizationPendingException=J.AccessDeniedException=void 0;var DA=Jc(),fQ=Xc(),mQ=Qc(),qA=id(),_Q=Fe(),gQ=on(),hQ=j(),MA=Ue(),yQ=D(),vQ=e=>{var t,r;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!==null&&t!==void 0?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!==null&&r!==void 0?r:!1,defaultSigningName:"awsssooidc"}},SQ={version:"3.429.0"},EQ=Kd(),Il=Fe(),wQ=pn(),kA=Ue(),ki=Qe(),FA=Pr(),bQ=fn(),CQ=wr(),PQ=D(),xQ=Kt(),UA=Cr(),jA=qe(),RQ=ve(),QA="required",Pt="fn",xt="argv",xo="ref",LA="isSet",or="tree",Co="error",Po="endpoint",wh="PartitionResult",bh="getAttr",$A={[QA]:!1,type:"String"},HA={[QA]:!0,default:!1,type:"Boolean"},zA={[xo]:"Endpoint"},ZA={[Pt]:"booleanEquals",[xt]:[{[xo]:"UseFIPS"},!0]},eI={[Pt]:"booleanEquals",[xt]:[{[xo]:"UseDualStack"},!0]},lt={},VA={[Pt]:"booleanEquals",[xt]:[!0,{[Pt]:bh,[xt]:[{[xo]:wh},"supportsFIPS"]}]},tI={[xo]:wh},BA={[Pt]:"booleanEquals",[xt]:[!0,{[Pt]:bh,[xt]:[tI,"supportsDualStack"]}]},WA=[ZA],GA=[eI],YA=[{[xo]:"Region"}],TQ={version:"1.0",parameters:{Region:$A,UseDualStack:HA,UseFIPS:HA,Endpoint:$A},rules:[{conditions:[{[Pt]:LA,[xt]:[zA]}],type:or,rules:[{conditions:WA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Co},{conditions:GA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Co},{endpoint:{url:zA,properties:lt,headers:lt},type:Po}]},{conditions:[{[Pt]:LA,[xt]:YA}],type:or,rules:[{conditions:[{[Pt]:"aws.partition",[xt]:YA,assign:wh}],type:or,rules:[{conditions:[ZA,eI],type:or,rules:[{conditions:[VA,BA],type:or,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:lt,headers:lt},type:Po}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Co}]},{conditions:WA,type:or,rules:[{conditions:[VA],type:or,rules:[{conditions:[{[Pt]:"stringEquals",[xt]:["aws-us-gov",{[Pt]:bh,[xt]:[tI,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:lt,headers:lt},type:Po},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:lt,headers:lt},type:Po}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Co}]},{conditions:GA,type:or,rules:[{conditions:[BA],type:or,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:lt,headers:lt},type:Po}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Co}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:lt,headers:lt},type:Po}]}]},{error:"Invalid Configuration: Missing Region",type:Co}]},OQ=TQ,AQ=(e,t={})=>(0,RQ.resolveEndpoint)(OQ,{endpointParams:e,logger:t.logger}),IQ=e=>{var t,r,n,o,s,i,a,c,d,l;return{apiVersion:"2019-06-10",base64Decoder:(t=e?.base64Decoder)!==null&&t!==void 0?t:UA.fromBase64,base64Encoder:(r=e?.base64Encoder)!==null&&r!==void 0?r:UA.toBase64,disableHostPrefix:(n=e?.disableHostPrefix)!==null&&n!==void 0?n:!1,endpointProvider:(o=e?.endpointProvider)!==null&&o!==void 0?o:AQ,extensions:(s=e?.extensions)!==null&&s!==void 0?s:[],logger:(i=e?.logger)!==null&&i!==void 0?i:new PQ.NoOpLogger,serviceId:(a=e?.serviceId)!==null&&a!==void 0?a:"SSO OIDC",urlParser:(c=e?.urlParser)!==null&&c!==void 0?c:xQ.parseUrl,utf8Decoder:(d=e?.utf8Decoder)!==null&&d!==void 0?d:jA.fromUtf8,utf8Encoder:(l=e?.utf8Encoder)!==null&&l!==void 0?l:jA.toUtf8}},NQ=D(),DQ=mn(),qQ=D(),MQ=e=>{var t,r,n,o,s,i,a,c,d,l;(0,qQ.emitWarningIfUnsupportedVersion)(process.version);let p=(0,DQ.resolveDefaultsModeConfig)(e),m=()=>p().then(NQ.loadConfigsForDefaultMode),f=IQ(e);return{...f,...e,runtime:"node",defaultsMode:p,bodyLengthChecker:(t=e?.bodyLengthChecker)!==null&&t!==void 0?t:bQ.calculateBodyLength,defaultUserAgentProvider:(r=e?.defaultUserAgentProvider)!==null&&r!==void 0?r:(0,EQ.defaultUserAgent)({serviceId:f.serviceId,clientVersion:SQ.version}),maxAttempts:(n=e?.maxAttempts)!==null&&n!==void 0?n:(0,ki.loadConfig)(kA.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(o=e?.region)!==null&&o!==void 0?o:(0,ki.loadConfig)(Il.NODE_REGION_CONFIG_OPTIONS,Il.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(s=e?.requestHandler)!==null&&s!==void 0?s:new FA.NodeHttpHandler(m),retryMode:(i=e?.retryMode)!==null&&i!==void 0?i:(0,ki.loadConfig)({...kA.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await m()).retryMode||CQ.DEFAULT_RETRY_MODE}),sha256:(a=e?.sha256)!==null&&a!==void 0?a:wQ.Hash.bind(null,"sha256"),streamCollector:(c=e?.streamCollector)!==null&&c!==void 0?c:FA.streamCollector,useDualstackEndpoint:(d=e?.useDualstackEndpoint)!==null&&d!==void 0?d:(0,ki.loadConfig)(Il.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(l=e?.useFipsEndpoint)!==null&&l!==void 0?l:(0,ki.loadConfig)(Il.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}},KA=cl(),JA=Z(),XA=D(),Eh=e=>e,kQ=(e,t)=>{let r={...Eh((0,KA.getAwsRegionExtensionConfiguration)(e)),...Eh((0,XA.getDefaultExtensionConfiguration)(e)),...Eh((0,JA.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,KA.resolveAwsRegionExtensionConfiguration)(r),...(0,XA.resolveDefaultRuntimeConfig)(r),...(0,JA.resolveHttpHandlerRuntimeConfig)(r)}},rI=class extends yQ.Client{constructor(...[e]){let t=MQ(e||{}),r=vQ(t),n=(0,_Q.resolveRegionConfig)(r),o=(0,hQ.resolveEndpointConfig)(n),s=(0,MA.resolveRetryConfig)(o),i=(0,DA.resolveHostHeaderConfig)(s),a=(0,qA.resolveUserAgentConfig)(i),c=kQ(a,e?.extensions||[]);super(c),this.config=c,this.middlewareStack.use((0,MA.getRetryPlugin)(this.config)),this.middlewareStack.use((0,gQ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,DA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,fQ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,mQ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,qA.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};J.SSOOIDCClient=rI;var FQ=D(),UQ=j(),jQ=Y(),LQ=D(),$Q=U(),Ch=Z(),v=D(),HQ=D(),ze=class nI extends HQ.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,nI.prototype)}},oI=class sI extends ze{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,sI.prototype),this.error=t.error,this.error_description=t.error_description}};J.AccessDeniedException=oI;var iI=class aI extends ze{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,aI.prototype),this.error=t.error,this.error_description=t.error_description}};J.AuthorizationPendingException=iI;var cI=class dI extends ze{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,dI.prototype),this.error=t.error,this.error_description=t.error_description}};J.ExpiredTokenException=cI;var lI=class uI extends ze{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,uI.prototype),this.error=t.error,this.error_description=t.error_description}};J.InternalServerException=lI;var pI=class fI extends ze{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,fI.prototype),this.error=t.error,this.error_description=t.error_description}};J.InvalidClientException=pI;var zQ=class mI extends ze{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,mI.prototype),this.error=t.error,this.error_description=t.error_description}},_I=class gI extends ze{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,gI.prototype),this.error=t.error,this.error_description=t.error_description}};J.InvalidRequestException=_I;var hI=class yI extends ze{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,yI.prototype),this.error=t.error,this.error_description=t.error_description}};J.InvalidScopeException=hI;var vI=class SI extends ze{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,SI.prototype),this.error=t.error,this.error_description=t.error_description}};J.SlowDownException=vI;var EI=class wI extends ze{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,wI.prototype),this.error=t.error,this.error_description=t.error_description}};J.UnauthorizedClientException=EI;var bI=class CI extends ze{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,CI.prototype),this.error=t.error,this.error_description=t.error_description}};J.UnsupportedGrantTypeException=bI;var VQ=class PI extends ze{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,PI.prototype),this.error=t.error,this.error_description=t.error_description}},BQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify((0,v.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:d=>(0,v._json)(d)})),new Ch.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},WQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/client/register`,c;return c=JSON.stringify((0,v.take)(e,{clientName:[],clientType:[],scopes:d=>(0,v._json)(d)})),new Ch.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},GQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/device_authorization`,c;return c=JSON.stringify((0,v.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),new Ch.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},YQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return KQ(e,t);let r=(0,v.map)({$metadata:Ne(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await Nl(e.body,t)),"body"),o=(0,v.take)(n,{accessToken:v.expectString,expiresIn:v.expectInt32,idToken:v.expectString,refreshToken:v.expectString,tokenType:v.expectString});return Object.assign(r,o),r},KQ=async(e,t)=>{let r={...e,body:await Th(e.body,t)},n=Oh(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await eZ(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await tZ(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await rZ(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await xh(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await xI(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await oZ(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Rh(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await RI(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await TI(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await OI(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await sZ(r,t);default:let o=r.body;return Ph({output:e,parsedBody:o,errorCode:n})}},JQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return XQ(e,t);let r=(0,v.map)({$metadata:Ne(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await Nl(e.body,t)),"body"),o=(0,v.take)(n,{authorizationEndpoint:v.expectString,clientId:v.expectString,clientIdIssuedAt:v.expectLong,clientSecret:v.expectString,clientSecretExpiresAt:v.expectLong,tokenEndpoint:v.expectString});return Object.assign(r,o),r},XQ=async(e,t)=>{let r={...e,body:await Th(e.body,t)},n=Oh(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await xh(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await nZ(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Rh(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await RI(r,t);default:let o=r.body;return Ph({output:e,parsedBody:o,errorCode:n})}},QQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ZQ(e,t);let r=(0,v.map)({$metadata:Ne(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await Nl(e.body,t)),"body"),o=(0,v.take)(n,{deviceCode:v.expectString,expiresIn:v.expectInt32,interval:v.expectInt32,userCode:v.expectString,verificationUri:v.expectString,verificationUriComplete:v.expectString});return Object.assign(r,o),r},ZQ=async(e,t)=>{let r={...e,body:await Th(e.body,t)},n=Oh(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await xh(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await xI(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Rh(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await TI(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await OI(r,t);default:let o=r.body;return Ph({output:e,parsedBody:o,errorCode:n})}},Ph=(0,v.withBaseException)(ze),eZ=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new oI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},tZ=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new iI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},rZ=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new cI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},xh=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new lI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},xI=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new pI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},nZ=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new VQ({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},oZ=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new zQ({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},Rh=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new _I({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},RI=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new hI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},TI=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new vI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},OI=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new EI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},sZ=async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new bI({$metadata:Ne(e),...r});return(0,v.decorateServiceException)(s,e.body)},Ne=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"])!==null&&r!==void 0?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},iZ=(e,t)=>(0,v.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Nl=(e,t)=>iZ(e,t).then(r=>r.length?JSON.parse(r):{}),Th=async(e,t)=>{var r;let n=await Nl(e,t);return n.message=(r=n.message)!==null&&r!==void 0?r:n.Message,n},Oh=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},AI=class II extends LQ.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,jQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,UQ.getEndpointPlugin)(r,II.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[$Q.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return BQ(t,r)}deserialize(t,r){return YQ(t,r)}};J.CreateTokenCommand=AI;var aZ=j(),cZ=Y(),dZ=D(),lZ=U(),uZ=class NI extends dZ.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,cZ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,aZ.getEndpointPlugin)(r,NI.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[lZ.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return WQ(t,r)}deserialize(t,r){return JQ(t,r)}},pZ=j(),fZ=Y(),mZ=D(),_Z=U(),gZ=class DI extends mZ.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,fZ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,pZ.getEndpointPlugin)(r,DI.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[_Z.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return GQ(t,r)}deserialize(t,r){return QQ(t,r)}},hZ={CreateTokenCommand:AI,RegisterClientCommand:uZ,StartDeviceAuthorizationCommand:gZ},yZ=class extends rI{};(0,FQ.createAggregatedClient)(hZ,yZ)});var ql=u(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.REFRESH_MESSAGE=Ro.EXPIRE_WINDOW_MS=void 0;Ro.EXPIRE_WINDOW_MS=5*60*1e3;Ro.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var qI=u(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.getSsoOidcClient=void 0;var vZ=Dl(),Ah={},SZ=e=>{if(Ah[e])return Ah[e];let t=new vZ.SSOOIDCClient({region:e});return Ah[e]=t,t};Ml.getSsoOidcClient=SZ});var MI=u(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.getNewSsoOidcToken=void 0;var EZ=Dl(),wZ=qI(),bZ=(e,t)=>(0,wZ.getSsoOidcClient)(t).send(new EZ.CreateTokenCommand({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));kl.getNewSsoOidcToken=bZ});var kI=u(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.validateTokenExpiry=void 0;var CZ=k(),PZ=ql(),xZ=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new CZ.TokenProviderError(`Token is expired. ${PZ.REFRESH_MESSAGE}`,!1)};Fl.validateTokenExpiry=xZ});var FI=u(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.validateTokenKey=void 0;var RZ=k(),TZ=ql(),OZ=(e,t,r=!1)=>{if(typeof t>"u")throw new RZ.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${TZ.REFRESH_MESSAGE}`,!1)};Ul.validateTokenKey=OZ});var UI=u(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.writeSSOTokenToFile=void 0;var AZ=me(),IZ=L("fs"),{writeFile:NZ}=IZ.promises,DZ=(e,t)=>{let r=(0,AZ.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return NZ(r,n)};jl.writeSSOTokenToFile=DZ});var Ih=u($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.fromSso=void 0;var Fi=k(),Ll=me(),jI=ql(),qZ=MI(),LI=kI(),gn=FI(),MZ=UI(),$I=new Date(0),kZ=(e={})=>async()=>{let t=await(0,Ll.parseKnownFiles)(e),r=(0,Ll.getProfileName)(e),n=t[r];if(n){if(!n.sso_session)throw new Fi.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new Fi.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await(0,Ll.loadSsoSessionData)(e))[o];if(!i)throw new Fi.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let f of["sso_start_url","sso_region"])if(!i[f])throw new Fi.TokenProviderError(`Sso session '${o}' is missing required property '${f}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await(0,Ll.getSSOTokenFromFile)(o)}catch{throw new Fi.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${jI.REFRESH_MESSAGE}`,!1)}(0,gn.validateTokenKey)("accessToken",d.accessToken),(0,gn.validateTokenKey)("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:p}=d,m={token:l,expiration:new Date(p)};if(m.expiration.getTime()-Date.now()>jI.EXPIRE_WINDOW_MS)return m;if(Date.now()-$I.getTime()<30*1e3)return(0,LI.validateTokenExpiry)(m),m;(0,gn.validateTokenKey)("clientId",d.clientId,!0),(0,gn.validateTokenKey)("clientSecret",d.clientSecret,!0),(0,gn.validateTokenKey)("refreshToken",d.refreshToken,!0);try{$I.setTime(Date.now());let f=await(0,qZ.getNewSsoOidcToken)(d,c);(0,gn.validateTokenKey)("accessToken",f.accessToken),(0,gn.validateTokenKey)("expiresIn",f.expiresIn);let _=new Date(Date.now()+f.expiresIn*1e3);try{await(0,MZ.writeSSOTokenToFile)(o,{...d,accessToken:f.accessToken,expiresAt:_.toISOString(),refreshToken:f.refreshToken})}catch{}return{token:f.accessToken,expiration:_}}catch{return(0,LI.validateTokenExpiry)(m),m}};$l.fromSso=kZ});var HI=u(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.fromStatic=void 0;var FZ=k(),UZ=({token:e})=>async()=>{if(!e||!e.token)throw new FZ.TokenProviderError("Please pass a valid token to fromStatic",!1);return e};Hl.fromStatic=UZ});var zI=u(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.nodeProvider=void 0;var Nh=k(),jZ=Ih(),LZ=(e={})=>(0,Nh.memoize)((0,Nh.chain)((0,jZ.fromSso)(e),async()=>{throw new Nh.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);zl.nodeProvider=LZ});var VI=u(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var Vl=(R(),P(x));Vl.__exportStar(Dl(),To);Vl.__exportStar(Ih(),To);Vl.__exportStar(HI(),To);Vl.__exportStar(zI(),To)});var WI=u(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.resolveSSOCredentials=void 0;var BI=NA(),$Z=VI(),Ui=k(),HZ=me(),ji=!1,zZ=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let g=await(0,$Z.fromSso)({profile:i})();a={accessToken:g.token,expiresAt:new Date(g.expiration).toISOString()}}catch(g){throw new Ui.CredentialsProviderError(g.message,ji)}else try{a=await(0,HZ.getSSOTokenFromFile)(e)}catch{throw new Ui.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${c}`,ji)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new Ui.CredentialsProviderError(`The SSO session associated with this profile has expired. ${c}`,ji);let{accessToken:d}=a,l=s||new BI.SSOClient({region:n}),p;try{p=await l.send(new BI.GetRoleCredentialsCommand({accountId:r,roleName:o,accessToken:d}))}catch(g){throw Ui.CredentialsProviderError.from(g,ji)}let{roleCredentials:{accessKeyId:m,secretAccessKey:f,sessionToken:_,expiration:y}={}}=p;if(!m||!f||!_||!y)throw new Ui.CredentialsProviderError("SSO returns an invalid temporary credential.",ji);return{accessKeyId:m,secretAccessKey:f,sessionToken:_,expiration:new Date(y)}};Bl.resolveSSOCredentials=zZ});var Dh=u(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.validateSsoProfile=void 0;var VZ=k(),BZ=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new VZ.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};Wl.validateSsoProfile=BZ});var YI=u(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.fromSSO=void 0;var Li=k(),qh=me(),WZ=Jg(),GI=WI(),GZ=Dh(),YZ=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=(0,qh.getProfileName)(e);if(!t&&!r&&!n&&!o&&!i){let d=(await(0,qh.parseKnownFiles)(e))[a];if(!d)throw new Li.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,WZ.isSsoProfile)(d))throw new Li.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(d?.sso_session){let g=(await(0,qh.loadSsoSessionData)(e))[d.sso_session],T=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==g.sso_region)throw new Li.CredentialsProviderError("Conflicting SSO region"+T,!1);if(t&&t!==g.sso_start_url)throw new Li.CredentialsProviderError("Conflicting SSO start_url"+T,!1);d.sso_region=g.sso_region,d.sso_start_url=g.sso_start_url}let{sso_start_url:l,sso_account_id:p,sso_region:m,sso_role_name:f,sso_session:_}=(0,GZ.validateSsoProfile)(d);return(0,GI.resolveSSOCredentials)({ssoStartUrl:l,ssoSession:_,ssoAccountId:p,ssoRegion:m,ssoRoleName:f,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new Li.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,GI.resolveSSOCredentials)({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};Gl.fromSSO=YZ});var JI=u(KI=>{"use strict";Object.defineProperty(KI,"__esModule",{value:!0})});var Kl=u(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var Yl=(R(),P(x));Yl.__exportStar(YI(),Oo);Yl.__exportStar(Jg(),Oo);Yl.__exportStar(JI(),Oo);Yl.__exportStar(Dh(),Oo)});var QI=u(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.resolveSsoCredentials=Ao.isSsoProfile=void 0;var XI=Kl(),KZ=Kl();Object.defineProperty(Ao,"isSsoProfile",{enumerable:!0,get:function(){return KZ.isSsoProfile}});var JZ=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=(0,XI.validateSsoProfile)(e);return(0,XI.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};Ao.resolveSsoCredentials=JZ});var ZI=u(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.resolveStaticCredentials=Io.isStaticCredsProfile=void 0;var XZ=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;Io.isStaticCredsProfile=XZ;var QZ=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});Io.resolveStaticCredentials=QZ});var Mh=u(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.fromWebToken=void 0;var ZZ=k(),eee=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new ZZ.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};Jl.fromWebToken=eee});var eN=u(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.fromTokenFile=void 0;var tee=k(),ree=L("fs"),nee=Mh(),oee="AWS_WEB_IDENTITY_TOKEN_FILE",see="AWS_ROLE_ARN",iee="AWS_ROLE_SESSION_NAME",aee=(e={})=>async()=>{var t,r,n;let o=(t=e?.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[oee],s=(r=e?.roleArn)!==null&&r!==void 0?r:process.env[see],i=(n=e?.roleSessionName)!==null&&n!==void 0?n:process.env[iee];if(!o||!s)throw new tee.CredentialsProviderError("Web identity configuration not specified");return(0,nee.fromWebToken)({...e,webIdentityToken:(0,ree.readFileSync)(o,{encoding:"ascii"}),roleArn:s,roleSessionName:i})()};Xl.fromTokenFile=aee});var kh=u(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var tN=(R(),P(x));tN.__exportStar(eN(),Ql);tN.__exportStar(Mh(),Ql)});var rN=u(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.resolveWebIdentityCredentials=No.isWebIdentityProfile=void 0;var cee=kh(),dee=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;No.isWebIdentityProfile=dee;var lee=async(e,t)=>(0,cee.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();No.resolveWebIdentityCredentials=lee});var Wg=u(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.resolveProfileData=void 0;var uee=k(),nN=eO(),oN=sO(),sN=QI(),Zl=ZI(),iN=rN(),pee=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&(0,Zl.isStaticCredsProfile)(o))return(0,Zl.resolveStaticCredentials)(o);if((0,nN.isAssumeRoleProfile)(o))return(0,nN.resolveAssumeRoleCredentials)(e,t,r,n);if((0,Zl.isStaticCredsProfile)(o))return(0,Zl.resolveStaticCredentials)(o);if((0,iN.isWebIdentityProfile)(o))return(0,iN.resolveWebIdentityCredentials)(o,r);if((0,oN.isProcessProfile)(o))return(0,oN.resolveProcessCredentials)(r,e);if((0,sN.isSsoProfile)(o))return(0,sN.resolveSsoCredentials)(o);throw new uee.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};eu.resolveProfileData=pee});var cN=u(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.fromIni=void 0;var aN=me(),fee=Wg(),mee=(e={})=>async()=>{let t=await(0,aN.parseKnownFiles)(e);return(0,fee.resolveProfileData)((0,aN.getProfileName)(e),t,e)};tu.fromIni=mee});var dN=u(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});var _ee=(R(),P(x));_ee.__exportStar(cN(),Fh)});var lN=u(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.remoteProvider=hn.ENV_IMDS_DISABLED=void 0;var ru=co(),gee=k();hn.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var hee=e=>process.env[ru.ENV_CMDS_RELATIVE_URI]||process.env[ru.ENV_CMDS_FULL_URI]?(0,ru.fromContainerMetadata)(e):process.env[hn.ENV_IMDS_DISABLED]?async()=>{throw new gee.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,ru.fromInstanceMetadata)(e);hn.remoteProvider=hee});var uN=u(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.defaultProvider=void 0;var yee=jg(),vee=dN(),See=Kg(),Eee=Kl(),wee=kh(),Uh=k(),bee=me(),Cee=lN(),Pee=(e={})=>(0,Uh.memoize)((0,Uh.chain)(...e.profile||process.env[bee.ENV_PROFILE]?[]:[(0,yee.fromEnv)()],(0,Eee.fromSSO)(e),(0,vee.fromIni)(e),(0,See.fromProcess)(e),(0,wee.fromTokenFile)(e),(0,Cee.remoteProvider)(e),async()=>{throw new Uh.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);nu.defaultProvider=Pee});var pN=u(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});var xee=(R(),P(x));xee.__exportStar(uN(),jh)});var qN=u(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.ruleSet=void 0;var CN="required",q="type",W="fn",G="argv",Vr="ref",fN=!1,Lh=!0,zr="booleanEquals",Ee="stringEquals",PN="sigv4",xN="sts",RN="us-east-1",re="endpoint",mN="https://sts.{Region}.{PartitionResult#dnsSuffix}",$t="tree",Do="error",Hh="getAttr",_N={[CN]:!1,[q]:"String"},$h={[CN]:!0,default:!1,[q]:"Boolean"},TN={[Vr]:"Endpoint"},gN={[W]:"isSet",[G]:[{[Vr]:"Region"}]},we={[Vr]:"Region"},hN={[W]:"aws.partition",[G]:[we],assign:"PartitionResult"},ON={[Vr]:"UseFIPS"},AN={[Vr]:"UseDualStack"},Te={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:PN,signingName:xN,signingRegion:RN}]},headers:{}},Ve={},yN={conditions:[{[W]:Ee,[G]:[we,"aws-global"]}],[re]:Te,[q]:re},IN={[W]:zr,[G]:[ON,!0]},NN={[W]:zr,[G]:[AN,!0]},vN={[W]:Hh,[G]:[{[Vr]:"PartitionResult"},"supportsFIPS"]},DN={[Vr]:"PartitionResult"},SN={[W]:zr,[G]:[!0,{[W]:Hh,[G]:[DN,"supportsDualStack"]}]},EN=[{[W]:"isSet",[G]:[TN]}],wN=[IN],bN=[NN],Ree={version:"1.0",parameters:{Region:_N,UseDualStack:$h,UseFIPS:$h,Endpoint:_N,UseGlobalEndpoint:$h},rules:[{conditions:[{[W]:zr,[G]:[{[Vr]:"UseGlobalEndpoint"},Lh]},{[W]:"not",[G]:EN},gN,hN,{[W]:zr,[G]:[ON,fN]},{[W]:zr,[G]:[AN,fN]}],rules:[{conditions:[{[W]:Ee,[G]:[we,"ap-northeast-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"ap-south-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"ap-southeast-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"ap-southeast-2"]}],endpoint:Te,[q]:re},yN,{conditions:[{[W]:Ee,[G]:[we,"ca-central-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"eu-central-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"eu-north-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"eu-west-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"eu-west-2"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"eu-west-3"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"sa-east-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,RN]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"us-east-2"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"us-west-1"]}],endpoint:Te,[q]:re},{conditions:[{[W]:Ee,[G]:[we,"us-west-2"]}],endpoint:Te,[q]:re},{endpoint:{url:mN,properties:{authSchemes:[{name:PN,signingName:xN,signingRegion:"{Region}"}]},headers:Ve},[q]:re}],[q]:$t},{conditions:EN,rules:[{conditions:wN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[q]:Do},{conditions:bN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[q]:Do},{endpoint:{url:TN,properties:Ve,headers:Ve},[q]:re}],[q]:$t},{conditions:[gN],rules:[{conditions:[hN],rules:[{conditions:[IN,NN],rules:[{conditions:[{[W]:zr,[G]:[Lh,vN]},SN],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},[q]:re}],[q]:$t},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[q]:Do}],[q]:$t},{conditions:wN,rules:[{conditions:[{[W]:zr,[G]:[vN,Lh]}],rules:[{conditions:[{[W]:Ee,[G]:[{[W]:Hh,[G]:[DN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ve,headers:Ve},[q]:re},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ve,headers:Ve},[q]:re}],[q]:$t},{error:"FIPS is enabled but this partition does not support FIPS",[q]:Do}],[q]:$t},{conditions:bN,rules:[{conditions:[SN],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},[q]:re}],[q]:$t},{error:"DualStack is enabled but this partition does not support DualStack",[q]:Do}],[q]:$t},yN,{endpoint:{url:mN,properties:Ve,headers:Ve},[q]:re}],[q]:$t}],[q]:$t},{error:"Invalid Configuration: Missing Region",[q]:Do}]};ou.ruleSet=Ree});var MN=u(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.defaultEndpointResolver=void 0;var Tee=ve(),Oee=qN(),Aee=(e,t={})=>(0,Tee.resolveEndpoint)(Oee.ruleSet,{endpointParams:e,logger:t.logger});su.defaultEndpointResolver=Aee});var UN=u(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.getRuntimeConfig=void 0;var Iee=bi(),Nee=He(),Dee=D(),qee=Kt(),kN=Cr(),FN=qe(),Mee=j_(),kee=MN(),Fee=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??kN.fromBase64,base64Encoder:e?.base64Encoder??kN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??kee.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Mee.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Iee.AWSSDKSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Nee.NoAuthSigner}],logger:e?.logger??new Dee.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??qee.parseUrl,utf8Decoder:e?.utf8Decoder??FN.fromUtf8,utf8Encoder:e?.utf8Encoder??FN.toUtf8});iu.getRuntimeConfig=Fee});var VN=u(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getRuntimeConfig=void 0;var Uee=(R(),P(x)),jee=Uee.__importDefault(GR()),jN=Fg(),LN=bi(),$N=pN(),Lee=Kd(),au=Fe(),$ee=He(),Hee=pn(),HN=Ue(),$i=Qe(),zN=Pr(),zee=fn(),Vee=wr(),Bee=UN(),Wee=D(),Gee=mn(),Yee=D(),Kee=e=>{(0,Yee.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Gee.resolveDefaultsModeConfig)(e),r=()=>t().then(Wee.loadConfigsForDefaultMode),n=(0,Bee.getRuntimeConfig)(e);return(0,LN.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??zee.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,jN.decorateDefaultCredentialProvider)($N.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Lee.defaultUserAgent)({serviceId:n.serviceId,clientVersion:jee.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await(0,jN.decorateDefaultCredentialProvider)($N.defaultProvider)(s?.__config||{})()),signer:new LN.AWSSDKSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $ee.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,$i.loadConfig)(HN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,$i.loadConfig)(au.NODE_REGION_CONFIG_OPTIONS,au.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new zN.NodeHttpHandler(r),retryMode:e?.retryMode??(0,$i.loadConfig)({...HN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Vee.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Hee.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??zN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$i.loadConfig)(au.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,$i.loadConfig)(au.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};cu.getRuntimeConfig=Kee});var BN=u(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.resolveHttpAuthRuntimeConfig=qo.getHttpAuthExtensionConfiguration=void 0;var Jee=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};qo.getHttpAuthExtensionConfiguration=Jee;var Xee=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});qo.resolveHttpAuthRuntimeConfig=Xee});var JN=u(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.resolveRuntimeExtensions=void 0;var WN=cl(),GN=Z(),YN=D(),KN=BN(),du=e=>e,Qee=(e,t)=>{let r={...du((0,WN.getAwsRegionExtensionConfiguration)(e)),...du((0,YN.getDefaultExtensionConfiguration)(e)),...du((0,GN.getHttpHandlerExtensionConfiguration)(e)),...du((0,KN.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,WN.resolveAwsRegionExtensionConfiguration)(r),...(0,YN.resolveDefaultRuntimeConfig)(r),...(0,GN.resolveHttpHandlerRuntimeConfig)(r),...(0,KN.resolveHttpAuthRuntimeConfig)(r)}};lu.resolveRuntimeExtensions=Qee});var Ci=u(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.STSClient=Mo.__Client=void 0;var XN=Jc(),Zee=Xc(),ete=Qc(),QN=id(),tte=Fe(),zh=He(),rte=on(),nte=j(),ZN=Ue(),t1=D();Object.defineProperty(Mo,"__Client",{enumerable:!0,get:function(){return t1.Client}});var e1=j_(),ote=WR(),ste=VN(),ite=JN(),Vh=class extends t1.Client{getDefaultHttpAuthSchemeParametersProvider(){return e1.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new zh.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}constructor(...[t]){let r=(0,ste.getRuntimeConfig)(t||{}),n=(0,ote.resolveClientEndpointParameters)(r),o=(0,tte.resolveRegionConfig)(n),s=(0,nte.resolveEndpointConfig)(o),i=(0,ZN.resolveRetryConfig)(s),a=(0,XN.resolveHostHeaderConfig)(i),c=(0,QN.resolveUserAgentConfig)(a),d=(0,e1.resolveHttpAuthSchemeConfig)(c),l=(0,ite.resolveRuntimeExtensions)(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,ZN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,rte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,XN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Zee.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,ete.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,QN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zh.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,zh.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};Mo.STSClient=Vh});var Wh=u(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.AssumeRoleWithSAMLCommand=ko.$Command=void 0;var ate=j(),cte=Y(),o1=D();Object.defineProperty(ko,"$Command",{enumerable:!0,get:function(){return o1.Command}});var dte=U(),r1=Ar(),n1=tr(),Bh=class e extends o1.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,cte.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ate.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:r1.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:r1.AssumeRoleWithSAMLResponseFilterSensitiveLog,[dte.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithSAML"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,n1.se_AssumeRoleWithSAMLCommand)(t,r)}deserialize(t,r){return(0,n1.de_AssumeRoleWithSAMLCommand)(t,r)}};ko.AssumeRoleWithSAMLCommand=Bh});var Yh=u(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.DecodeAuthorizationMessageCommand=Fo.$Command=void 0;var lte=j(),ute=Y(),i1=D();Object.defineProperty(Fo,"$Command",{enumerable:!0,get:function(){return i1.Command}});var pte=U(),s1=tr(),Gh=class e extends i1.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ute.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lte.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[pte.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"DecodeAuthorizationMessage"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,s1.se_DecodeAuthorizationMessageCommand)(t,r)}deserialize(t,r){return(0,s1.de_DecodeAuthorizationMessageCommand)(t,r)}};Fo.DecodeAuthorizationMessageCommand=Gh});var Jh=u(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.GetAccessKeyInfoCommand=Uo.$Command=void 0;var fte=j(),mte=Y(),c1=D();Object.defineProperty(Uo,"$Command",{enumerable:!0,get:function(){return c1.Command}});var _te=U(),a1=tr(),Kh=class e extends c1.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,mte.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,fte.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[_te.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetAccessKeyInfo"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,a1.se_GetAccessKeyInfoCommand)(t,r)}deserialize(t,r){return(0,a1.de_GetAccessKeyInfoCommand)(t,r)}};Uo.GetAccessKeyInfoCommand=Kh});var Qh=u(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.GetCallerIdentityCommand=jo.$Command=void 0;var gte=j(),hte=Y(),l1=D();Object.defineProperty(jo,"$Command",{enumerable:!0,get:function(){return l1.Command}});var yte=U(),d1=tr(),Xh=class e extends l1.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,hte.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,gte.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[yte.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetCallerIdentity"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,d1.se_GetCallerIdentityCommand)(t,r)}deserialize(t,r){return(0,d1.de_GetCallerIdentityCommand)(t,r)}};jo.GetCallerIdentityCommand=Xh});var ey=u(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.GetFederationTokenCommand=Lo.$Command=void 0;var vte=j(),Ste=Y(),p1=D();Object.defineProperty(Lo,"$Command",{enumerable:!0,get:function(){return p1.Command}});var Ete=U(),wte=Ar(),u1=tr(),Zh=class e extends p1.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Ste.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,vte.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:wte.GetFederationTokenResponseFilterSensitiveLog,[Ete.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetFederationToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,u1.se_GetFederationTokenCommand)(t,r)}deserialize(t,r){return(0,u1.de_GetFederationTokenCommand)(t,r)}};Lo.GetFederationTokenCommand=Zh});var ry=u($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.GetSessionTokenCommand=$o.$Command=void 0;var bte=j(),Cte=Y(),m1=D();Object.defineProperty($o,"$Command",{enumerable:!0,get:function(){return m1.Command}});var Pte=U(),xte=Ar(),f1=tr(),ty=class e extends m1.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Cte.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,bte.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:xte.GetSessionTokenResponseFilterSensitiveLog,[Pte.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetSessionToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,f1.se_GetSessionTokenCommand)(t,r)}deserialize(t,r){return(0,f1.de_GetSessionTokenCommand)(t,r)}};$o.GetSessionTokenCommand=ty});var _1=u(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.STS=void 0;var Rte=D(),Tte=kd(),Ote=Wh(),Ate=Fd(),Ite=Yh(),Nte=Jh(),Dte=Qh(),qte=ey(),Mte=ry(),kte=Ci(),Fte={AssumeRoleCommand:Tte.AssumeRoleCommand,AssumeRoleWithSAMLCommand:Ote.AssumeRoleWithSAMLCommand,AssumeRoleWithWebIdentityCommand:Ate.AssumeRoleWithWebIdentityCommand,DecodeAuthorizationMessageCommand:Ite.DecodeAuthorizationMessageCommand,GetAccessKeyInfoCommand:Nte.GetAccessKeyInfoCommand,GetCallerIdentityCommand:Dte.GetCallerIdentityCommand,GetFederationTokenCommand:qte.GetFederationTokenCommand,GetSessionTokenCommand:Mte.GetSessionTokenCommand},uu=class extends kte.STSClient{};pu.STS=uu;(0,Rte.createAggregatedClient)(Fte,uu)});var g1=u(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var Br=(R(),P(x));Br.__exportStar(kd(),Ht);Br.__exportStar(Wh(),Ht);Br.__exportStar(Fd(),Ht);Br.__exportStar(Yh(),Ht);Br.__exportStar(Jh(),Ht);Br.__exportStar(Qh(),Ht);Br.__exportStar(ey(),Ht);Br.__exportStar(ry(),Ht)});var h1=u(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});var Ute=(R(),P(x));Ute.__exportStar(Ar(),ny)});var E1=u(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.decorateDefaultCredentialProvider=zt.getDefaultRoleAssumerWithWebIdentity=zt.getDefaultRoleAssumer=void 0;var y1=Fg(),v1=Ci(),S1=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,jte=(e={},t)=>(0,y1.getDefaultRoleAssumer)(e,S1(v1.STSClient,t));zt.getDefaultRoleAssumer=jte;var Lte=(e={},t)=>(0,y1.getDefaultRoleAssumerWithWebIdentity)(e,S1(v1.STSClient,t));zt.getDefaultRoleAssumerWithWebIdentity=Lte;var $te=e=>t=>e({roleAssumer:(0,zt.getDefaultRoleAssumer)(t),roleAssumerWithWebIdentity:(0,zt.getDefaultRoleAssumerWithWebIdentity)(t),...t});zt.decorateDefaultCredentialProvider=$te});var w1=u(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.STSServiceException=void 0;var Hi=(R(),P(x));Hi.__exportStar(Ci(),sr);Hi.__exportStar(_1(),sr);Hi.__exportStar(g1(),sr);Hi.__exportStar(h1(),sr);od();Hi.__exportStar(E1(),sr);var Hte=Id();Object.defineProperty(sr,"STSServiceException",{enumerable:!0,get:function(){return Hte.STSServiceException}})});var C1=u(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.emitWarningIfUnsupportedVersion=void 0;var b1=!1,zte=e=>{e&&!b1&&parseInt(e.substring(1,e.indexOf(".")))<16&&(b1=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))};fu.emitWarningIfUnsupportedVersion=zte});var P1=u(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0});var Vte=(R(),P(x));Vte.__exportStar(C1(),oy)});var x1=u(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.getDateHeader=void 0;var Bte=Z(),Wte=e=>{var t,r,n;return Bte.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};mu.getDateHeader=Wte});var sy=u(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.getSkewCorrectedDate=void 0;var Gte=e=>new Date(Date.now()+e);_u.getSkewCorrectedDate=Gte});var R1=u(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.isClockSkewed=void 0;var Yte=sy(),Kte=(e,t)=>Math.abs((0,Yte.getSkewCorrectedDate)(t).getTime()-e)>=3e5;gu.isClockSkewed=Kte});var T1=u(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.getUpdatedSystemClockOffset=void 0;var Jte=R1(),Xte=(e,t)=>{let r=Date.parse(e);return(0,Jte.isClockSkewed)(r,t)?r-Date.now():t};hu.getUpdatedSystemClockOffset=Xte});var O1=u(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var iy=(R(),P(x));iy.__exportStar(x1(),zi);iy.__exportStar(sy(),zi);iy.__exportStar(T1(),zi)});var A1=u(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.throwAWSSDKSigningPropertyError=void 0;var Qte=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};yu.throwAWSSDKSigningPropertyError=Qte});var I1=u(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.AWSSDKSigV4Signer=void 0;var Zte=Z(),Vi=O1(),Bi=A1(),ere=async e=>{var t,r,n;let o=(0,Bi.throwAWSSDKSigningPropertyError)("context",e.context),s=(0,Bi.throwAWSSDKSigningPropertyError)("config",e.config),i=(n=(r=(t=o.endpointV2)===null||t===void 0?void 0:t.properties)===null||r===void 0?void 0:r.authSchemes)===null||n===void 0?void 0:n[0],c=await(0,Bi.throwAWSSDKSigningPropertyError)("signer",s.signer)(i),d=e?.signingRegion,l=e?.signingName;return{config:s,signer:c,signingRegion:d,signingName:l}},ay=class{async sign(t,r,n){if(!Zte.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingName:a}=await ere(n);return await s.sign(t,{signingDate:(0,Vi.getSkewCorrectedDate)(o.systemClockOffset),signingRegion:i,signingService:a})}errorHandler(t){return r=>{var n;let o=(n=r.ServerTime)!==null&&n!==void 0?n:(0,Vi.getDateHeader)(r.$response);if(o){let s=(0,Bi.throwAWSSDKSigningPropertyError)("config",t.config);s.systemClockOffset=(0,Vi.getUpdatedSystemClockOffset)(o,s.systemClockOffset)}throw r}}successHandler(t,r){let n=(0,Vi.getDateHeader)(t);if(n){let o=(0,Bi.throwAWSSDKSigningPropertyError)("config",r.config);o.systemClockOffset=(0,Vi.getUpdatedSystemClockOffset)(n,o.systemClockOffset)}}};vu.AWSSDKSigV4Signer=ay});var D1=u(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.resolveAWSSDKSigV4Config=void 0;var yn=He(),N1=za(),tre=e=>{let t;e.credentials&&(t=(0,yn.memoizeIdentityProvider)(e.credentials,yn.isIdentityExpired,yn.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,yn.normalizeProvider)(e.credentialDefaultProvider(e)):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,yn.normalizeProvider)(e.signer):e.regionInfoProvider?s=()=>(0,yn.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||N1.SignatureV4;return new p(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,yn.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||N1.SignatureV4;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};Su.resolveAWSSDKSigV4Config=tre});var M1=u(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var q1=(R(),P(x));q1.__exportStar(I1(),Eu);q1.__exportStar(D1(),Eu)});var k1=u(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});var rre=(R(),P(x));rre.__exportStar(M1(),cy)});var F1=u(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr._toNum=Wr._toBool=Wr._toStr=void 0;var nre=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e};Wr._toStr=nre;var ore=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e};Wr._toBool=ore;var sre=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e};Wr._toNum=sre});var U1=u(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.awsExpectUnion=void 0;var ire=M(),are=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ire.expectUnion)(e)};wu.awsExpectUnion=are});var L1=u(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});var j1=(R(),P(x));j1.__exportStar(F1(),bu);j1.__exportStar(U1(),bu)});var Cu=u(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var dy=(R(),P(x));dy.__exportStar(P1(),Wi);dy.__exportStar(k1(),Wi);dy.__exportStar(L1(),Wi)});var $1=u(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.fromEnv=Oe.ENV_EXPIRATION=Oe.ENV_SESSION=Oe.ENV_SECRET=Oe.ENV_KEY=void 0;var cre=k();Oe.ENV_KEY="AWS_ACCESS_KEY_ID";Oe.ENV_SECRET="AWS_SECRET_ACCESS_KEY";Oe.ENV_SESSION="AWS_SESSION_TOKEN";Oe.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var dre=()=>async()=>{let e=process.env[Oe.ENV_KEY],t=process.env[Oe.ENV_SECRET],r=process.env[Oe.ENV_SESSION],n=process.env[Oe.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new cre.CredentialsProviderError("Unable to find environment variable credentials.")};Oe.fromEnv=dre});var uy=u(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});var lre=(R(),P(x));lre.__exportStar($1(),ly)});var z1=u(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.resolveCredentialSource=void 0;var ure=uy(),H1=co(),pre=k(),fre=(e,t)=>{let r={EcsContainer:H1.fromContainerMetadata,Ec2InstanceMetadata:H1.fromInstanceMetadata,Environment:ure.fromEnv};if(e in r)return r[e]();throw new pre.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};Pu.resolveCredentialSource=fre});var V1=u(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.resolveAssumeRoleCredentials=Ho.isAssumeRoleProfile=void 0;var py=k(),mre=me(),_re=z1(),gre=fy(),hre=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(yre(e)||vre(e));Ho.isAssumeRoleProfile=hre;var yre=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",vre=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",Sre=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new py.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new py.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,mre.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?(0,gre.resolveProfileData)(s,t,r,{...n,[s]:!0}):(0,_re.resolveCredentialSource)(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new py.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};Ho.resolveAssumeRoleCredentials=Sre});var B1=u(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.getValidatedProcessCredentials=void 0;var Ere=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};xu.getValidatedProcessCredentials=Ere});var W1=u(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.resolveProcessCredentials=void 0;var my=k(),wre=L("child_process"),bre=L("util"),Cre=B1(),Pre=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,bre.promisify)(wre.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,Cre.getValidatedProcessCredentials)(e,i)}catch(s){throw new my.CredentialsProviderError(s.message)}}else throw new my.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new my.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};Ru.resolveProcessCredentials=Pre});var Y1=u(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.fromProcess=void 0;var G1=me(),xre=W1(),Rre=(e={})=>async()=>{let t=await(0,G1.parseKnownFiles)(e);return(0,xre.resolveProcessCredentials)((0,G1.getProfileName)(e),t)};Tu.fromProcess=Rre});var gy=u(_y=>{"use strict";Object.defineProperty(_y,"__esModule",{value:!0});var Tre=(R(),P(x));Tre.__exportStar(Y1(),_y)});var K1=u(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.resolveProcessCredentials=zo.isProcessProfile=void 0;var Ore=gy(),Are=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string";zo.isProcessProfile=Are;var Ire=async(e,t)=>(0,Ore.fromProcess)({...e,profile:t})();zo.resolveProcessCredentials=Ire});var hy=u(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.isSsoProfile=void 0;var Nre=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");Ou.isSsoProfile=Nre});var J1=u(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.resolveClientEndpointParameters=void 0;var Dre=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});Au.resolveClientEndpointParameters=Dre});var X1=u((age,qre)=>{qre.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.477.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var yy=u(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.crtAvailability=void 0;Iu.crtAvailability={isCrtAvailable:!1}});var Q1=u(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.isCrtAvailable=void 0;var Mre=yy(),kre=()=>Mre.crtAvailability.isCrtAvailable?["md/crt-avail"]:null;Nu.isCrtAvailable=kre});var Du=u(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.defaultUserAgent=ut.UA_APP_ID_INI_NAME=ut.UA_APP_ID_ENV_NAME=ut.crtAvailability=void 0;var Fre=Qe(),Z1=L("os"),vy=L("process"),Ure=Q1(),jre=yy();Object.defineProperty(ut,"crtAvailability",{enumerable:!0,get:function(){return jre.crtAvailability}});ut.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";ut.UA_APP_ID_INI_NAME="sdk-ua-app-id";var Lre=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,Z1.platform)()}`,(0,Z1.release)()],["lang/js"],["md/nodejs",`${vy.versions.node}`]],n=(0,Ure.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),vy.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${vy.env.AWS_EXECUTION_ENV}`]);let o=(0,Fre.loadConfig)({environmentVariableSelector:i=>i[ut.UA_APP_ID_ENV_NAME],configFileSelector:i=>i[ut.UA_APP_ID_INI_NAME],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};ut.defaultUserAgent=Lre});var mD=u(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.ruleSet=void 0;var lD="required",ft="fn",mt="argv",Wo="ref",eD=!0,tD="isSet",Gi="booleanEquals",Vo="error",Bo="endpoint",ir="tree",Sy="PartitionResult",Ey="getAttr",rD={[lD]:!1,type:"String"},nD={[lD]:!0,default:!1,type:"Boolean"},oD={[Wo]:"Endpoint"},uD={[ft]:Gi,[mt]:[{[Wo]:"UseFIPS"},!0]},pD={[ft]:Gi,[mt]:[{[Wo]:"UseDualStack"},!0]},pt={},sD={[ft]:Ey,[mt]:[{[Wo]:Sy},"supportsFIPS"]},fD={[Wo]:Sy},iD={[ft]:Gi,[mt]:[!0,{[ft]:Ey,[mt]:[fD,"supportsDualStack"]}]},aD=[uD],cD=[pD],dD=[{[Wo]:"Region"}],$re={version:"1.0",parameters:{Region:rD,UseDualStack:nD,UseFIPS:nD,Endpoint:rD},rules:[{conditions:[{[ft]:tD,[mt]:[oD]}],rules:[{conditions:aD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Vo},{conditions:cD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Vo},{endpoint:{url:oD,properties:pt,headers:pt},type:Bo}],type:ir},{conditions:[{[ft]:tD,[mt]:dD}],rules:[{conditions:[{[ft]:"aws.partition",[mt]:dD,assign:Sy}],rules:[{conditions:[uD,pD],rules:[{conditions:[{[ft]:Gi,[mt]:[eD,sD]},iD],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:Bo}],type:ir},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Vo}],type:ir},{conditions:aD,rules:[{conditions:[{[ft]:Gi,[mt]:[sD,eD]}],rules:[{conditions:[{[ft]:"stringEquals",[mt]:[{[ft]:Ey,[mt]:[fD,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:pt,headers:pt},type:Bo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:Bo}],type:ir},{error:"FIPS is enabled but this partition does not support FIPS",type:Vo}],type:ir},{conditions:cD,rules:[{conditions:[iD],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:Bo}],type:ir},{error:"DualStack is enabled but this partition does not support DualStack",type:Vo}],type:ir},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:Bo}],type:ir}],type:ir},{error:"Invalid Configuration: Missing Region",type:Vo}]};qu.ruleSet=$re});var _D=u(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.defaultEndpointResolver=void 0;var Hre=ve(),zre=mD(),Vre=(e,t={})=>(0,Hre.resolveEndpoint)(zre.ruleSet,{endpointParams:e,logger:t.logger});Mu.defaultEndpointResolver=Vre});var yD=u(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.getRuntimeConfig=void 0;var Bre=M(),Wre=Kt(),gD=Cr(),hD=qe(),Gre=_D(),Yre=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??gD.fromBase64,base64Encoder:e?.base64Encoder??gD.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Gre.defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new Bre.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Wre.parseUrl,utf8Decoder:e?.utf8Decoder??hD.fromUtf8,utf8Encoder:e?.utf8Encoder??hD.toUtf8});ku.getRuntimeConfig=Yre});var ED=u(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.getRuntimeConfig=void 0;var Kre=(R(),P(x)),Jre=Kre.__importDefault(X1()),Xre=Cu(),Qre=Du(),Fu=Fe(),Zre=pn(),vD=Ue(),Yi=Qe(),SD=Pr(),ene=fn(),tne=wr(),rne=yD(),nne=M(),one=mn(),sne=M(),ine=e=>{(0,sne.emitWarningIfUnsupportedVersion)(process.version);let t=(0,one.resolveDefaultsModeConfig)(e),r=()=>t().then(nne.loadConfigsForDefaultMode),n=(0,rne.getRuntimeConfig)(e);return(0,Xre.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ene.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Qre.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Jre.default.version}),maxAttempts:e?.maxAttempts??(0,Yi.loadConfig)(vD.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Yi.loadConfig)(Fu.NODE_REGION_CONFIG_OPTIONS,Fu.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new SD.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Yi.loadConfig)({...vD.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||tne.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Zre.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??SD.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Yi.loadConfig)(Fu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Yi.loadConfig)(Fu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Uu.getRuntimeConfig=ine});var wD=u(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.resolveAwsRegionExtensionConfiguration=Go.getAwsRegionExtensionConfiguration=void 0;var ane=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}};Go.getAwsRegionExtensionConfiguration=ane;var cne=e=>({region:e.region()});Go.resolveAwsRegionExtensionConfiguration=cne});var bD=u(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.NODE_REGION_CONFIG_FILE_OPTIONS=_t.NODE_REGION_CONFIG_OPTIONS=_t.REGION_INI_NAME=_t.REGION_ENV_NAME=void 0;_t.REGION_ENV_NAME="AWS_REGION";_t.REGION_INI_NAME="region";_t.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[_t.REGION_ENV_NAME],configFileSelector:e=>e[_t.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};_t.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var wy=u(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.isFipsRegion=void 0;var dne=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));ju.isFipsRegion=dne});var CD=u(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.getRealRegion=void 0;var lne=wy(),une=e=>(0,lne.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;Lu.getRealRegion=une});var xD=u($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.resolveRegionConfig=void 0;var PD=CD(),pne=wy(),fne=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,PD.getRealRegion)(t);let n=await t();return(0,PD.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,pne.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};$u.resolveRegionConfig=fne});var TD=u(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});var RD=(R(),P(x));RD.__exportStar(bD(),Hu);RD.__exportStar(xD(),Hu)});var Vu=u(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var OD=(R(),P(x));OD.__exportStar(wD(),zu);OD.__exportStar(TD(),zu)});var DD=u(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.resolveRuntimeExtensions=void 0;var AD=Vu(),ID=Z(),ND=M(),by=e=>e,mne=(e,t)=>{let r={...by((0,AD.getAwsRegionExtensionConfiguration)(e)),...by((0,ND.getDefaultExtensionConfiguration)(e)),...by((0,ID.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,AD.resolveAwsRegionExtensionConfiguration)(r),...(0,ND.resolveDefaultRuntimeConfig)(r),...(0,ID.resolveHttpHandlerRuntimeConfig)(r)}};Bu.resolveRuntimeExtensions=mne});var Ki=u(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.SSOClient=Yo.__Client=void 0;var qD=Ra(),_ne=Ta(),gne=Oa(),MD=nc(),hne=Fe(),yne=on(),vne=j(),kD=Ue(),FD=M();Object.defineProperty(Yo,"__Client",{enumerable:!0,get:function(){return FD.Client}});var Sne=J1(),Ene=ED(),wne=DD(),Cy=class extends FD.Client{constructor(...[t]){let r=(0,Ene.getRuntimeConfig)(t||{}),n=(0,Sne.resolveClientEndpointParameters)(r),o=(0,hne.resolveRegionConfig)(n),s=(0,vne.resolveEndpointConfig)(o),i=(0,kD.resolveRetryConfig)(s),a=(0,qD.resolveHostHeaderConfig)(i),c=(0,MD.resolveUserAgentConfig)(a),d=(0,wne.resolveRuntimeExtensions)(c,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,kD.getRetryPlugin)(this.config)),this.middlewareStack.use((0,yne.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,qD.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_ne.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,gne.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,MD.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Yo.SSOClient=Cy});var Wu=u(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.SSOServiceException=Ko.__ServiceException=void 0;var UD=M();Object.defineProperty(Ko,"__ServiceException",{enumerable:!0,get:function(){return UD.ServiceException}});var Py=class e extends UD.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Ko.SSOServiceException=Py});var vn=u(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.LogoutRequestFilterSensitiveLog=se.ListAccountsRequestFilterSensitiveLog=se.ListAccountRolesRequestFilterSensitiveLog=se.GetRoleCredentialsResponseFilterSensitiveLog=se.RoleCredentialsFilterSensitiveLog=se.GetRoleCredentialsRequestFilterSensitiveLog=se.UnauthorizedException=se.TooManyRequestsException=se.ResourceNotFoundException=se.InvalidRequestException=void 0;var Jo=M(),Gu=Wu(),xy=class e extends Gu.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};se.InvalidRequestException=xy;var Ry=class e extends Gu.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};se.ResourceNotFoundException=Ry;var Ty=class e extends Gu.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};se.TooManyRequestsException=Ty;var Oy=class e extends Gu.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};se.UnauthorizedException=Oy;var bne=e=>({...e,...e.accessToken&&{accessToken:Jo.SENSITIVE_STRING}});se.GetRoleCredentialsRequestFilterSensitiveLog=bne;var Cne=e=>({...e,...e.secretAccessKey&&{secretAccessKey:Jo.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:Jo.SENSITIVE_STRING}});se.RoleCredentialsFilterSensitiveLog=Cne;var Pne=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,se.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});se.GetRoleCredentialsResponseFilterSensitiveLog=Pne;var xne=e=>({...e,...e.accessToken&&{accessToken:Jo.SENSITIVE_STRING}});se.ListAccountRolesRequestFilterSensitiveLog=xne;var Rne=e=>({...e,...e.accessToken&&{accessToken:Jo.SENSITIVE_STRING}});se.ListAccountsRequestFilterSensitiveLog=Rne;var Tne=e=>({...e,...e.accessToken&&{accessToken:Jo.SENSITIVE_STRING}});se.LogoutRequestFilterSensitiveLog=Tne});var Ji=u(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.de_LogoutCommand=he.de_ListAccountsCommand=he.de_ListAccountRolesCommand=he.de_GetRoleCredentialsCommand=he.se_LogoutCommand=he.se_ListAccountsCommand=he.se_ListAccountRolesCommand=he.se_GetRoleCredentialsCommand=void 0;var Yu=He(),I=M(),Ku=vn(),One=Wu(),Ane=async(e,t)=>{let r=(0,Yu.requestBuilder)(e,t),n=(0,I.map)({},ep,{[rp]:e[tp]});r.bp("/federation/credentials");let o=(0,I.map)({[Vne]:[,(0,I.expectNonNull)(e[zne],"roleName")],[LD]:[,(0,I.expectNonNull)(e[jD],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()};he.se_GetRoleCredentialsCommand=Ane;var Ine=async(e,t)=>{let r=(0,Yu.requestBuilder)(e,t),n=(0,I.map)({},ep,{[rp]:e[tp]});r.bp("/assignment/roles");let o=(0,I.map)({[VD]:[,e[zD]],[HD]:[()=>e.maxResults!==void 0,()=>e[$D].toString()],[LD]:[,(0,I.expectNonNull)(e[jD],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()};he.se_ListAccountRolesCommand=Ine;var Nne=async(e,t)=>{let r=(0,Yu.requestBuilder)(e,t),n=(0,I.map)({},ep,{[rp]:e[tp]});r.bp("/assignment/accounts");let o=(0,I.map)({[VD]:[,e[zD]],[HD]:[()=>e.maxResults!==void 0,()=>e[$D].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()};he.se_ListAccountsCommand=Nne;var Dne=async(e,t)=>{let r=(0,Yu.requestBuilder)(e,t),n=(0,I.map)({},ep,{[rp]:e[tp]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()};he.se_LogoutCommand=Dne;var qne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Mne(e,t);let r=(0,I.map)({$metadata:Gr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await np(e.body,t)),"body"),o=(0,I.take)(n,{roleCredentials:I._json});return Object.assign(r,o),r};he.de_GetRoleCredentialsCommand=qne;var Mne=async(e,t)=>{let r={...e,body:await op(e.body,t)},n=sp(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Xu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ay(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Qu(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Zu(r,t);default:let o=r.body;return Ju({output:e,parsedBody:o,errorCode:n})}},kne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fne(e,t);let r=(0,I.map)({$metadata:Gr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await np(e.body,t)),"body"),o=(0,I.take)(n,{nextToken:I.expectString,roleList:I._json});return Object.assign(r,o),r};he.de_ListAccountRolesCommand=kne;var Fne=async(e,t)=>{let r={...e,body:await op(e.body,t)},n=sp(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Xu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ay(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Qu(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Zu(r,t);default:let o=r.body;return Ju({output:e,parsedBody:o,errorCode:n})}},Une=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return jne(e,t);let r=(0,I.map)({$metadata:Gr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await np(e.body,t)),"body"),o=(0,I.take)(n,{accountList:I._json,nextToken:I.expectString});return Object.assign(r,o),r};he.de_ListAccountsCommand=Une;var jne=async(e,t)=>{let r={...e,body:await op(e.body,t)},n=sp(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Xu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ay(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Qu(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Zu(r,t);default:let o=r.body;return Ju({output:e,parsedBody:o,errorCode:n})}},Lne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $ne(e,t);let r=(0,I.map)({$metadata:Gr(e)});return await(0,I.collectBody)(e.body,t),r};he.de_LogoutCommand=Lne;var $ne=async(e,t)=>{let r={...e,body:await op(e.body,t)},n=sp(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Xu(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Qu(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Zu(r,t);default:let o=r.body;return Ju({output:e,parsedBody:o,errorCode:n})}},Ju=(0,I.withBaseException)(One.SSOServiceException),Xu=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ku.InvalidRequestException({$metadata:Gr(e),...r});return(0,I.decorateServiceException)(s,e.body)},Ay=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ku.ResourceNotFoundException({$metadata:Gr(e),...r});return(0,I.decorateServiceException)(s,e.body)},Qu=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ku.TooManyRequestsException({$metadata:Gr(e),...r});return(0,I.decorateServiceException)(s,e.body)},Zu=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ku.UnauthorizedException({$metadata:Gr(e),...r});return(0,I.decorateServiceException)(s,e.body)},Gr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Hne=(e,t)=>(0,I.collectBody)(e,t).then(r=>t.utf8Encoder(r)),ep=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),jD="accountId",tp="accessToken",LD="account_id",$D="maxResults",HD="max_result",zD="nextToken",VD="next_token",zne="roleName",Vne="role_name",rp="x-amz-sso_bearer_token",np=(e,t)=>Hne(e,t).then(r=>r.length?JSON.parse(r):{}),op=async(e,t)=>{let r=await np(e,t);return r.message=r.message??r.Message,r},sp=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Ny=u(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.GetRoleCredentialsCommand=Xo.$Command=void 0;var Bne=j(),Wne=Y(),GD=M();Object.defineProperty(Xo,"$Command",{enumerable:!0,get:function(){return GD.Command}});var Gne=U(),BD=vn(),WD=Ji(),Iy=class e extends GD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Wne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Bne.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:BD.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:BD.GetRoleCredentialsResponseFilterSensitiveLog,[Gne.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,WD.se_GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,WD.de_GetRoleCredentialsCommand)(t,r)}};Xo.GetRoleCredentialsCommand=Iy});var ip=u(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ListAccountRolesCommand=Qo.$Command=void 0;var Yne=j(),Kne=Y(),KD=M();Object.defineProperty(Qo,"$Command",{enumerable:!0,get:function(){return KD.Command}});var Jne=U(),Xne=vn(),YD=Ji(),Dy=class e extends KD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Kne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Yne.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:Xne.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[Jne.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccountRoles"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,YD.se_ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,YD.de_ListAccountRolesCommand)(t,r)}};Qo.ListAccountRolesCommand=Dy});var ap=u(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ListAccountsCommand=Zo.$Command=void 0;var Qne=j(),Zne=Y(),XD=M();Object.defineProperty(Zo,"$Command",{enumerable:!0,get:function(){return XD.Command}});var eoe=U(),toe=vn(),JD=Ji(),qy=class e extends XD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Zne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Qne.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:toe.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[eoe.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccounts"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,JD.se_ListAccountsCommand)(t,r)}deserialize(t,r){return(0,JD.de_ListAccountsCommand)(t,r)}};Zo.ListAccountsCommand=qy});var ky=u(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.LogoutCommand=es.$Command=void 0;var roe=j(),noe=Y(),ZD=M();Object.defineProperty(es,"$Command",{enumerable:!0,get:function(){return ZD.Command}});var ooe=U(),soe=vn(),QD=Ji(),My=class e extends ZD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,noe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,roe.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:soe.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[ooe.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"Logout"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,QD.se_LogoutCommand)(t,r)}deserialize(t,r){return(0,QD.de_LogoutCommand)(t,r)}};es.LogoutCommand=My});var eq=u(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.SSO=void 0;var ioe=M(),aoe=Ny(),coe=ip(),doe=ap(),loe=ky(),uoe=Ki(),poe={GetRoleCredentialsCommand:aoe.GetRoleCredentialsCommand,ListAccountRolesCommand:coe.ListAccountRolesCommand,ListAccountsCommand:doe.ListAccountsCommand,LogoutCommand:loe.LogoutCommand},cp=class extends uoe.SSOClient{};dp.SSO=cp;(0,ioe.createAggregatedClient)(poe,cp)});var tq=u(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var lp=(R(),P(x));lp.__exportStar(Ny(),ts);lp.__exportStar(ip(),ts);lp.__exportStar(ap(),ts);lp.__exportStar(ky(),ts)});var nq=u(rq=>{"use strict";Object.defineProperty(rq,"__esModule",{value:!0})});var oq=u(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.paginateListAccountRoles=void 0;var foe=He(),moe=ip(),_oe=Ki();up.paginateListAccountRoles=(0,foe.createPaginator)(_oe.SSOClient,moe.ListAccountRolesCommand,"nextToken","nextToken","maxResults")});var sq=u(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.paginateListAccounts=void 0;var goe=He(),hoe=ap(),yoe=Ki();pp.paginateListAccounts=(0,goe.createPaginator)(yoe.SSOClient,hoe.ListAccountsCommand,"nextToken","nextToken","maxResults")});var iq=u(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var Fy=(R(),P(x));Fy.__exportStar(nq(),Xi);Fy.__exportStar(oq(),Xi);Fy.__exportStar(sq(),Xi)});var aq=u(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});var voe=(R(),P(x));voe.__exportStar(vn(),Uy)});var cq=u(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.SSOServiceException=void 0;var Qi=(R(),P(x));Qi.__exportStar(Ki(),ar);Qi.__exportStar(eq(),ar);Qi.__exportStar(tq(),ar);Qi.__exportStar(iq(),ar);Qi.__exportStar(aq(),ar);tc();var Soe=Wu();Object.defineProperty(ar,"SSOServiceException",{enumerable:!0,get:function(){return Soe.SSOServiceException}})});var _p=u(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.UnsupportedGrantTypeException=X.UnauthorizedClientException=X.SlowDownException=X.SSOOIDCClient=X.InvalidScopeException=X.InvalidRequestException=X.InvalidClientException=X.InternalServerException=X.ExpiredTokenException=X.CreateTokenCommand=X.AuthorizationPendingException=X.AccessDeniedException=void 0;var dq=Ra(),Eoe=Ta(),woe=Oa(),lq=nc(),boe=Fe(),Coe=on(),Poe=j(),uq=Ue(),xoe=M(),Roe=e=>{var t,r;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!==null&&t!==void 0?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!==null&&r!==void 0?r:!1,defaultSigningName:"awsssooidc"}},Toe={version:"3.429.0"},Ooe=Du(),fp=Fe(),Aoe=pn(),pq=Ue(),Zi=Qe(),fq=Pr(),Ioe=fn(),Noe=wr(),Doe=M(),qoe=Kt(),mq=Cr(),_q=qe(),Moe=ve(),Tq="required",Rt="fn",Tt="argv",os="ref",gq="isSet",cr="tree",rs="error",ns="endpoint",Ly="PartitionResult",$y="getAttr",hq={[Tq]:!1,type:"String"},yq={[Tq]:!0,default:!1,type:"Boolean"},vq={[os]:"Endpoint"},Oq={[Rt]:"booleanEquals",[Tt]:[{[os]:"UseFIPS"},!0]},Aq={[Rt]:"booleanEquals",[Tt]:[{[os]:"UseDualStack"},!0]},gt={},Sq={[Rt]:"booleanEquals",[Tt]:[!0,{[Rt]:$y,[Tt]:[{[os]:Ly},"supportsFIPS"]}]},Iq={[os]:Ly},Eq={[Rt]:"booleanEquals",[Tt]:[!0,{[Rt]:$y,[Tt]:[Iq,"supportsDualStack"]}]},wq=[Oq],bq=[Aq],Cq=[{[os]:"Region"}],koe={version:"1.0",parameters:{Region:hq,UseDualStack:yq,UseFIPS:yq,Endpoint:hq},rules:[{conditions:[{[Rt]:gq,[Tt]:[vq]}],type:cr,rules:[{conditions:wq,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:rs},{conditions:bq,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:rs},{endpoint:{url:vq,properties:gt,headers:gt},type:ns}]},{conditions:[{[Rt]:gq,[Tt]:Cq}],type:cr,rules:[{conditions:[{[Rt]:"aws.partition",[Tt]:Cq,assign:Ly}],type:cr,rules:[{conditions:[Oq,Aq],type:cr,rules:[{conditions:[Sq,Eq],type:cr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:ns}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:rs}]},{conditions:wq,type:cr,rules:[{conditions:[Sq],type:cr,rules:[{conditions:[{[Rt]:"stringEquals",[Tt]:["aws-us-gov",{[Rt]:$y,[Tt]:[Iq,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:gt,headers:gt},type:ns},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:ns}]},{error:"FIPS is enabled but this partition does not support FIPS",type:rs}]},{conditions:bq,type:cr,rules:[{conditions:[Eq],type:cr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:ns}]},{error:"DualStack is enabled but this partition does not support DualStack",type:rs}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:ns}]}]},{error:"Invalid Configuration: Missing Region",type:rs}]},Foe=koe,Uoe=(e,t={})=>(0,Moe.resolveEndpoint)(Foe,{endpointParams:e,logger:t.logger}),joe=e=>{var t,r,n,o,s,i,a,c,d,l;return{apiVersion:"2019-06-10",base64Decoder:(t=e?.base64Decoder)!==null&&t!==void 0?t:mq.fromBase64,base64Encoder:(r=e?.base64Encoder)!==null&&r!==void 0?r:mq.toBase64,disableHostPrefix:(n=e?.disableHostPrefix)!==null&&n!==void 0?n:!1,endpointProvider:(o=e?.endpointProvider)!==null&&o!==void 0?o:Uoe,extensions:(s=e?.extensions)!==null&&s!==void 0?s:[],logger:(i=e?.logger)!==null&&i!==void 0?i:new Doe.NoOpLogger,serviceId:(a=e?.serviceId)!==null&&a!==void 0?a:"SSO OIDC",urlParser:(c=e?.urlParser)!==null&&c!==void 0?c:qoe.parseUrl,utf8Decoder:(d=e?.utf8Decoder)!==null&&d!==void 0?d:_q.fromUtf8,utf8Encoder:(l=e?.utf8Encoder)!==null&&l!==void 0?l:_q.toUtf8}},Loe=M(),$oe=mn(),Hoe=M(),zoe=e=>{var t,r,n,o,s,i,a,c,d,l;(0,Hoe.emitWarningIfUnsupportedVersion)(process.version);let p=(0,$oe.resolveDefaultsModeConfig)(e),m=()=>p().then(Loe.loadConfigsForDefaultMode),f=joe(e);return{...f,...e,runtime:"node",defaultsMode:p,bodyLengthChecker:(t=e?.bodyLengthChecker)!==null&&t!==void 0?t:Ioe.calculateBodyLength,defaultUserAgentProvider:(r=e?.defaultUserAgentProvider)!==null&&r!==void 0?r:(0,Ooe.defaultUserAgent)({serviceId:f.serviceId,clientVersion:Toe.version}),maxAttempts:(n=e?.maxAttempts)!==null&&n!==void 0?n:(0,Zi.loadConfig)(pq.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(o=e?.region)!==null&&o!==void 0?o:(0,Zi.loadConfig)(fp.NODE_REGION_CONFIG_OPTIONS,fp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(s=e?.requestHandler)!==null&&s!==void 0?s:new fq.NodeHttpHandler(m),retryMode:(i=e?.retryMode)!==null&&i!==void 0?i:(0,Zi.loadConfig)({...pq.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await m()).retryMode||Noe.DEFAULT_RETRY_MODE}),sha256:(a=e?.sha256)!==null&&a!==void 0?a:Aoe.Hash.bind(null,"sha256"),streamCollector:(c=e?.streamCollector)!==null&&c!==void 0?c:fq.streamCollector,useDualstackEndpoint:(d=e?.useDualstackEndpoint)!==null&&d!==void 0?d:(0,Zi.loadConfig)(fp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(l=e?.useFipsEndpoint)!==null&&l!==void 0?l:(0,Zi.loadConfig)(fp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}},Pq=Vu(),xq=Z(),Rq=M(),jy=e=>e,Voe=(e,t)=>{let r={...jy((0,Pq.getAwsRegionExtensionConfiguration)(e)),...jy((0,Rq.getDefaultExtensionConfiguration)(e)),...jy((0,xq.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Pq.resolveAwsRegionExtensionConfiguration)(r),...(0,Rq.resolveDefaultRuntimeConfig)(r),...(0,xq.resolveHttpHandlerRuntimeConfig)(r)}},Nq=class extends xoe.Client{constructor(...[e]){let t=zoe(e||{}),r=Roe(t),n=(0,boe.resolveRegionConfig)(r),o=(0,Poe.resolveEndpointConfig)(n),s=(0,uq.resolveRetryConfig)(o),i=(0,dq.resolveHostHeaderConfig)(s),a=(0,lq.resolveUserAgentConfig)(i),c=Voe(a,e?.extensions||[]);super(c),this.config=c,this.middlewareStack.use((0,uq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Coe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,dq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Eoe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,woe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,lq.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};X.SSOOIDCClient=Nq;var Boe=M(),Woe=j(),Goe=Y(),Yoe=M(),Koe=U(),Hy=Z(),S=M(),Joe=M(),Be=class Dq extends Joe.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Dq.prototype)}},qq=class Mq extends Be{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Mq.prototype),this.error=t.error,this.error_description=t.error_description}};X.AccessDeniedException=qq;var kq=class Fq extends Be{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Fq.prototype),this.error=t.error,this.error_description=t.error_description}};X.AuthorizationPendingException=kq;var Uq=class jq extends Be{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,jq.prototype),this.error=t.error,this.error_description=t.error_description}};X.ExpiredTokenException=Uq;var Lq=class $q extends Be{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,$q.prototype),this.error=t.error,this.error_description=t.error_description}};X.InternalServerException=Lq;var Hq=class zq extends Be{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,zq.prototype),this.error=t.error,this.error_description=t.error_description}};X.InvalidClientException=Hq;var Xoe=class Vq extends Be{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Vq.prototype),this.error=t.error,this.error_description=t.error_description}},Bq=class Wq extends Be{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Wq.prototype),this.error=t.error,this.error_description=t.error_description}};X.InvalidRequestException=Bq;var Gq=class Yq extends Be{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Yq.prototype),this.error=t.error,this.error_description=t.error_description}};X.InvalidScopeException=Gq;var Kq=class Jq extends Be{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Jq.prototype),this.error=t.error,this.error_description=t.error_description}};X.SlowDownException=Kq;var Xq=class Qq extends Be{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Qq.prototype),this.error=t.error,this.error_description=t.error_description}};X.UnauthorizedClientException=Xq;var Zq=class eM extends Be{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,eM.prototype),this.error=t.error,this.error_description=t.error_description}};X.UnsupportedGrantTypeException=Zq;var Qoe=class tM extends Be{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,tM.prototype),this.error=t.error,this.error_description=t.error_description}},Zoe=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify((0,S.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:d=>(0,S._json)(d)})),new Hy.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},ese=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/client/register`,c;return c=JSON.stringify((0,S.take)(e,{clientName:[],clientType:[],scopes:d=>(0,S._json)(d)})),new Hy.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},tse=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/device_authorization`,c;return c=JSON.stringify((0,S.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),new Hy.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},rse=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return nse(e,t);let r=(0,S.map)({$metadata:De(e)}),n=(0,S.expectNonNull)((0,S.expectObject)(await mp(e.body,t)),"body"),o=(0,S.take)(n,{accessToken:S.expectString,expiresIn:S.expectInt32,idToken:S.expectString,refreshToken:S.expectString,tokenType:S.expectString});return Object.assign(r,o),r},nse=async(e,t)=>{let r={...e,body:await Wy(e.body,t)},n=Gy(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await cse(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await dse(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await lse(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Vy(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await rM(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await pse(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await By(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await nM(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await oM(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await sM(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await fse(r,t);default:let o=r.body;return zy({output:e,parsedBody:o,errorCode:n})}},ose=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return sse(e,t);let r=(0,S.map)({$metadata:De(e)}),n=(0,S.expectNonNull)((0,S.expectObject)(await mp(e.body,t)),"body"),o=(0,S.take)(n,{authorizationEndpoint:S.expectString,clientId:S.expectString,clientIdIssuedAt:S.expectLong,clientSecret:S.expectString,clientSecretExpiresAt:S.expectLong,tokenEndpoint:S.expectString});return Object.assign(r,o),r},sse=async(e,t)=>{let r={...e,body:await Wy(e.body,t)},n=Gy(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Vy(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await use(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await By(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await nM(r,t);default:let o=r.body;return zy({output:e,parsedBody:o,errorCode:n})}},ise=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ase(e,t);let r=(0,S.map)({$metadata:De(e)}),n=(0,S.expectNonNull)((0,S.expectObject)(await mp(e.body,t)),"body"),o=(0,S.take)(n,{deviceCode:S.expectString,expiresIn:S.expectInt32,interval:S.expectInt32,userCode:S.expectString,verificationUri:S.expectString,verificationUriComplete:S.expectString});return Object.assign(r,o),r},ase=async(e,t)=>{let r={...e,body:await Wy(e.body,t)},n=Gy(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Vy(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await rM(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await By(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await oM(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await sM(r,t);default:let o=r.body;return zy({output:e,parsedBody:o,errorCode:n})}},zy=(0,S.withBaseException)(Be),cse=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new qq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},dse=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new kq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},lse=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Uq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},Vy=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Lq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},rM=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Hq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},use=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Qoe({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},pse=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Xoe({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},By=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Bq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},nM=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Gq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},oM=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Kq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},sM=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Xq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},fse=async(e,t)=>{let r=(0,S.map)({}),n=e.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let s=new Zq({$metadata:De(e),...r});return(0,S.decorateServiceException)(s,e.body)},De=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"])!==null&&r!==void 0?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},mse=(e,t)=>(0,S.collectBody)(e,t).then(r=>t.utf8Encoder(r)),mp=(e,t)=>mse(e,t).then(r=>r.length?JSON.parse(r):{}),Wy=async(e,t)=>{var r;let n=await mp(e,t);return n.message=(r=n.message)!==null&&r!==void 0?r:n.Message,n},Gy=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},iM=class aM extends Yoe.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Goe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Woe.getEndpointPlugin)(r,aM.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Koe.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Zoe(t,r)}deserialize(t,r){return rse(t,r)}};X.CreateTokenCommand=iM;var _se=j(),gse=Y(),hse=M(),yse=U(),vse=class cM extends hse.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,gse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_se.getEndpointPlugin)(r,cM.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[yse.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return ese(t,r)}deserialize(t,r){return ose(t,r)}},Sse=j(),Ese=Y(),wse=M(),bse=U(),Cse=class dM extends wse.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Ese.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Sse.getEndpointPlugin)(r,dM.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[bse.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return tse(t,r)}deserialize(t,r){return ise(t,r)}},Pse={CreateTokenCommand:iM,RegisterClientCommand:vse,StartDeviceAuthorizationCommand:Cse},xse=class extends Nq{};(0,Boe.createAggregatedClient)(Pse,xse)});var gp=u(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.REFRESH_MESSAGE=ss.EXPIRE_WINDOW_MS=void 0;ss.EXPIRE_WINDOW_MS=5*60*1e3;ss.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var lM=u(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.getSsoOidcClient=void 0;var Rse=_p(),Yy={},Tse=e=>{if(Yy[e])return Yy[e];let t=new Rse.SSOOIDCClient({region:e});return Yy[e]=t,t};hp.getSsoOidcClient=Tse});var uM=u(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.getNewSsoOidcToken=void 0;var Ose=_p(),Ase=lM(),Ise=(e,t)=>(0,Ase.getSsoOidcClient)(t).send(new Ose.CreateTokenCommand({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));yp.getNewSsoOidcToken=Ise});var pM=u(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.validateTokenExpiry=void 0;var Nse=k(),Dse=gp(),qse=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Nse.TokenProviderError(`Token is expired. ${Dse.REFRESH_MESSAGE}`,!1)};vp.validateTokenExpiry=qse});var fM=u(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.validateTokenKey=void 0;var Mse=k(),kse=gp(),Fse=(e,t,r=!1)=>{if(typeof t>"u")throw new Mse.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${kse.REFRESH_MESSAGE}`,!1)};Sp.validateTokenKey=Fse});var mM=u(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.writeSSOTokenToFile=void 0;var Use=me(),jse=L("fs"),{writeFile:Lse}=jse.promises,$se=(e,t)=>{let r=(0,Use.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return Lse(r,n)};Ep.writeSSOTokenToFile=$se});var Ky=u(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.fromSso=void 0;var ea=k(),wp=me(),_M=gp(),Hse=uM(),gM=pM(),Sn=fM(),zse=mM(),hM=new Date(0),Vse=(e={})=>async()=>{let t=await(0,wp.parseKnownFiles)(e),r=(0,wp.getProfileName)(e),n=t[r];if(n){if(!n.sso_session)throw new ea.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new ea.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await(0,wp.loadSsoSessionData)(e))[o];if(!i)throw new ea.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let f of["sso_start_url","sso_region"])if(!i[f])throw new ea.TokenProviderError(`Sso session '${o}' is missing required property '${f}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await(0,wp.getSSOTokenFromFile)(o)}catch{throw new ea.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${_M.REFRESH_MESSAGE}`,!1)}(0,Sn.validateTokenKey)("accessToken",d.accessToken),(0,Sn.validateTokenKey)("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:p}=d,m={token:l,expiration:new Date(p)};if(m.expiration.getTime()-Date.now()>_M.EXPIRE_WINDOW_MS)return m;if(Date.now()-hM.getTime()<30*1e3)return(0,gM.validateTokenExpiry)(m),m;(0,Sn.validateTokenKey)("clientId",d.clientId,!0),(0,Sn.validateTokenKey)("clientSecret",d.clientSecret,!0),(0,Sn.validateTokenKey)("refreshToken",d.refreshToken,!0);try{hM.setTime(Date.now());let f=await(0,Hse.getNewSsoOidcToken)(d,c);(0,Sn.validateTokenKey)("accessToken",f.accessToken),(0,Sn.validateTokenKey)("expiresIn",f.expiresIn);let _=new Date(Date.now()+f.expiresIn*1e3);try{await(0,zse.writeSSOTokenToFile)(o,{...d,accessToken:f.accessToken,expiresAt:_.toISOString(),refreshToken:f.refreshToken})}catch{}return{token:f.accessToken,expiration:_}}catch{return(0,gM.validateTokenExpiry)(m),m}};bp.fromSso=Vse});var yM=u(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.fromStatic=void 0;var Bse=k(),Wse=({token:e})=>async()=>{if(!e||!e.token)throw new Bse.TokenProviderError("Please pass a valid token to fromStatic",!1);return e};Cp.fromStatic=Wse});var vM=u(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.nodeProvider=void 0;var Jy=k(),Gse=Ky(),Yse=(e={})=>(0,Jy.memoize)((0,Jy.chain)((0,Gse.fromSso)(e),async()=>{throw new Jy.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Pp.nodeProvider=Yse});var SM=u(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var xp=(R(),P(x));xp.__exportStar(_p(),is);xp.__exportStar(Ky(),is);xp.__exportStar(yM(),is);xp.__exportStar(vM(),is)});var wM=u(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.resolveSSOCredentials=void 0;var EM=cq(),Kse=SM(),ta=k(),Jse=me(),ra=!1,Xse=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let g=await(0,Kse.fromSso)({profile:i})();a={accessToken:g.token,expiresAt:new Date(g.expiration).toISOString()}}catch(g){throw new ta.CredentialsProviderError(g.message,ra)}else try{a=await(0,Jse.getSSOTokenFromFile)(e)}catch{throw new ta.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${c}`,ra)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new ta.CredentialsProviderError(`The SSO session associated with this profile has expired. ${c}`,ra);let{accessToken:d}=a,l=s||new EM.SSOClient({region:n}),p;try{p=await l.send(new EM.GetRoleCredentialsCommand({accountId:r,roleName:o,accessToken:d}))}catch(g){throw ta.CredentialsProviderError.from(g,ra)}let{roleCredentials:{accessKeyId:m,secretAccessKey:f,sessionToken:_,expiration:y}={}}=p;if(!m||!f||!_||!y)throw new ta.CredentialsProviderError("SSO returns an invalid temporary credential.",ra);return{accessKeyId:m,secretAccessKey:f,sessionToken:_,expiration:new Date(y)}};Rp.resolveSSOCredentials=Xse});var Xy=u(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.validateSsoProfile=void 0;var Qse=k(),Zse=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new Qse.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};Tp.validateSsoProfile=Zse});var CM=u(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.fromSSO=void 0;var na=k(),Qy=me(),eie=hy(),bM=wM(),tie=Xy(),rie=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=(0,Qy.getProfileName)(e);if(!t&&!r&&!n&&!o&&!i){let d=(await(0,Qy.parseKnownFiles)(e))[a];if(!d)throw new na.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,eie.isSsoProfile)(d))throw new na.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(d?.sso_session){let g=(await(0,Qy.loadSsoSessionData)(e))[d.sso_session],T=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==g.sso_region)throw new na.CredentialsProviderError("Conflicting SSO region"+T,!1);if(t&&t!==g.sso_start_url)throw new na.CredentialsProviderError("Conflicting SSO start_url"+T,!1);d.sso_region=g.sso_region,d.sso_start_url=g.sso_start_url}let{sso_start_url:l,sso_account_id:p,sso_region:m,sso_role_name:f,sso_session:_}=(0,tie.validateSsoProfile)(d);return(0,bM.resolveSSOCredentials)({ssoStartUrl:l,ssoSession:_,ssoAccountId:p,ssoRegion:m,ssoRoleName:f,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new na.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,bM.resolveSSOCredentials)({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};Op.fromSSO=rie});var xM=u(PM=>{"use strict";Object.defineProperty(PM,"__esModule",{value:!0})});var Ip=u(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var Ap=(R(),P(x));Ap.__exportStar(CM(),as);Ap.__exportStar(hy(),as);Ap.__exportStar(xM(),as);Ap.__exportStar(Xy(),as)});var TM=u(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.resolveSsoCredentials=cs.isSsoProfile=void 0;var RM=Ip(),nie=Ip();Object.defineProperty(cs,"isSsoProfile",{enumerable:!0,get:function(){return nie.isSsoProfile}});var oie=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=(0,RM.validateSsoProfile)(e);return(0,RM.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};cs.resolveSsoCredentials=oie});var OM=u(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.resolveStaticCredentials=ds.isStaticCredsProfile=void 0;var sie=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;ds.isStaticCredsProfile=sie;var iie=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});ds.resolveStaticCredentials=iie});var Zy=u(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.fromWebToken=void 0;var aie=k(),cie=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new aie.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};Np.fromWebToken=cie});var AM=u(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.fromTokenFile=void 0;var die=k(),lie=L("fs"),uie=Zy(),pie="AWS_WEB_IDENTITY_TOKEN_FILE",fie="AWS_ROLE_ARN",mie="AWS_ROLE_SESSION_NAME",_ie=(e={})=>async()=>{var t,r,n;let o=(t=e?.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[pie],s=(r=e?.roleArn)!==null&&r!==void 0?r:process.env[fie],i=(n=e?.roleSessionName)!==null&&n!==void 0?n:process.env[mie];if(!o||!s)throw new die.CredentialsProviderError("Web identity configuration not specified");return(0,uie.fromWebToken)({...e,webIdentityToken:(0,lie.readFileSync)(o,{encoding:"ascii"}),roleArn:s,roleSessionName:i})()};Dp.fromTokenFile=_ie});var ev=u(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});var IM=(R(),P(x));IM.__exportStar(AM(),qp);IM.__exportStar(Zy(),qp)});var NM=u(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.resolveWebIdentityCredentials=ls.isWebIdentityProfile=void 0;var gie=ev(),hie=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;ls.isWebIdentityProfile=hie;var yie=async(e,t)=>(0,gie.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();ls.resolveWebIdentityCredentials=yie});var fy=u(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.resolveProfileData=void 0;var vie=k(),DM=V1(),qM=K1(),MM=TM(),Mp=OM(),kM=NM(),Sie=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&(0,Mp.isStaticCredsProfile)(o))return(0,Mp.resolveStaticCredentials)(o);if((0,DM.isAssumeRoleProfile)(o))return(0,DM.resolveAssumeRoleCredentials)(e,t,r,n);if((0,Mp.isStaticCredsProfile)(o))return(0,Mp.resolveStaticCredentials)(o);if((0,kM.isWebIdentityProfile)(o))return(0,kM.resolveWebIdentityCredentials)(o,r);if((0,qM.isProcessProfile)(o))return(0,qM.resolveProcessCredentials)(r,e);if((0,MM.isSsoProfile)(o))return(0,MM.resolveSsoCredentials)(o);throw new vie.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};kp.resolveProfileData=Sie});var UM=u(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.fromIni=void 0;var FM=me(),Eie=fy(),wie=(e={})=>async()=>{let t=await(0,FM.parseKnownFiles)(e);return(0,Eie.resolveProfileData)((0,FM.getProfileName)(e),t,e)};Fp.fromIni=wie});var jM=u(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});var bie=(R(),P(x));bie.__exportStar(UM(),tv)});var LM=u(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.remoteProvider=En.ENV_IMDS_DISABLED=void 0;var Up=co(),Cie=k();En.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var Pie=e=>process.env[Up.ENV_CMDS_RELATIVE_URI]||process.env[Up.ENV_CMDS_FULL_URI]?(0,Up.fromContainerMetadata)(e):process.env[En.ENV_IMDS_DISABLED]?async()=>{throw new Cie.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,Up.fromInstanceMetadata)(e);En.remoteProvider=Pie});var $M=u(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.defaultProvider=void 0;var xie=uy(),Rie=jM(),Tie=gy(),Oie=Ip(),Aie=ev(),rv=k(),Iie=me(),Nie=LM(),Die=(e={})=>(0,rv.memoize)((0,rv.chain)(...e.profile||process.env[Iie.ENV_PROFILE]?[]:[(0,xie.fromEnv)()],(0,Oie.fromSSO)(e),(0,Rie.fromIni)(e),(0,Tie.fromProcess)(e),(0,Aie.fromTokenFile)(e),(0,Nie.remoteProvider)(e),async()=>{throw new rv.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);jp.defaultProvider=Die});var HM=u(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});var qie=(R(),P(x));qie.__exportStar($M(),nv)});var rk=u(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ruleSet=void 0;var ZM="required",Bt="fn",Wt="argv",ps="ref",zM=!0,VM="isSet",sa="booleanEquals",us="error",oa="endpoint",dr="tree",ov="PartitionResult",BM={[ZM]:!1,type:"String"},WM={[ZM]:!0,default:!1,type:"Boolean"},GM={[ps]:"Endpoint"},ek={[Bt]:sa,[Wt]:[{[ps]:"UseFIPS"},!0]},tk={[Bt]:sa,[Wt]:[{[ps]:"UseDualStack"},!0]},Vt={},YM={[Bt]:"getAttr",[Wt]:[{[ps]:ov},"supportsFIPS"]},KM={[Bt]:sa,[Wt]:[!0,{[Bt]:"getAttr",[Wt]:[{[ps]:ov},"supportsDualStack"]}]},JM=[ek],XM=[tk],QM=[{[ps]:"Region"}],Mie={version:"1.0",parameters:{Region:BM,UseDualStack:WM,UseFIPS:WM,Endpoint:BM},rules:[{conditions:[{[Bt]:VM,[Wt]:[GM]}],rules:[{conditions:JM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:us},{conditions:XM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:us},{endpoint:{url:GM,properties:Vt,headers:Vt},type:oa}],type:dr},{conditions:[{[Bt]:VM,[Wt]:QM}],rules:[{conditions:[{[Bt]:"aws.partition",[Wt]:QM,assign:ov}],rules:[{conditions:[ek,tk],rules:[{conditions:[{[Bt]:sa,[Wt]:[zM,YM]},KM],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Vt,headers:Vt},type:oa}],type:dr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:us}],type:dr},{conditions:JM,rules:[{conditions:[{[Bt]:sa,[Wt]:[YM,zM]}],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Vt,headers:Vt},type:oa}],type:dr},{error:"FIPS is enabled but this partition does not support FIPS",type:us}],type:dr},{conditions:XM,rules:[{conditions:[KM],rules:[{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Vt,headers:Vt},type:oa}],type:dr},{error:"DualStack is enabled but this partition does not support DualStack",type:us}],type:dr},{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dnsSuffix}",properties:Vt,headers:Vt},type:oa}],type:dr}],type:dr},{error:"Invalid Configuration: Missing Region",type:us}]};Lp.ruleSet=Mie});var nk=u($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.defaultEndpointResolver=void 0;var kie=ve(),Fie=rk(),Uie=(e,t={})=>(0,kie.resolveEndpoint)(Fie.ruleSet,{endpointParams:e,logger:t.logger});$p.defaultEndpointResolver=Uie});var ik=u(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.getRuntimeConfig=void 0;var jie=M(),Lie=Kt(),ok=Cr(),sk=qe(),$ie=nk(),Hie=e=>({apiVersion:"2018-08-01",base64Decoder:e?.base64Decoder??ok.fromBase64,base64Encoder:e?.base64Encoder??ok.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$ie.defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new jie.NoOpLogger,serviceId:e?.serviceId??"RDS Data",urlParser:e?.urlParser??Lie.parseUrl,utf8Decoder:e?.utf8Decoder??sk.fromUtf8,utf8Encoder:e?.utf8Encoder??sk.toUtf8});Hp.getRuntimeConfig=Hie});var dk=u(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.getRuntimeConfig=void 0;var zie=(R(),P(x)),Vie=zie.__importDefault(FP()),Bie=w1(),Wie=Cu(),Gie=HM(),Yie=Du(),zp=Fe(),Kie=pn(),ak=Ue(),ia=Qe(),ck=Pr(),Jie=fn(),Xie=wr(),Qie=ik(),Zie=M(),eae=mn(),tae=M(),rae=e=>{(0,tae.emitWarningIfUnsupportedVersion)(process.version);let t=(0,eae.resolveDefaultsModeConfig)(e),r=()=>t().then(Zie.loadConfigsForDefaultMode),n=(0,Qie.getRuntimeConfig)(e);return(0,Wie.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Jie.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,Bie.decorateDefaultCredentialProvider)(Gie.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Yie.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Vie.default.version}),maxAttempts:e?.maxAttempts??(0,ia.loadConfig)(ak.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ia.loadConfig)(zp.NODE_REGION_CONFIG_OPTIONS,zp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new ck.NodeHttpHandler(r),retryMode:e?.retryMode??(0,ia.loadConfig)({...ak.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Xie.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Kie.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ck.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ia.loadConfig)(zp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ia.loadConfig)(zp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Vp.getRuntimeConfig=rae});var fk=u(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.resolveRuntimeExtensions=void 0;var lk=Vu(),uk=Z(),pk=M(),sv=e=>e,nae=(e,t)=>{let r={...sv((0,lk.getAwsRegionExtensionConfiguration)(e)),...sv((0,pk.getDefaultExtensionConfiguration)(e)),...sv((0,uk.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,lk.resolveAwsRegionExtensionConfiguration)(r),...(0,pk.resolveDefaultRuntimeConfig)(r),...(0,uk.resolveHttpHandlerRuntimeConfig)(r)}};Bp.resolveRuntimeExtensions=nae});var av=u(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.RDSDataClient=fs.__Client=void 0;var mk=Ra(),oae=Ta(),sae=Oa(),_k=fw(),gk=nc(),iae=Fe(),aae=on(),cae=j(),hk=Ue(),yk=M();Object.defineProperty(fs,"__Client",{enumerable:!0,get:function(){return yk.Client}});var dae=kP(),lae=dk(),uae=fk(),iv=class extends yk.Client{constructor(...[t]){let r=(0,lae.getRuntimeConfig)(t||{}),n=(0,dae.resolveClientEndpointParameters)(r),o=(0,iae.resolveRegionConfig)(n),s=(0,cae.resolveEndpointConfig)(o),i=(0,hk.resolveRetryConfig)(s),a=(0,mk.resolveHostHeaderConfig)(i),c=(0,_k.resolveAwsAuthConfig)(a),d=(0,gk.resolveUserAgentConfig)(c),l=(0,uae.resolveRuntimeExtensions)(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,hk.getRetryPlugin)(this.config)),this.middlewareStack.use((0,aae.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mk.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,oae.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,sae.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,_k.getAwsAuthPlugin)(this.config)),this.middlewareStack.use((0,gk.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};fs.RDSDataClient=iv});var Wp=u(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.RDSDataServiceException=ms.__ServiceException=void 0;var vk=M();Object.defineProperty(ms,"__ServiceException",{enumerable:!0,get:function(){return vk.ServiceException}});var cv=class e extends vk.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};ms.RDSDataServiceException=cv});var gv=u(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.Value=z.Field=z.ArrayValue=z.LongReturnType=z.RecordsFormatType=z.DecimalReturnType=z.NotFoundException=z.StatementTimeoutException=z.ServiceUnavailableError=z.InternalServerErrorException=z.ForbiddenException=z.TypeHint=z.BadRequestException=z.AccessDeniedException=void 0;var wn=Wp(),dv=class e extends wn.RDSDataServiceException{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};z.AccessDeniedException=dv;var lv=class e extends wn.RDSDataServiceException{constructor(t){super({name:"BadRequestException",$fault:"client",...t}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};z.BadRequestException=lv;z.TypeHint={DATE:"DATE",DECIMAL:"DECIMAL",JSON:"JSON",TIME:"TIME",TIMESTAMP:"TIMESTAMP",UUID:"UUID"};var uv=class e extends wn.RDSDataServiceException{constructor(t){super({name:"ForbiddenException",$fault:"client",...t}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};z.ForbiddenException=uv;var pv=class e extends wn.RDSDataServiceException{constructor(t){super({name:"InternalServerErrorException",$fault:"server",...t}),this.name="InternalServerErrorException",this.$fault="server",Object.setPrototypeOf(this,e.prototype)}};z.InternalServerErrorException=pv;var fv=class e extends wn.RDSDataServiceException{constructor(t){super({name:"ServiceUnavailableError",$fault:"server",...t}),this.name="ServiceUnavailableError",this.$fault="server",Object.setPrototypeOf(this,e.prototype)}};z.ServiceUnavailableError=fv;var mv=class e extends wn.RDSDataServiceException{constructor(t){super({name:"StatementTimeoutException",$fault:"client",...t}),this.name="StatementTimeoutException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.dbConnectionId=t.dbConnectionId}};z.StatementTimeoutException=mv;var _v=class e extends wn.RDSDataServiceException{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};z.NotFoundException=_v;z.DecimalReturnType={DOUBLE_OR_LONG:"DOUBLE_OR_LONG",STRING:"STRING"};z.RecordsFormatType={JSON:"JSON",NONE:"NONE"};z.LongReturnType={LONG:"LONG",STRING:"STRING"};var pae;(function(e){e.visit=(t,r)=>t.booleanValues!==void 0?r.booleanValues(t.booleanValues):t.longValues!==void 0?r.longValues(t.longValues):t.doubleValues!==void 0?r.doubleValues(t.doubleValues):t.stringValues!==void 0?r.stringValues(t.stringValues):t.arrayValues!==void 0?r.arrayValues(t.arrayValues):r._(t.$unknown[0],t.$unknown[1])})(pae=z.ArrayValue||(z.ArrayValue={}));var fae;(function(e){e.visit=(t,r)=>t.isNull!==void 0?r.isNull(t.isNull):t.booleanValue!==void 0?r.booleanValue(t.booleanValue):t.longValue!==void 0?r.longValue(t.longValue):t.doubleValue!==void 0?r.doubleValue(t.doubleValue):t.stringValue!==void 0?r.stringValue(t.stringValue):t.blobValue!==void 0?r.blobValue(t.blobValue):t.arrayValue!==void 0?r.arrayValue(t.arrayValue):r._(t.$unknown[0],t.$unknown[1])})(fae=z.Field||(z.Field={}));var mae;(function(e){e.visit=(t,r)=>t.isNull!==void 0?r.isNull(t.isNull):t.bitValue!==void 0?r.bitValue(t.bitValue):t.bigIntValue!==void 0?r.bigIntValue(t.bigIntValue):t.intValue!==void 0?r.intValue(t.intValue):t.doubleValue!==void 0?r.doubleValue(t.doubleValue):t.realValue!==void 0?r.realValue(t.realValue):t.stringValue!==void 0?r.stringValue(t.stringValue):t.blobValue!==void 0?r.blobValue(t.blobValue):t.arrayValues!==void 0?r.arrayValues(t.arrayValues):t.structValue!==void 0?r.structValue(t.structValue):r._(t.$unknown[0],t.$unknown[1])})(mae=z.Value||(z.Value={}))});var Cn=u(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.de_RollbackTransactionCommand=Q.de_ExecuteStatementCommand=Q.de_ExecuteSqlCommand=Q.de_CommitTransactionCommand=Q.de_BeginTransactionCommand=Q.de_BatchExecuteStatementCommand=Q.se_RollbackTransactionCommand=Q.se_ExecuteStatementCommand=Q.se_ExecuteSqlCommand=Q.se_CommitTransactionCommand=Q.se_BeginTransactionCommand=Q.se_BatchExecuteStatementCommand=void 0;var aa=Cu(),_s=He(),h=M(),lr=gv(),_ae=Wp(),gae=async(e,t)=>{let r=(0,_s.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/BatchExecute");let o;return o=JSON.stringify((0,h.take)(e,{database:[],parameterSets:s=>Uae(s,t),resourceArn:[],schema:[],secretArn:[],sql:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};Q.se_BatchExecuteStatementCommand=gae;var hae=async(e,t)=>{let r=(0,_s.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/BeginTransaction");let o;return o=JSON.stringify((0,h.take)(e,{database:[],resourceArn:[],schema:[],secretArn:[]})),r.m("POST").h(n).b(o),r.build()};Q.se_BeginTransactionCommand=hae;var yae=async(e,t)=>{let r=(0,_s.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/CommitTransaction");let o;return o=JSON.stringify((0,h.take)(e,{resourceArn:[],secretArn:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};Q.se_CommitTransactionCommand=yae;var vae=async(e,t)=>{let r=(0,_s.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/ExecuteSql");let o;return o=JSON.stringify((0,h.take)(e,{awsSecretStoreArn:[],database:[],dbClusterOrInstanceArn:[],schema:[],sqlStatements:[]})),r.m("POST").h(n).b(o),r.build()};Q.se_ExecuteSqlCommand=vae;var Sae=async(e,t)=>{let r=(0,_s.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/Execute");let o;return o=JSON.stringify((0,h.take)(e,{continueAfterTimeout:[],database:[],formatRecordsAs:[],includeResultMetadata:[],parameters:s=>wk(s,t),resourceArn:[],resultSetOptions:s=>(0,h._json)(s),schema:[],secretArn:[],sql:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};Q.se_ExecuteStatementCommand=Sae;var Eae=async(e,t)=>{let r=(0,_s.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/RollbackTransaction");let o;return o=JSON.stringify((0,h.take)(e,{resourceArn:[],secretArn:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};Q.se_RollbackTransactionCommand=Eae;var wae=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bae(e,t);let r=(0,h.map)({$metadata:We(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await bn(e.body,t)),"body"),o=(0,h.take)(n,{updateResults:s=>Xae(s,t)});return Object.assign(r,o),r};Q.de_BatchExecuteStatementCommand=wae;var bae=async(e,t)=>{let r={...e,body:await ws(e.body,t)},n=bs(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await hs(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ys(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await vs(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Ss(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Es(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ca(r,t);default:let o=r.body;return gs({output:e,parsedBody:o,errorCode:n})}},Cae=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Pae(e,t);let r=(0,h.map)({$metadata:We(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await bn(e.body,t)),"body"),o=(0,h.take)(n,{transactionId:h.expectString});return Object.assign(r,o),r};Q.de_BeginTransactionCommand=Cae;var Pae=async(e,t)=>{let r={...e,body:await ws(e.body,t)},n=bs(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await hs(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ys(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await vs(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Ss(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Es(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ca(r,t);default:let o=r.body;return gs({output:e,parsedBody:o,errorCode:n})}},xae=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rae(e,t);let r=(0,h.map)({$metadata:We(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await bn(e.body,t)),"body"),o=(0,h.take)(n,{transactionStatus:h.expectString});return Object.assign(r,o),r};Q.de_CommitTransactionCommand=xae;var Rae=async(e,t)=>{let r={...e,body:await ws(e.body,t)},n=bs(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await hs(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ys(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await vs(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Ss(r,t);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await Sk(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Es(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ca(r,t);default:let o=r.body;return gs({output:e,parsedBody:o,errorCode:n})}},Tae=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Oae(e,t);let r=(0,h.map)({$metadata:We(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await bn(e.body,t)),"body"),o=(0,h.take)(n,{sqlStatementResults:s=>Yae(s,t)});return Object.assign(r,o),r};Q.de_ExecuteSqlCommand=Tae;var Oae=async(e,t)=>{let r={...e,body:await ws(e.body,t)},n=bs(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await hs(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ys(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await vs(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Ss(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Es(r,t);default:let o=r.body;return gs({output:e,parsedBody:o,errorCode:n})}},Aae=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Iae(e,t);let r=(0,h.map)({$metadata:We(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await bn(e.body,t)),"body"),o=(0,h.take)(n,{columnMetadata:h._json,formattedRecords:h.expectString,generatedFields:s=>hv(s,t),numberOfRecordsUpdated:h.expectLong,records:s=>Wae(s,t)});return Object.assign(r,o),r};Q.de_ExecuteStatementCommand=Aae;var Iae=async(e,t)=>{let r={...e,body:await ws(e.body,t)},n=bs(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await hs(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ys(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await vs(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Ss(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Es(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ca(r,t);default:let o=r.body;return gs({output:e,parsedBody:o,errorCode:n})}},Nae=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Dae(e,t);let r=(0,h.map)({$metadata:We(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await bn(e.body,t)),"body"),o=(0,h.take)(n,{transactionStatus:h.expectString});return Object.assign(r,o),r};Q.de_RollbackTransactionCommand=Nae;var Dae=async(e,t)=>{let r={...e,body:await ws(e.body,t)},n=bs(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await hs(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ys(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await vs(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Ss(r,t);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await Sk(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Es(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ca(r,t);default:let o=r.body;return gs({output:e,parsedBody:o,errorCode:n})}},gs=(0,h.withBaseException)(_ae.RDSDataServiceException),hs=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{message:h.expectString});Object.assign(r,o);let s=new lr.AccessDeniedException({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},ys=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{message:h.expectString});Object.assign(r,o);let s=new lr.BadRequestException({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},vs=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{message:h.expectString});Object.assign(r,o);let s=new lr.ForbiddenException({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},Ss=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{});Object.assign(r,o);let s=new lr.InternalServerErrorException({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},Sk=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{message:h.expectString});Object.assign(r,o);let s=new lr.NotFoundException({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},Es=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{});Object.assign(r,o);let s=new lr.ServiceUnavailableError({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},ca=async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{dbConnectionId:h.expectLong,message:h.expectString});Object.assign(r,o);let s=new lr.StatementTimeoutException({$metadata:We(e),...r});return(0,h.decorateServiceException)(s,e.body)},qae=(e,t)=>e.filter(r=>r!=null).map(r=>Ek(r,t)),Ek=(e,t)=>lr.ArrayValue.visit(e,{arrayValues:r=>({arrayValues:qae(r,t)}),booleanValues:r=>({booleanValues:(0,h._json)(r)}),doubleValues:r=>({doubleValues:Mae(r,t)}),longValues:r=>({longValues:(0,h._json)(r)}),stringValues:r=>({stringValues:(0,h._json)(r)}),_:(r,n)=>({name:n})}),Mae=(e,t)=>e.filter(r=>r!=null).map(r=>(0,h.serializeFloat)(r)),kae=(e,t)=>lr.Field.visit(e,{arrayValue:r=>({arrayValue:Ek(r,t)}),blobValue:r=>({blobValue:t.base64Encoder(r)}),booleanValue:r=>({booleanValue:r}),doubleValue:r=>({doubleValue:(0,h.serializeFloat)(r)}),isNull:r=>({isNull:r}),longValue:r=>({longValue:r}),stringValue:r=>({stringValue:r}),_:(r,n)=>({name:n})}),Fae=(e,t)=>(0,h.take)(e,{name:[],typeHint:[],value:r=>kae(r,t)}),Uae=(e,t)=>e.filter(r=>r!=null).map(r=>wk(r,t)),wk=(e,t)=>e.filter(r=>r!=null).map(r=>Fae(r,t)),jae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>bk((0,aa.awsExpectUnion)(n),t)),bk=(e,t)=>e.arrayValues!=null?{arrayValues:jae(e.arrayValues,t)}:e.booleanValues!=null?{booleanValues:(0,h._json)(e.booleanValues)}:e.doubleValues!=null?{doubleValues:Lae(e.doubleValues,t)}:e.longValues!=null?{longValues:(0,h._json)(e.longValues)}:e.stringValues!=null?{stringValues:(0,h._json)(e.stringValues)}:{$unknown:Object.entries(e)[0]},Ck=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Pk((0,aa.awsExpectUnion)(n),t)),Lae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,h.limitedParseDouble)(n)),$ae=(e,t)=>e.arrayValue!=null?{arrayValue:bk((0,aa.awsExpectUnion)(e.arrayValue),t)}:e.blobValue!=null?{blobValue:t.base64Decoder(e.blobValue)}:(0,h.expectBoolean)(e.booleanValue)!==void 0?{booleanValue:(0,h.expectBoolean)(e.booleanValue)}:(0,h.limitedParseDouble)(e.doubleValue)!==void 0?{doubleValue:(0,h.limitedParseDouble)(e.doubleValue)}:(0,h.expectBoolean)(e.isNull)!==void 0?{isNull:(0,h.expectBoolean)(e.isNull)}:(0,h.expectLong)(e.longValue)!==void 0?{longValue:(0,h.expectLong)(e.longValue)}:(0,h.expectString)(e.stringValue)!==void 0?{stringValue:(0,h.expectString)(e.stringValue)}:{$unknown:Object.entries(e)[0]},hv=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>$ae((0,aa.awsExpectUnion)(n),t)),Hae=(e,t)=>(0,h.take)(e,{values:r=>Bae(r,t)}),zae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hae(n,t)),Vae=(e,t)=>(0,h.take)(e,{records:r=>zae(r,t),resultSetMetadata:h._json}),Bae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Pk((0,aa.awsExpectUnion)(n),t)),Wae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>hv(n,t)),Gae=(e,t)=>(0,h.take)(e,{numberOfRecordsUpdated:h.expectLong,resultFrame:r=>Vae(r,t)}),Yae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Gae(n,t)),Kae=(e,t)=>(0,h.take)(e,{attributes:r=>Ck(r,t)}),Jae=(e,t)=>(0,h.take)(e,{generatedFields:r=>hv(r,t)}),Xae=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Jae(n,t)),Pk=(e,t)=>e.arrayValues!=null?{arrayValues:Ck(e.arrayValues,t)}:(0,h.expectLong)(e.bigIntValue)!==void 0?{bigIntValue:(0,h.expectLong)(e.bigIntValue)}:(0,h.expectBoolean)(e.bitValue)!==void 0?{bitValue:(0,h.expectBoolean)(e.bitValue)}:e.blobValue!=null?{blobValue:t.base64Decoder(e.blobValue)}:(0,h.limitedParseDouble)(e.doubleValue)!==void 0?{doubleValue:(0,h.limitedParseDouble)(e.doubleValue)}:(0,h.expectInt32)(e.intValue)!==void 0?{intValue:(0,h.expectInt32)(e.intValue)}:(0,h.expectBoolean)(e.isNull)!==void 0?{isNull:(0,h.expectBoolean)(e.isNull)}:(0,h.limitedParseFloat32)(e.realValue)!==void 0?{realValue:(0,h.limitedParseFloat32)(e.realValue)}:(0,h.expectString)(e.stringValue)!==void 0?{stringValue:(0,h.expectString)(e.stringValue)}:e.structValue!=null?{structValue:Kae(e.structValue,t)}:{$unknown:Object.entries(e)[0]},We=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Qae=(e,t)=>(0,h.collectBody)(e,t).then(r=>t.utf8Encoder(r)),bn=(e,t)=>Qae(e,t).then(r=>r.length?JSON.parse(r):{}),ws=async(e,t)=>{let r=await bn(e,t);return r.message=r.message??r.Message,r},bs=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var vv=u(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.BatchExecuteStatementCommand=Cs.$Command=void 0;var Zae=j(),ece=Y(),Rk=M();Object.defineProperty(Cs,"$Command",{enumerable:!0,get:function(){return Rk.Command}});var tce=U(),xk=Cn(),yv=class e extends Rk.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ece.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Zae.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"BatchExecuteStatementCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[tce.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BatchExecuteStatement"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,xk.se_BatchExecuteStatementCommand)(t,r)}deserialize(t,r){return(0,xk.de_BatchExecuteStatementCommand)(t,r)}};Cs.BatchExecuteStatementCommand=yv});var Ev=u(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.BeginTransactionCommand=Ps.$Command=void 0;var rce=j(),nce=Y(),Ok=M();Object.defineProperty(Ps,"$Command",{enumerable:!0,get:function(){return Ok.Command}});var oce=U(),Tk=Cn(),Sv=class e extends Ok.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,nce.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rce.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"BeginTransactionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[oce.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BeginTransaction"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Tk.se_BeginTransactionCommand)(t,r)}deserialize(t,r){return(0,Tk.de_BeginTransactionCommand)(t,r)}};Ps.BeginTransactionCommand=Sv});var bv=u(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.CommitTransactionCommand=xs.$Command=void 0;var sce=j(),ice=Y(),Ik=M();Object.defineProperty(xs,"$Command",{enumerable:!0,get:function(){return Ik.Command}});var ace=U(),Ak=Cn(),wv=class e extends Ik.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ice.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,sce.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"CommitTransactionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[ace.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"CommitTransaction"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Ak.se_CommitTransactionCommand)(t,r)}deserialize(t,r){return(0,Ak.de_CommitTransactionCommand)(t,r)}};xs.CommitTransactionCommand=wv});var Pv=u(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ExecuteSqlCommand=Rs.$Command=void 0;var cce=j(),dce=Y(),Dk=M();Object.defineProperty(Rs,"$Command",{enumerable:!0,get:function(){return Dk.Command}});var lce=U(),Nk=Cn(),Cv=class e extends Dk.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,dce.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,cce.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"ExecuteSqlCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[lce.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteSql"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Nk.se_ExecuteSqlCommand)(t,r)}deserialize(t,r){return(0,Nk.de_ExecuteSqlCommand)(t,r)}};Rs.ExecuteSqlCommand=Cv});var Rv=u(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.ExecuteStatementCommand=Ts.$Command=void 0;var uce=j(),pce=Y(),Mk=M();Object.defineProperty(Ts,"$Command",{enumerable:!0,get:function(){return Mk.Command}});var fce=U(),qk=Cn(),xv=class e extends Mk.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,pce.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,uce.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"ExecuteStatementCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[fce.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteStatement"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,qk.se_ExecuteStatementCommand)(t,r)}deserialize(t,r){return(0,qk.de_ExecuteStatementCommand)(t,r)}};Ts.ExecuteStatementCommand=xv});var Ov=u(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.RollbackTransactionCommand=Os.$Command=void 0;var mce=j(),_ce=Y(),Fk=M();Object.defineProperty(Os,"$Command",{enumerable:!0,get:function(){return Fk.Command}});var gce=U(),kk=Cn(),Tv=class e extends Fk.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,_ce.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,mce.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"RollbackTransactionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[gce.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"RollbackTransaction"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,kk.se_RollbackTransactionCommand)(t,r)}deserialize(t,r){return(0,kk.de_RollbackTransactionCommand)(t,r)}};Os.RollbackTransactionCommand=Tv});var Uk=u(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.RDSData=void 0;var hce=M(),yce=vv(),vce=Ev(),Sce=bv(),Ece=Pv(),wce=Rv(),bce=Ov(),Cce=av(),Pce={BatchExecuteStatementCommand:yce.BatchExecuteStatementCommand,BeginTransactionCommand:vce.BeginTransactionCommand,CommitTransactionCommand:Sce.CommitTransactionCommand,ExecuteSqlCommand:Ece.ExecuteSqlCommand,ExecuteStatementCommand:wce.ExecuteStatementCommand,RollbackTransactionCommand:bce.RollbackTransactionCommand},Gp=class extends Cce.RDSDataClient{};Yp.RDSData=Gp;(0,hce.createAggregatedClient)(Pce,Gp)});var jk=u(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var As=(R(),P(x));As.__exportStar(vv(),Yr);As.__exportStar(Ev(),Yr);As.__exportStar(bv(),Yr);As.__exportStar(Pv(),Yr);As.__exportStar(Rv(),Yr);As.__exportStar(Ov(),Yr)});var Lk=u(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});var xce=(R(),P(x));xce.__exportStar(gv(),Av)});var $k=u(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.RDSDataServiceException=void 0;var Kp=(R(),P(x));Kp.__exportStar(av(),Kr);Kp.__exportStar(Uk(),Kr);Kp.__exportStar(jk(),Kr);Kp.__exportStar(Lk(),Kr);tc();var Rce=Wp();Object.defineProperty(Kr,"RDSDataServiceException",{enumerable:!0,get:function(){return Rce.RDSDataServiceException}})});var Jp=u(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.DEFAULT_RETRY_MODE=ur.DEFAULT_MAX_ATTEMPTS=ur.RETRY_MODES=void 0;var Hk;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Hk=ur.RETRY_MODES||(ur.RETRY_MODES={}));ur.DEFAULT_MAX_ATTEMPTS=3;ur.DEFAULT_RETRY_MODE=Hk.STANDARD});var zk=u(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.NODEJS_TIMEOUT_ERROR_CODES=ht.TRANSIENT_ERROR_STATUS_CODES=ht.TRANSIENT_ERROR_CODES=ht.THROTTLING_ERROR_CODES=ht.CLOCK_SKEW_ERROR_CODES=void 0;ht.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];ht.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];ht.TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"];ht.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];ht.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var la=u(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.isServerError=Ge.isTransientError=Ge.isThrottlingError=Ge.isClockSkewError=Ge.isRetryableByTrait=void 0;var da=zk(),Tce=e=>e.$retryable!==void 0;Ge.isRetryableByTrait=Tce;var Oce=e=>da.CLOCK_SKEW_ERROR_CODES.includes(e.name);Ge.isClockSkewError=Oce;var Ace=e=>{var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||da.THROTTLING_ERROR_CODES.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0};Ge.isThrottlingError=Ace;var Ice=e=>{var t;return da.TRANSIENT_ERROR_CODES.includes(e.name)||da.NODEJS_TIMEOUT_ERROR_CODES.includes(e?.code||"")||da.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};Ge.isTransientError=Ice;var Nce=e=>{var t;if(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,Ge.isTransientError)(e)}return!1};Ge.isServerError=Nce});var Nv=u(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.DefaultRateLimiter=void 0;var Dce=la(),Iv=class{constructor(t){var r,n,o,s,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=t?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=t?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(o=t?.minFillRate)!==null&&o!==void 0?o:.5,this.scaleConstant=(s=t?.scaleConstant)!==null&&s!==void 0?s:.4,this.smooth=(i=t?.smooth)!==null&&i!==void 0?i:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Dce.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Xp.DefaultRateLimiter=Iv});var Is=u(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.REQUEST_HEADER=fe.INVOCATION_ID_HEADER=fe.NO_RETRY_INCREMENT=fe.TIMEOUT_RETRY_COST=fe.RETRY_COST=fe.INITIAL_RETRY_TOKENS=fe.THROTTLING_RETRY_DELAY_BASE=fe.MAXIMUM_RETRY_DELAY=fe.DEFAULT_RETRY_DELAY_BASE=void 0;fe.DEFAULT_RETRY_DELAY_BASE=100;fe.MAXIMUM_RETRY_DELAY=20*1e3;fe.THROTTLING_RETRY_DELAY_BASE=500;fe.INITIAL_RETRY_TOKENS=500;fe.RETRY_COST=5;fe.TIMEOUT_RETRY_COST=10;fe.NO_RETRY_INCREMENT=1;fe.INVOCATION_ID_HEADER="amz-sdk-invocation-id";fe.REQUEST_HEADER="amz-sdk-request"});var Bk=u(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.getDefaultRetryBackoffStrategy=void 0;var Vk=Is(),qce=()=>{let e=Vk.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Vk.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};Qp.getDefaultRetryBackoffStrategy=qce});var Wk=u(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.createDefaultRetryToken=void 0;var Mce=Is(),kce=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Mce.MAXIMUM_RETRY_DELAY,e),getRetryCost:()=>r});Zp.createDefaultRetryToken=kce});var tf=u(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.StandardRetryStrategy=void 0;var Dv=Jp(),Jr=Is(),Fce=Bk(),Gk=Wk(),qv=class{constructor(t){this.maxAttempts=t,this.mode=Dv.RETRY_MODES.STANDARD,this.capacity=Jr.INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=(0,Fce.getDefaultRetryBackoffStrategy)(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return(0,Gk.createDefaultRetryToken)({retryDelay:Jr.DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Jr.THROTTLING_RETRY_DELAY_BASE:Jr.DEFAULT_RETRY_DELAY_BASE);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,(0,Gk.createDefaultRetryToken)({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){var r;this.capacity=Math.max(Jr.INITIAL_RETRY_TOKENS,this.capacity+((r=t.getRetryCost())!==null&&r!==void 0?r:Jr.NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Dv.DEFAULT_MAX_ATTEMPTS}`),Dv.DEFAULT_MAX_ATTEMPTS}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Jr.TIMEOUT_RETRY_COST:Jr.RETRY_COST}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};ef.StandardRetryStrategy=qv});var Yk=u(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.AdaptiveRetryStrategy=void 0;var Uce=Jp(),jce=Nv(),Lce=tf(),Mv=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Uce.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new jce.DefaultRateLimiter,this.standardRetryStrategy=new Lce.StandardRetryStrategy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};rf.AdaptiveRetryStrategy=Mv});var Kk=u(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.ConfiguredRetryStrategy=void 0;var $ce=Is(),Hce=tf(),kv=class extends Hce.StandardRetryStrategy{constructor(t,r=$ce.DEFAULT_RETRY_DELAY_BASE){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};nf.ConfiguredRetryStrategy=kv});var Xk=u(Jk=>{"use strict";Object.defineProperty(Jk,"__esModule",{value:!0})});var Xr=u(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});var Pn=(R(),P(x));Pn.__exportStar(Yk(),pr);Pn.__exportStar(Kk(),pr);Pn.__exportStar(Nv(),pr);Pn.__exportStar(tf(),pr);Pn.__exportStar(Jp(),pr);Pn.__exportStar(Is(),pr);Pn.__exportStar(Xk(),pr)});var Zk=u(Qk=>{"use strict";Object.defineProperty(Qk,"__esModule",{value:!0})});var eF=u(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.HttpAuthLocation=void 0;var zce;(function(e){e.HEADER="header",e.QUERY="query"})(zce=ua.HttpAuthLocation||(ua.HttpAuthLocation={}))});var rF=u(tF=>{"use strict";Object.defineProperty(tF,"__esModule",{value:!0})});var oF=u(nF=>{"use strict";Object.defineProperty(nF,"__esModule",{value:!0})});var iF=u(sF=>{"use strict";Object.defineProperty(sF,"__esModule",{value:!0})});var cF=u(aF=>{"use strict";Object.defineProperty(aF,"__esModule",{value:!0})});var lF=u(dF=>{"use strict";Object.defineProperty(dF,"__esModule",{value:!0})});var pF=u(uF=>{"use strict";Object.defineProperty(uF,"__esModule",{value:!0})});var mF=u(fF=>{"use strict";Object.defineProperty(fF,"__esModule",{value:!0})});var _F=u(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var Fv=(R(),P(x));Fv.__exportStar(lF(),pa);Fv.__exportStar(pF(),pa);Fv.__exportStar(mF(),pa)});var hF=u(gF=>{"use strict";Object.defineProperty(gF,"__esModule",{value:!0})});var vF=u(yF=>{"use strict";Object.defineProperty(yF,"__esModule",{value:!0})});var SF=u(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.EndpointURLScheme=void 0;var Vce;(function(e){e.HTTP="http",e.HTTPS="https"})(Vce=fa.EndpointURLScheme||(fa.EndpointURLScheme={}))});var wF=u(EF=>{"use strict";Object.defineProperty(EF,"__esModule",{value:!0})});var CF=u(bF=>{"use strict";Object.defineProperty(bF,"__esModule",{value:!0})});var xF=u(PF=>{"use strict";Object.defineProperty(PF,"__esModule",{value:!0})});var TF=u(RF=>{"use strict";Object.defineProperty(RF,"__esModule",{value:!0})});var AF=u(OF=>{"use strict";Object.defineProperty(OF,"__esModule",{value:!0})});var IF=u(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var ma=(R(),P(x));ma.__exportStar(wF(),xn);ma.__exportStar(CF(),xn);ma.__exportStar(xF(),xn);ma.__exportStar(TF(),xn);ma.__exportStar(AF(),xn)});var DF=u(NF=>{"use strict";Object.defineProperty(NF,"__esModule",{value:!0})});var qF=u(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.FieldPosition=void 0;var Bce;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Bce=_a.FieldPosition||(_a.FieldPosition={}))});var kF=u(MF=>{"use strict";Object.defineProperty(MF,"__esModule",{value:!0})});var UF=u(FF=>{"use strict";Object.defineProperty(FF,"__esModule",{value:!0})});var LF=u(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var jF=(R(),P(x));jF.__exportStar(kF(),of);jF.__exportStar(UF(),of)});var HF=u($F=>{"use strict";Object.defineProperty($F,"__esModule",{value:!0})});var VF=u(zF=>{"use strict";Object.defineProperty(zF,"__esModule",{value:!0})});var WF=u(BF=>{"use strict";Object.defineProperty(BF,"__esModule",{value:!0})});var YF=u(GF=>{"use strict";Object.defineProperty(GF,"__esModule",{value:!0})});var JF=u(KF=>{"use strict";Object.defineProperty(KF,"__esModule",{value:!0})});var QF=u(XF=>{"use strict";Object.defineProperty(XF,"__esModule",{value:!0})});var eU=u(ZF=>{"use strict";Object.defineProperty(ZF,"__esModule",{value:!0})});var rU=u(tU=>{"use strict";Object.defineProperty(tU,"__esModule",{value:!0})});var oU=u(nU=>{"use strict";Object.defineProperty(nU,"__esModule",{value:!0})});var iU=u(sU=>{"use strict";Object.defineProperty(sU,"__esModule",{value:!0})});var cU=u(aU=>{"use strict";Object.defineProperty(aU,"__esModule",{value:!0})});var lU=u(dU=>{"use strict";Object.defineProperty(dU,"__esModule",{value:!0})});var pU=u(uU=>{"use strict";Object.defineProperty(uU,"__esModule",{value:!0})});var fU=u(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.RequestHandlerProtocol=void 0;var Wce;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Wce=ga.RequestHandlerProtocol||(ga.RequestHandlerProtocol={}))});var _U=u(mU=>{"use strict";Object.defineProperty(mU,"__esModule",{value:!0})});var hU=u(gU=>{"use strict";Object.defineProperty(gU,"__esModule",{value:!0})});var vU=u(yU=>{"use strict";Object.defineProperty(yU,"__esModule",{value:!0})});var EU=u(SU=>{"use strict";Object.defineProperty(SU,"__esModule",{value:!0})});var bU=u(wU=>{"use strict";Object.defineProperty(wU,"__esModule",{value:!0})});var CU=u($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});var V=(R(),P(x));V.__exportStar(Zk(),$);V.__exportStar(eF(),$);V.__exportStar(rF(),$);V.__exportStar(oF(),$);V.__exportStar(iF(),$);V.__exportStar(cF(),$);V.__exportStar(_F(),$);V.__exportStar(hF(),$);V.__exportStar(vF(),$);V.__exportStar(SF(),$);V.__exportStar(IF(),$);V.__exportStar(DF(),$);V.__exportStar(qF(),$);V.__exportStar(LF(),$);V.__exportStar(HF(),$);V.__exportStar(VF(),$);V.__exportStar(WF(),$);V.__exportStar(YF(),$);V.__exportStar(JF(),$);V.__exportStar(QF(),$);V.__exportStar(eU(),$);V.__exportStar(rU(),$);V.__exportStar(oU(),$);V.__exportStar(iU(),$);V.__exportStar(cU(),$);V.__exportStar(lU(),$);V.__exportStar(pU(),$);V.__exportStar(fU(),$);V.__exportStar(_U(),$);V.__exportStar(hU(),$);V.__exportStar(vU(),$);V.__exportStar(EU(),$);V.__exportStar(bU(),$)});var PU=u(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.Field=void 0;var Gce=CU(),Uv=class{constructor({name:t,kind:r=Gce.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};sf.Field=Uv});var xU=u(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.Fields=void 0;var jv=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};af.Fields=jv});var TU=u(RU=>{"use strict";Object.defineProperty(RU,"__esModule",{value:!0})});var OU=u(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.HttpRequest=void 0;var Lv=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new e({...this,headers:{...this.headers}});return t.query&&(t.query=Yce(t.query)),t}};cf.HttpRequest=Lv;function Yce(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var AU=u(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.HttpResponse=void 0;var $v=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};df.HttpResponse=$v});var IU=u(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.isValidHostname=void 0;function Kce(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}lf.isValidHostname=Kce});var DU=u(NU=>{"use strict";Object.defineProperty(NU,"__esModule",{value:!0})});var uf=u(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var Rn=(R(),P(x));Rn.__exportStar(PU(),fr);Rn.__exportStar(xU(),fr);Rn.__exportStar(TU(),fr);Rn.__exportStar(OU(),fr);Rn.__exportStar(AU(),fr);Rn.__exportStar(IU(),fr);Rn.__exportStar(DU(),fr)});import Jce from"crypto";function ha(){return pf>ff.length-16&&(Jce.randomFillSync(ff),pf=0),ff.slice(pf,pf+=16)}var ff,pf,Hv=B(()=>{ff=new Uint8Array(256),pf=ff.length});var qU,MU=B(()=>{qU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Xce(e){return typeof e=="string"&&qU.test(e)}var Qr,ya=B(()=>{MU();Qr=Xce});function Qce(e,t=0){let r=(be[e[t+0]]+be[e[t+1]]+be[e[t+2]]+be[e[t+3]]+"-"+be[e[t+4]]+be[e[t+5]]+"-"+be[e[t+6]]+be[e[t+7]]+"-"+be[e[t+8]]+be[e[t+9]]+"-"+be[e[t+10]]+be[e[t+11]]+be[e[t+12]]+be[e[t+13]]+be[e[t+14]]+be[e[t+15]]).toLowerCase();if(!Qr(r))throw TypeError("Stringified UUID is invalid");return r}var be,Zr,va=B(()=>{ya();be=[];for(let e=0;e<256;++e)be.push((e+256).toString(16).substr(1));Zr=Qce});function Zce(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||kU,i=e.clockseq!==void 0?e.clockseq:zv;if(s==null||i==null){let m=e.random||(e.rng||ha)();s==null&&(s=kU=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),i==null&&(i=zv=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Bv+1,d=a-Vv+(c-Bv)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>Vv)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Vv=a,Bv=c,zv=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let m=0;m<6;++m)o[n+m]=s[m];return t||Zr(o)}var kU,zv,Vv,Bv,FU,UU=B(()=>{Hv();va();Vv=0,Bv=0;FU=Zce});function ede(e){if(!Qr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var mf,Wv=B(()=>{ya();mf=ede});function tde(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function _f(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=tde(o)),typeof s=="string"&&(s=mf(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Zr(c)}try{n.name=e}catch{}return n.DNS=rde,n.URL=nde,n}var rde,nde,Gv=B(()=>{va();Wv();rde="6ba7b810-9dad-11d1-80b4-00c04fd430c8",nde="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import ode from"crypto";function sde(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ode.createHash("md5").update(e).digest()}var jU,LU=B(()=>{jU=sde});var ide,$U,HU=B(()=>{Gv();LU();ide=_f("v3",48,jU),$U=ide});function ade(e,t,r){e=e||{};let n=e.random||(e.rng||ha)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Zr(n)}var zU,VU=B(()=>{Hv();va();zU=ade});import cde from"crypto";function dde(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),cde.createHash("sha1").update(e).digest()}var BU,WU=B(()=>{BU=dde});var lde,GU,YU=B(()=>{Gv();WU();lde=_f("v5",80,BU),GU=lde});var KU,JU=B(()=>{KU="00000000-0000-0000-0000-000000000000"});function ude(e){if(!Qr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var XU,QU=B(()=>{ya();XU=ude});var Yv={};Pf(Yv,{NIL:()=>KU,parse:()=>mf,stringify:()=>Zr,v1:()=>FU,v3:()=>$U,v4:()=>zU,v5:()=>GU,validate:()=>Qr,version:()=>XU});var Kv=B(()=>{UU();HU();VU();YU();JU();QU();ya();va();Wv()});var ZU=u(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.getDefaultRetryQuota=void 0;var Jv=Xr(),pde=(e,t)=>{var r,n,o;let s=e,i=(r=t?.noRetryIncrement)!==null&&r!==void 0?r:Jv.NO_RETRY_INCREMENT,a=(n=t?.retryCost)!==null&&n!==void 0?n:Jv.RETRY_COST,c=(o=t?.timeoutRetryCost)!==null&&o!==void 0?o:Jv.TIMEOUT_RETRY_COST,d=e,l=_=>_.name==="TimeoutError"?c:a,p=_=>l(_)<=d;return Object.freeze({hasRetryTokens:p,retrieveRetryTokens:_=>{if(!p(_))throw new Error("No retry token available");let y=l(_);return d-=y,y},releaseRetryTokens:_=>{d+=_??i,d=Math.min(d,s)}})};gf.getDefaultRetryQuota=pde});var Xv=u(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.defaultDelayDecider=void 0;var fde=Xr(),mde=(e,t)=>Math.floor(Math.min(fde.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));hf.defaultDelayDecider=mde});var Qv=u(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.defaultRetryDecider=void 0;var yf=la(),_de=e=>e?(0,yf.isRetryableByTrait)(e)||(0,yf.isClockSkewError)(e)||(0,yf.isThrottlingError)(e)||(0,yf.isTransientError)(e):!1;vf.defaultRetryDecider=_de});var Zv=u(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.asSdkError=void 0;var gde=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);Sf.asSdkError=gde});var rS=u(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.StandardRetryStrategy=void 0;var eS=uf(),hde=la(),Tn=Xr(),yde=(Kv(),P(Yv)),vde=ZU(),Sde=Xv(),Ede=Qv(),wde=Zv(),tS=class{constructor(t,r){var n,o,s;this.maxAttemptsProvider=t,this.mode=Tn.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:Ede.defaultRetryDecider,this.delayDecider=(o=r?.delayDecider)!==null&&o!==void 0?o:Sde.defaultDelayDecider,this.retryQuota=(s=r?.retryQuota)!==null&&s!==void 0?s:(0,vde.getDefaultRetryQuota)(Tn.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Tn.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(eS.HttpRequest.isInstance(c)&&(c.headers[Tn.INVOCATION_ID_HEADER]=(0,yde.v4)());;)try{eS.HttpRequest.isInstance(c)&&(c.headers[Tn.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:l}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:d,output:l}}catch(d){let l=(0,wde.asSdkError)(d);if(s++,this.shouldRetry(l,s,a)){o=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,hde.isThrottlingError)(l)?Tn.THROTTLING_RETRY_DELAY_BASE:Tn.DEFAULT_RETRY_DELAY_BASE,s),m=bde(l.$response),f=Math.max(m||0,p);i+=f,await new Promise(_=>setTimeout(_,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}};Ef.StandardRetryStrategy=tS;var bde=e=>{if(!eS.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var tj=u(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.AdaptiveRetryStrategy=void 0;var ej=Xr(),Cde=rS(),nS=class extends Cde.StandardRetryStrategy{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new ej.DefaultRateLimiter,this.mode=ej.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};wf.AdaptiveRetryStrategy=nS});var rj=u(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.normalizeProvider=void 0;var Pde=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};bf.normalizeProvider=Pde});var nj=u(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});var xde=(R(),P(x));xde.__exportStar(rj(),oS)});var sj=u(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.NODE_RETRY_MODE_CONFIG_OPTIONS=ie.CONFIG_RETRY_MODE=ie.ENV_RETRY_MODE=ie.resolveRetryConfig=ie.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=ie.CONFIG_MAX_ATTEMPTS=ie.ENV_MAX_ATTEMPTS=void 0;var oj=nj(),Ns=Xr();ie.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";ie.CONFIG_MAX_ATTEMPTS="max_attempts";ie.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[ie.ENV_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ie.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ie.CONFIG_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ie.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},default:Ns.DEFAULT_MAX_ATTEMPTS};var Rde=e=>{var t;let{retryStrategy:r}=e,n=(0,oj.normalizeProvider)((t=e.maxAttempts)!==null&&t!==void 0?t:Ns.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:n,retryStrategy:async()=>r||(await(0,oj.normalizeProvider)(e.retryMode)()===Ns.RETRY_MODES.ADAPTIVE?new Ns.AdaptiveRetryStrategy(n):new Ns.StandardRetryStrategy(n))}};ie.resolveRetryConfig=Rde;ie.ENV_RETRY_MODE="AWS_RETRY_MODE";ie.CONFIG_RETRY_MODE="retry_mode";ie.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[ie.ENV_RETRY_MODE],configFileSelector:e=>e[ie.CONFIG_RETRY_MODE],default:Ns.DEFAULT_RETRY_MODE}});var aj=u(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getOmitRetryHeadersPlugin=Gt.omitRetryHeadersMiddlewareOptions=Gt.omitRetryHeadersMiddleware=void 0;var Tde=uf(),ij=Xr(),Ode=()=>e=>async t=>{let{request:r}=t;return Tde.HttpRequest.isInstance(r)&&(delete r.headers[ij.INVOCATION_ID_HEADER],delete r.headers[ij.REQUEST_HEADER]),e(t)};Gt.omitRetryHeadersMiddleware=Ode;Gt.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var Ade=e=>({applyToStack:t=>{t.addRelativeTo((0,Gt.omitRetryHeadersMiddleware)(),Gt.omitRetryHeadersMiddlewareOptions)}});Gt.getOmitRetryHeadersPlugin=Ade});var dj=u(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getRetryAfterHint=Ye.getRetryPlugin=Ye.retryMiddlewareOptions=Ye.retryMiddleware=void 0;var iS=uf(),sS=la(),cj=Xr(),Ide=(Kv(),P(Yv)),Nde=Zv(),Dde=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(qde(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(iS.HttpRequest.isInstance(l)&&(l.headers[cj.INVOCATION_ID_HEADER]=(0,Ide.v4)());;)try{iS.HttpRequest.isInstance(l)&&(l.headers[cj.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:p,output:m}=await t(n);return o.recordSuccess(i),m.$metadata.attempts=c+1,m.$metadata.totalRetryDelay=d,{response:p,output:m}}catch(p){let m=Mde(p);a=(0,Nde.asSdkError)(p);try{i=await o.refreshRetryTokenForRetry(i,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let f=i.getRetryDelay();d+=f,await new Promise(_=>setTimeout(_,f))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)};Ye.retryMiddleware=Dde;var qde=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Mde=e=>{let t={errorType:kde(e)},r=(0,Ye.getRetryAfterHint)(e.$response);return r&&(t.retryAfterHint=r),t},kde=e=>(0,sS.isThrottlingError)(e)?"THROTTLING":(0,sS.isTransientError)(e)?"TRANSIENT":(0,sS.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR";Ye.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var Fde=e=>({applyToStack:t=>{t.add((0,Ye.retryMiddleware)(e),Ye.retryMiddlewareOptions)}});Ye.getRetryPlugin=Fde;var Ude=e=>{if(!iS.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ye.getRetryAfterHint=Ude});var lj=u(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});var On=(R(),P(x));On.__exportStar(tj(),mr);On.__exportStar(rS(),mr);On.__exportStar(sj(),mr);On.__exportStar(Xv(),mr);On.__exportStar(aj(),mr);On.__exportStar(Qv(),mr);On.__exportStar(dj(),mr)});var uj=u(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});var jde=(R(),P(x));jde.__exportStar(lj(),aS)});var en=fS($k(),1);var pj=fS(uj(),1);var Lde=(()=>{let e=0;return()=>{let t=Date.now();t-e>5e3&&(console.log("Waiting for internet connection..."),e=t)}})(),Cf=(e,t)=>new e({region:t?.region??process.env.SST_AWS_REGION,credentials:process.env.SST_AWS_ACCESS_KEY_ID?{accessKeyId:process.env.SST_AWS_ACCESS_KEY_ID,sessionToken:process.env.SST_AWS_SESSION_TOKEN,secretAccessKey:process.env.SST_AWS_SECRET_ACCESS_KEY}:void 0,retryStrategy:new pj.StandardRetryStrategy(async()=>1e4,{retryDecider:r=>r.code==="ENOTFOUND"?(Lde(),!0):!!["ThrottlingException","Throttling","TooManyRequestsException","OperationAbortedException","TimeoutError","NetworkingError",...t?.retrableErrors??[]].includes(r.name),delayDecider:(r,n)=>Math.min(1.5**n*100,5e3),retryQuota:{hasRetryTokens:()=>!0,releaseRetryTokens:()=>{},retrieveRetryTokens:()=>1}})});var{CLUSTER_ARN:cS,SECRET_ARN:dS,DATABASE_NAME:lS,TABLE_NAME:uS}=process.env;async function Bve(e){let t=JSON.stringify(e.metadata);await Cf(en.RDSDataClient).send(new en.ExecuteStatementCommand({resourceArn:cS,secretArn:dS,database:lS,sql:[`INSERT INTO ${uS} (embedding, metadata)`,`VALUES (ARRAY[${e.vector.join(",")}], :metadata)`].join(" "),parameters:[{name:"metadata",value:{stringValue:t},typeHint:"JSON"}]}))}async function Wve(e){let t=JSON.stringify(e.include),r=JSON.stringify(e.exclude),n=e.threshold??0,o=e.count??10;return{results:(await Cf(en.RDSDataClient).send(new en.ExecuteStatementCommand({resourceArn:cS,secretArn:dS,database:lS,sql:["SELECT metadata, embedding <=> string_to_array(:vector, ',')::float[]::vector AS score",`FROM ${uS}`,`WHERE embedding <=> string_to_array(:vector, ',')::float[]::vector < ${1-n}`,"AND metadata @> :include",`${r?"AND NOT metadata @> :exclude":""}`,"ORDER BY score",`LIMIT ${o}`].join(" "),parameters:[{name:"vector",value:{stringValue:e.vector.join(",")}},{name:"include",value:{stringValue:t},typeHint:"JSON"},...r?[{name:"exclude",value:{stringValue:r},typeHint:"JSON"}]:[]]}))).records?.map(i=>({metadata:JSON.parse(i[0].stringValue),score:1-i[1].doubleValue}))}}async function Gve(e){let t=JSON.stringify(e.include);await Cf(en.RDSDataClient).send(new en.ExecuteStatementCommand({resourceArn:cS,secretArn:dS,database:lS,sql:`DELETE FROM ${uS} WHERE metadata @> :include`,parameters:[{name:"include",value:{stringValue:t},typeHint:"JSON"}]}))}export{Bve as put,Wve as query,Gve as remove};
